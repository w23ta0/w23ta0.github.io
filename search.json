[{"categories":["äººå·¥æ™ºèƒ½","ç¼–ç å·¥å…·"],"content":"åœ¨ä»£ç ç¼–è¾‘å™¨ä¸AIæŠ€æœ¯æ·±åº¦èåˆçš„ä»Šå¤©ï¼ŒCursor 0.48ç‰ˆæœ¬ä»¥å¤šä»»åŠ¡å¹¶è¡Œå¤„ç†ã€ä¸ªæ€§åŒ–äº¤äº’ä¸ºæ ¸å¿ƒï¼Œé€šè¿‡ä¸€ç³»åˆ—åˆ›æ–°åŠŸèƒ½é‡æ–°å®šä¹‰äº†å¼€å‘è€…çš„å·¥ä½œæµã€‚æœ¬æ–‡å°†ä»åŠŸèƒ½é©æ–°ã€ç”¨æˆ·ä½“éªŒä¼˜åŒ–åŠæœªæ¥æ½œåŠ›ä¸‰ä¸ªç»´åº¦ï¼Œæ·±åº¦è§£æè¿™ä¸€ç‰ˆæœ¬çš„çªç ´æ€§ä»·å€¼ã€‚ æ ¸å¿ƒåŠŸèƒ½é©æ–°ï¼šæ•ˆç‡è·ƒè¿çš„å…³é”® 1. èŠå¤©æ ‡ç­¾ï¼šå¹¶è¡Œä»»åŠ¡çš„é©å‘½æ€§çªç ´ å¤šçº¿ç¨‹å·¥ä½œæµï¼šé€šè¿‡å¿«æ·é”® âŒ˜N å¯å¿«é€Ÿåˆ›å»ºç‹¬ç«‹èŠå¤©æ ‡ç­¾ï¼Œå®ç°ä»£ç é‡æ„ã€APIæŸ¥è¯¢ç­‰ä»»åŠ¡çš„å¹¶è¡Œå¤„ç†ã€‚ä¾‹å¦‚ï¼Œå¯åŒæ—¶åœ¨æ ‡ç­¾Aè®©AIä¼˜åŒ–ç®—æ³•ï¼Œæ ‡ç­¾Bè¯¢é—®å•å…ƒæµ‹è¯•å»ºè®®ã€‚ å¯è§†åŒ–ç®¡ç†ï¼šæ ‡ç­¾ä¸Šçš„æ©™è‰²åœ†ç‚¹æç¤ºæœºåˆ¶ï¼Œç¡®ä¿å¼€å‘è€…èƒ½ç›´è§‚æ•æ‰ä»»åŠ¡è¿›å±•ï¼Œé¿å…ä¸Šä¸‹æ–‡åˆ‡æ¢å¹²æ‰°ã€‚ åœºæ™¯ä»·å€¼ï¼šå¯¹äºéœ€è¦é¢‘ç¹åˆ‡æ¢ä»»åŠ¡çš„å…¨æ ˆå¼€å‘è€…ï¼Œæ•ˆç‡æå‡å¯è¾¾30%ä»¥ä¸Šï¼ˆåŸºäºCursorå®˜æ–¹æµ‹è¯•æ•°æ®ï¼‰ã€‚ 2. æ¨¡å¼ç³»ç»Ÿ2.0ï¼šä»æ ‡å‡†åŒ–åˆ°ä¸ªæ€§åŒ– æ¨¡å¼é‡æ„ï¼š Askæ¨¡å¼ï¼šé»˜è®¤é›†æˆä»£ç åº“æœç´¢åŠŸèƒ½ï¼Œ@CodebaseæŒ‡ä»¤è¢«è‡ªç„¶è¯­è¨€æŸ¥è¯¢å–ä»£ Manualæ¨¡å¼ï¼ˆåŸEditæ¨¡å¼ï¼‰ï¼šä¸“æ³¨æ‰‹åŠ¨æ§åˆ¶çš„ç²¾å‡†äº¤äº’åœºæ™¯ Agentæ¨¡å¼ï¼šæŒç»­ä¿ç•™çš„è‡ªåŠ¨åŒ–ä»»åŠ¡å¤„ç†å…¥å£ è‡ªå®šä¹‰æ¨¡å¼ï¼ˆBetaï¼‰ï¼šå¼€å‘è€…å¯åˆ›å»ºä¸“å±æ¨¡å¼ï¼Œä¾‹å¦‚ï¼š è®¾å®šä¸“å±å¿«æ·é”®ï¼ˆå¦‚âŒ˜Kè§¦å‘æµ‹è¯•æ¨¡å¼ï¼‰ é…ç½®ç‰¹å®šå·¥å…·ç»„åˆï¼ˆå¦‚ç¦ç”¨æœç´¢çš„\"ä¸“æ³¨ç¼–ç æ¨¡å¼\"ï¼‰ é€šè¿‡Settings â†’ Features â†’ Chat â†’ Custom modesè¿›è¡Œé…ç½® å¿«æ·é”®é€‚é…ï¼šé»˜è®¤æ¨¡å¼ç»‘å®šâŒ˜Iï¼Œæ”¯æŒä¾§è¾¹æ å¿«é€Ÿåˆ‡æ¢ 3. å£°éŸ³é€šçŸ¥ï¼šæ³¨æ„åŠ›ç®¡ç†çš„æ™ºèƒ½åŠ©æ‰‹ åœºæ™¯ç—›ç‚¹è§£å†³ï¼šå½“AIä»»åŠ¡å®Œæˆæ—¶ï¼Œç³»ç»Ÿé€šè¿‡å£°éŸ³æç¤ºï¼ˆè®¾ç½®è·¯å¾„ï¼šSettings â†’ Features â†’ Chat â†’ Play sound on finishï¼‰ä¸»åŠ¨é€šçŸ¥å¼€å‘è€… ç”¨æˆ·ä»·å€¼ï¼šå‡å°‘å¼€å‘è€…å› ç­‰å¾…ä»»åŠ¡è€Œè¿›è¡Œçš„æ— æ„ä¹‰é¡µé¢åˆ·æ–°ï¼Œæ®å†…æµ‹åé¦ˆå¯é™ä½25%çš„æ— æ•ˆæ“ä½œ ä½“éªŒä¼˜åŒ–ï¼šç»†èŠ‚å†³å®šæ•ˆç‡ 1. é•¿ä¸Šä¸‹æ–‡ä¼˜åŒ– æ™ºèƒ½åˆ†æ®µæœºåˆ¶ï¼šå½“èŠå¤©å†å²æ¥è¿‘ä¸Šä¸‹æ–‡çª—å£é™åˆ¶æ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨å»ºè®®åˆ›å»ºæ–°èŠå¤©çª—å£ æŠ€æœ¯ä»·å€¼ï¼šä¿æŒLLMæ¨ç†è´¨é‡ï¼Œé¿å…å› tokenè¿‡è½½å¯¼è‡´çš„å“åº”è´¨é‡ä¸‹é™ 2. æˆæœ¬é€æ˜åŒ– ä½¿ç”¨è¿½è¸ªï¼šå†å²è®°å½•ä¸­å¯æŸ¥çœ‹æ¯æ¬¡äº¤äº’çš„tokenæ¶ˆè€—åŠæˆæœ¬åˆ†ç±» ä¼ä¸šçº§ä»·å€¼ï¼šå¯¹äºå›¢é˜Ÿç”¨æˆ·ï¼Œæ”¯æŒç”Ÿæˆæœˆåº¦ä½¿ç”¨æŠ¥å‘Šï¼Œä¼˜åŒ–é¢„ç®—åˆ†é… 3. ç´¢å¼•æ€§èƒ½é£è·ƒ å›¢é˜Ÿåä½œä¼˜åŒ–ï¼šå¤§å‹ä»£ç åº“ç´¢å¼•é€Ÿåº¦æå‡40%ï¼Œæœç´¢å“åº”æ—¶é—´ç¼©çŸ­è‡³\u003c2ç§’ æŠ€æœ¯å®ç°ï¼šé€šè¿‡æ”¹è¿›åˆ†å¸ƒå¼ç´¢å¼•ç®—æ³•ï¼Œæ”¯æŒä¸‡çº§æ–‡ä»¶é¡¹ç›®çš„å®æ—¶å¯¼èˆª ç³»ç»Ÿçº§æ”¹è¿›ï¼šä¸ºä¸“ä¸šå¼€å‘è€…è€Œç”Ÿ 1. ç•Œé¢ä¸äº¤äº’ ä¾§è¾¹æ ç»Ÿä¸€åŒ–ï¼šç§»é™¤å‚ç›´å¸ƒå±€é€‰é¡¹ï¼Œé‡‡ç”¨ç»Ÿä¸€æ°´å¹³ä¾§è¾¹æ æå‡è·¨è®¾å¤‡ä¸€è‡´æ€§ å¿«æ·é”®å¾®è°ƒï¼š æ‹’ç»æ‰€æœ‰å·®å¼‚æ”¹ä¸ºCmd+Shift+Backspaceï¼Œé™ä½è¯¯è§¦é£é™© æ–°å¢Cmd+Lä¾§è¾¹æ å¿«é€Ÿåˆ‡æ¢é”® 2. å¼€å‘è€…å‹å¥½æ€§å¢å¼º MCPæç¤ºç³»ç»Ÿï¼šè‡ªåŠ¨æ£€æµ‹å¹¶æç¤ºå¯ç”¨Model Control ProtocolæœåŠ¡å™¨ï¼Œç¡®ä¿æœ€ä½³æ€§èƒ½ é”™è¯¯ä¿¡æ¯å‡çº§ï¼šMCPé…ç½®é”™è¯¯æ—¶æä¾›å¸¦è§£å†³æ–¹æ¡ˆçš„è¯Šæ–­ä»£ç ï¼ˆå¦‚E048-MCP-02ï¼‰ 3. ç¨³å®šæ€§ä¿éšœ åŠŸèƒ½å–èˆï¼šç§»é™¤ä¸ç¨³å®šçš„è‡ªåŠ¨è¿è¡Œæç¤ºåŠŸèƒ½ï¼Œç¡®ä¿æ ¸å¿ƒä½“éªŒæµç•… è·¨å¹³å°ä¼˜åŒ–ï¼šWindowsç”¨æˆ·MCPè¿æ¥ç¨³å®šæ€§æå‡è‡³ä¸macOSåŒç­‰æ°´å¹³ æœªæ¥æ½œåŠ›ï¼šAIç¼–ç å·¥å…·çš„è¿›åŒ–æ–¹å‘ 1. ä¸ªæ€§åŒ–å®šåˆ¶æ·±åŒ– æ¨¡å¼å¸‚åœºï¼šæœªæ¥å¯èƒ½å¼€æ”¾ç¤¾åŒºæ¨¡å¼å…±äº«å¹³å°ï¼Œå¼€å‘è€…å¯ä¸‹è½½/è´¡çŒ®é¢„è®¾æ¨¡å¼ AIè¾…åŠ©é…ç½®ï¼šé€šè¿‡åˆ†æç”¨æˆ·è¡Œä¸ºæ¨èæœ€ä½³æ¨¡å¼ç»„åˆ 2. å›¢é˜Ÿåä½œåœºæ™¯ çŸ¥è¯†åº“é›†æˆï¼šè®¡åˆ’ä¸Confluenceç­‰å·¥å…·è”åŠ¨ï¼Œå®ç°å›¢é˜Ÿæ–‡æ¡£æ™ºèƒ½å¼•ç”¨ åä½œæ¨¡å¼ï¼šå…è®¸å¤šäººå®æ—¶ç¼–è¾‘åŒä¸€èŠå¤©ä¼šè¯ï¼Œæ”¯æŒä»£ç å®¡æŸ¥ååŒ 3. æˆæœ¬æ§åˆ¶æ™ºèƒ½åŒ– é¢„ç®—è­¦æŠ¥ï¼šå½“æœˆåº¦ä½¿ç”¨æ¥è¿‘é˜ˆå€¼æ—¶ä¸»åŠ¨è§¦å‘ä¼˜åŒ–å»ºè®® åŠ¨æ€æ¨¡å‹é€‰æ‹©ï¼šæ ¹æ®ä»»åŠ¡ç±»å‹è‡ªåŠ¨åˆ‡æ¢æˆæœ¬æ•ˆç›Šæœ€ä¼˜çš„LLM æ€»ç»“ï¼šå¼€å‘è€…æ•ˆç‡çš„ä¸‹ä¸€ä¸ªé‡Œç¨‹ç¢‘ Cursor 0.48ç‰ˆæœ¬é€šè¿‡ä»»åŠ¡å¹¶è¡ŒåŒ–ã€äº¤äº’ä¸ªæ€§åŒ–ã€æˆæœ¬é€æ˜åŒ–ä¸‰å¤§æ”¯æŸ±ï¼Œå°†AIè¾…åŠ©å¼€å‘æ¨å‘æ–°é«˜åº¦ã€‚å…¶ä»·å€¼ä¸ä»…åœ¨äºåŠŸèƒ½åˆ›æ–°ï¼Œæ›´åœ¨äºå¯¹å¼€å‘è€…å·¥ä½œæµçš„æ·±åˆ»ç†è§£ï¼š å³æ—¶ä»·å€¼ï¼šèŠå¤©æ ‡ç­¾å¯å‡å°‘30%çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ—¶é—´ é•¿æœŸä»·å€¼ï¼šè‡ªå®šä¹‰æ¨¡å¼ç³»ç»Ÿä¸ºä¸åŒå¼€å‘åœºæ™¯æä¾›ä¸“å±è§£å†³æ–¹æ¡ˆ å•†ä¸šä»·å€¼ï¼šæˆæœ¬è¿½è¸ªåŠŸèƒ½ä½¿ä¼ä¸šç”¨æˆ·å¯èŠ‚çœ15%-20%çš„AIè°ƒç”¨æˆæœ¬ å¯¹äºè¿½æ±‚æè‡´æ•ˆç‡çš„å¼€å‘è€…ï¼Œå‡çº§è‡³0.48ç‰ˆæœ¬å·²æ˜¯å¿…ç„¶é€‰æ‹©ã€‚è€ŒCursorå›¢é˜Ÿå¯¹ç¨³å®šæ€§çš„æ‰§ç€ï¼ˆå¦‚ä¸»åŠ¨ç§»é™¤ä¸æˆç†ŸåŠŸèƒ½ï¼‰ï¼Œæ›´è®©æˆ‘ä»¬å¯¹å…¶åç»­ç‰ˆæœ¬å……æ»¡æœŸå¾…ã€‚ æœ¬æ–‡å¼•ç”¨æ¥æºæ ‡æ³¨ï¼š Cursorå®˜æ–¹Changelogå¯¹0.48ç‰ˆæœ¬çš„æè¿° LINUX DOå¯¹0.48ç‰ˆæœ¬çš„ä¸­æ–‡è§£è¯» 53AIå¯¹0.48ç‰ˆæœ¬åŠŸèƒ½çš„æ·±åº¦æ‹†è§£ çŸ¥ä¹ä¸“æ å¯¹Cursoräº§å“çš„æŠ€æœ¯åˆ†æ Cursor 0.47ç‰ˆæœ¬çš„æŠ€æœ¯æ¼”è¿›èƒŒæ™¯ ","date":"2025-03-25","objectID":"/posts/1fb1842/:0:0","tags":["Cursor","AI","ç¼–ç å·¥å…·"],"title":"Cursor 0.48 ç‰ˆæœ¬æ·±åº¦è§£æï¼šAI ç¼–ç å·¥å…·çš„æ•ˆç‡é©å‘½","uri":"/posts/1fb1842/"},{"categories":["äººå·¥æ™ºèƒ½","MCP"],"content":"è¿‘å¹´æ¥ï¼Œéšç€ AI æ¨¡å‹ï¼ˆå¦‚ GPT-4ã€Claude ç­‰ï¼‰çš„è¿…é€Ÿå‘å±•ï¼Œå¦‚ä½•é«˜æ•ˆåœ°å°† AI ä¸ä¼ä¸šçº§ç³»ç»ŸåŠå„ç±»ç¬¬ä¸‰æ–¹æœåŠ¡è¿›è¡Œé›†æˆï¼Œæˆä¸ºäº†å¼€å‘è€…å’Œä¼ä¸šäºŸå¾…è§£å†³çš„éš¾é¢˜ã€‚ä¼ ç»Ÿæ–¹å¼ä¾èµ–äºå•æ¬¡çš„ Function Calling å®ç°æ¨¡å‹ä¸ API çš„äº¤äº’ï¼Œä½†åœ¨å¤æ‚åœºæ™¯ä¸‹ï¼Œä¸Šä¸‹æ–‡ä¼ é€’ä¸è¶³ä»¥åŠå„ä¸ªæœåŠ¡ä¹‹é—´çš„ç¢ç‰‡åŒ–å®ç°ï¼Œä½¿å¾—å…¨é“¾è·¯è‡ªåŠ¨åŒ–æˆä¸ºéš¾é¢˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸€ç—›ç‚¹ï¼ŒModel Context Protocolï¼ˆMCPï¼‰ åº”è¿è€Œç”Ÿï¼Œä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§å…¨æ–°çš„å¼€æ”¾æ ‡å‡†ã€‚ 1. èƒŒæ™¯ä¸æŠ€æœ¯æŒ‘æˆ˜ åœ¨è¿‡å»çš„å¼€å‘å®è·µä¸­ï¼Œä¸»è¦å­˜åœ¨ä»¥ä¸‹å‡ ä¸ªæŒ‘æˆ˜ï¼š ç¢ç‰‡åŒ–çš„æ¥å£è°ƒç”¨ï¼šå„ä¸ªå¹³å°ä¸æœåŠ¡é‡‡ç”¨ä¸åŒçš„ API è®¾è®¡ï¼Œå¯¼è‡´é›†æˆå·¥ä½œé‡å¤ä¸”æ•ˆç‡ä½ä¸‹ã€‚ ä¸Šä¸‹æ–‡ä¿¡æ¯éš¾ä»¥è´¯é€šï¼šä¼ ç»Ÿ Function Calling éš¾ä»¥åœ¨å¤šæ­¥ä»»åŠ¡ä¸­ç»´æŒè¿ç»­çš„ä¸Šä¸‹æ–‡ï¼Œé™åˆ¶äº† AI Agent çš„è‡ªä¸»å†³ç­–èƒ½åŠ›ã€‚ é‡å¤é€ è½®å­é—®é¢˜ï¼šå¼€å‘è€…éœ€è¦ä¸ºæ¯ä¸ªæœåŠ¡å•ç‹¬ç¼–å†™é›†æˆä»£ç ï¼Œèµ„æºæµªè´¹ä¸¥é‡ï¼Œä¸”ç³»ç»Ÿç»´æŠ¤å›°éš¾ã€‚ ä¼ä¸šåœ¨é¢å¯¹æ•æ„Ÿæ•°æ®å’Œå®‰å…¨è¦æ±‚æ—¶ï¼Œè¿™äº›é—®é¢˜å°¤ä¸ºçªå‡ºã€‚è¿«åˆ‡éœ€è¦ä¸€ç§å¼€æ”¾ã€é€šç”¨ä¸”å…·æœ‰å…±è¯†çš„åè®®æ ‡å‡†ï¼Œæ¥ç»Ÿä¸€å„ç±»æœåŠ¡çš„èƒ½åŠ›æè¿°å’Œè°ƒç”¨æ–¹å¼ã€‚ 2. MCP çš„æŠ€æœ¯çªç ´ MCP çš„è®¾è®¡ç†å¿µç±»ä¼¼äºç”µå­è®¾å¤‡ä¸­çš„ Type-C æ¥å£ï¼Œå®ƒçš„æ ¸å¿ƒä¼˜åŠ¿åŒ…æ‹¬ï¼š ç»Ÿä¸€æ ‡å‡†åŒ–èƒ½åŠ›æè¿° MCP é€šè¿‡æ˜ç¡®æè¿°å„é¡¹æœåŠ¡çš„åŠŸèƒ½ã€è¾“å…¥å‚æ•°ä¸è¿”å›æ ¼å¼ï¼Œä¸º AI Agent æ„å»ºäº†ä¸€ä»½è¯¦ç»†çš„â€œèƒ½åŠ›æ¸…å•â€ï¼Œä½¿ä¸åŒæœåŠ¡ä¹‹é—´å¯ä»¥æ— ç¼åä½œã€‚ ä¸Šä¸‹æ–‡ä¼ é€’ä¸è‡ªåŠ¨åŒ–å†³ç­– å€ŸåŠ© MCPï¼ŒAI Agent èƒ½å¤Ÿè·¨æœåŠ¡ç»´æŒä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå®ç°ä»å•æ¬¡å‡½æ•°è°ƒç”¨åˆ°å…¨è‡ªåŠ¨ä»»åŠ¡æ‰§è¡Œçš„è½¬å˜ã€‚è¿™ä½¿å¾— AI ç³»ç»Ÿä¸ä»…ä»…æä¾›å»ºè®®ï¼Œè€Œæ˜¯èƒ½å¤Ÿåœ¨å¤šæ­¥ä»»åŠ¡ä¸­è‡ªä¸»å†³ç­–å¹¶æ‰§è¡Œã€‚ å¼€æ”¾ç”Ÿæ€ä¸å¤ç”¨æ€§ æ ‡å‡†åŒ–åè®®ä¿ƒä½¿å„å¤§æœåŠ¡å•†å’Œå¼€æºç¤¾åŒºå…±åŒæ„å»ºç”Ÿæ€ç³»ç»Ÿï¼Œå¼€å‘è€…æ— éœ€é‡å¤é€ è½®å­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç°æœ‰çš„ MCP æœåŠ¡ï¼Œæ˜¾è‘—é™ä½äº†é›†æˆé—¨æ§›å’Œå¼€å‘æˆæœ¬ã€‚ 3. MCP ä¸ä¼ ç»Ÿ Function Calling / AI Agent çš„å¯¹æ¯” åœ¨ç†è§£ MCP çš„ä¼˜åŠ¿ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥æ˜ç¡®ä¼ ç»ŸæŠ€æœ¯ä¹‹é—´çš„å·®å¼‚ï¼š Function Callingï¼šä¸»è¦ç”¨äºå°† AI æ¨¡å‹çš„è¯·æ±‚è½¬åŒ–ä¸ºå•æ¬¡ API è°ƒç”¨ï¼Œé€‚ç”¨äºç®€å•ä»»åŠ¡ï¼Œä½†éš¾ä»¥åº”å¯¹å¤æ‚åœºæ™¯ã€‚ AI Agentï¼šåœ¨ Function Calling åŸºç¡€ä¸Šå¢åŠ äº†å†³ç­–é€»è¾‘ï¼Œå®ç°ä¸€å®šç¨‹åº¦çš„è‡ªåŠ¨åŒ–ï¼›ç„¶è€Œï¼Œä¸Šä¸‹æ–‡ä¼ é€’ä¸å¤šæ­¥å†³ç­–ä¾æ—§å­˜åœ¨å±€é™ã€‚ MCPï¼šåœ¨ä¸Šè¿°åŸºç¡€ä¸Šï¼Œé€šè¿‡æ ‡å‡†åŒ–æè¿°å’Œä¸Šä¸‹æ–‡ç®¡ç†ï¼Œæ”¯æŒè·¨ç³»ç»Ÿã€è·¨æœåŠ¡çš„è¿ç»­ä»»åŠ¡æ‰§è¡Œï¼Œå®ç°äº†çœŸæ­£çš„å…¨é“¾è·¯è‡ªåŠ¨åŒ–ã€‚ 4. MCP æ¶æ„è§£æ MCP çš„æ¶æ„ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å››ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š MCP Hostsï¼šæŒ‡è¿è¡Œ AI æ¨¡å‹çš„åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚ Cursorã€Claude Desktop ç­‰ã€‚ MCP Clientsï¼šåœ¨ Host å†…éƒ¨ç»´æŠ¤ä¸ MCP Server çš„ 1:1 é€šä¿¡ï¼Œè´Ÿè´£è¯·æ±‚è½¬å‘å’Œå“åº”å¤„ç†ã€‚ MCP Serversï¼šä½œä¸ºåè®®çš„æ ¸å¿ƒï¼ŒMCP Server æä¾›å„é¡¹æœåŠ¡çš„èƒ½åŠ›æè¿°ã€å·¥å…·åˆ—è¡¨ä»¥åŠä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå……å½“ AI Agent ä¸å„ç±»æœåŠ¡ä¹‹é—´çš„æ¡¥æ¢ã€‚ Local Data Sources \u0026 Remote Servicesï¼šåˆ†åˆ«å¯¹åº”æœ¬åœ°æ•°æ®å’Œè¿œç¨‹ APIï¼Œæä¾›å®é™…çš„æ•°æ®æ”¯æ’‘å’ŒåŠŸèƒ½å®ç°ã€‚ è¿™ç§è®¾è®¡ä½¿å¾—ä¸åŒæœåŠ¡å¯ä»¥åœ¨ MCP æ ‡å‡†ä¸‹äº’é€šï¼ŒAI Agent èƒ½å¤Ÿæ ¹æ®ä»»åŠ¡éœ€æ±‚ï¼Œè‡ªåŠ¨é€‰æ‹©å¹¶è°ƒç”¨åˆé€‚çš„æœåŠ¡ï¼Œå®ç°å¤šç³»ç»Ÿé—´çš„æ— ç¼é›†æˆã€‚ 5. ç¤ºä¾‹ä»£ç è§£è¯» ä»¥ä¸‹ä»£ç å±•ç¤ºäº†å¦‚ä½•åŸºäº MCP å®ç°ä¸€ä¸ª GitHub é›†æˆæœåŠ¡ã€‚è¯¥ç¤ºä¾‹å®šä¹‰äº†æœç´¢ä»“åº“ã€æœç´¢ Issue ä»¥åŠåˆ›å»º Issue çš„èƒ½åŠ›ï¼Œå¹¶é€šè¿‡æ ‡å‡†åŒ–çš„æ¥å£æè¿°å®Œæˆäº†ä¸ GitHub API çš„äº¤äº’ã€‚ import { z } from 'zod'; import { Server, ListToolsRequestSchema, CallToolRequestSchema, StdioServerTransport } from 'mcp-sdk'; import * as repository from './repository'; import * as issues from './issues'; import * as search from './search'; const VERSION = '1.0.0'; const server = new Server( { name: \"github-mcp-server\", version: VERSION }, { capabilities: { tools: {} } } ); // å®šä¹‰å·¥å…·åˆ—è¡¨ï¼Œå‘ŠçŸ¥ AI Agent å¯ç”¨çš„åŠŸèƒ½ server.setRequestHandler(ListToolsRequestSchema, async () =\u003e { return { tools: [ { name: \"search_repositories\", description: \"æœç´¢ GitHub ä»“åº“\", inputSchema: repository.SearchRepositoriesSchema, }, { name: \"create_issue\", description: \"åœ¨ GitHub ä»“åº“ä¸­åˆ›å»º Issue\", inputSchema: issues.CreateIssueSchema, }, { name: \"search_issues\", description: \"æœç´¢ GitHub Issue å’Œ Pull Request\", inputSchema: search.SearchIssuesSchema, } ], }; }); // å¤„ç†å…·ä½“å·¥å…·è°ƒç”¨è¯·æ±‚ server.setRequestHandler(CallToolRequestSchema, async (request) =\u003e { if (!request.params.arguments) { throw new Error(\"ç¼ºå°‘å¿…è¦çš„å‚æ•°\"); } switch (request.params.name) { case \"search_repositories\": { const args = repository.SearchRepositoriesSchema.parse(request.params.arguments); const results = await repository.searchRepositories(args.query, args.page, args.perPage); return { content: [{ type: \"text\", text: JSON.stringify(results, null, 2) }] }; } case \"create_issue\": { const args = issues.CreateIssueSchema.parse(request.params.arguments); const issue = await issues.createIssue(args.owner, args.repo, args.options); return { content: [{ type: \"text\", text: JSON.stringify(issue, null, 2) }] }; } case \"search_issues\": { const args = search.SearchIssuesSchema.parse(request.params.arguments); const results = await search.searchIssues(args); return { content: [{ type: \"text\", text: JSON.stringify(results, null, 2) }] }; } default: throw new Error(`æœªçŸ¥çš„å·¥å…·ï¼š${request.params.name}`); } }); async function runServer() { const transport = new StdioServerTransport(); await server.connect(transport); console.error(\"GitHub MCP Server å·²å¯åŠ¨ï¼Œé€šè¿‡ stdio è¿›è¡Œé€šä¿¡\"); } runServer().catch((error) =\u003e { console.error(\"å¯åŠ¨æœåŠ¡å™¨æ—¶å‘ç”Ÿè‡´å‘½é”™è¯¯ï¼š\", error); process.exit(1); }); ä¸Šè¿°ä»£ç å……åˆ†å±•ç¤ºäº† MCP å¦‚ä½•é€šè¿‡æ ‡å‡†åŒ–åè®®æè¿°æœåŠ¡èƒ½åŠ›ï¼Œå¹¶åœ¨ AI Agent çš„è¯·æ±‚ä¸‹è‡ªåŠ¨è°ƒç”¨ç›¸åº”çš„ APIï¼Œä»è€Œå®ç°è·¨æœåŠ¡çš„ä»»åŠ¡è‡ªåŠ¨åŒ–ã€‚ 6. å®é™…åº”ç”¨ä¸ç”Ÿæ€æ„å»º åŸºäº MCP çš„å¼€æ”¾æ ‡å‡†ï¼Œå½“å‰å·²æœ‰è¶Šæ¥è¶Šå¤šçš„ç¬¬ä¸‰æ–¹å¹³å°å’Œå¼€æºç¤¾åŒºå¼€å§‹æä¾› MCP æœåŠ¡å™¨å®ç°ï¼Œå…¸å‹åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š ä¼ä¸šçº§è‡ªåŠ¨åŒ–è¿ç»´ï¼šé€šè¿‡æ•´åˆæœ¬åœ°æ—¥å¿—ã€æ•°æ®åº“æŸ¥è¯¢ç­‰åŠŸèƒ½ï¼Œå®ç°ä»é—®é¢˜ç›‘æ§åˆ°è‡ªåŠ¨åŒ–æ•…éšœä¿®å¤çš„é—­ç¯ç®¡ç†ã€‚ è·¨å¹³å°å·¥å…·é›†æˆï¼šå¦‚ GitHubã€Slackã€AWSã€Google Calendar ç­‰æœåŠ¡å‡å·²æœ‰å¯¹åº”çš„ MCP å®ç°ï¼Œæ–¹ä¾¿å¼€å‘è€…å¿«é€Ÿæ„å»ºå¤šå¹³å°ååŒçš„ AI Agentã€‚ ç”Ÿæ€ç³»ç»Ÿæ„å»ºï¼šç»Ÿä¸€çš„æ¥å£æ ‡å‡†æœ‰åŠ©äºé™ä½å„æœåŠ¡ä¹‹é—´çš„é›†æˆéš¾åº¦ï¼Œä¿ƒè¿›ä¼ä¸šã€å¼€å‘è€…ä¸å¼€æºç¤¾åŒºä¹‹é—´çš„ååŒåˆ›æ–°ã€‚ 7. å±•æœ›ä¸æ€è€ƒ ä»æŠ€æœ¯æ¼”è¿›è§’åº¦çœ‹ï¼ŒMCP çš„æ¨å‡ºæ ‡å¿—ç€ AI åº”ç”¨é›†æˆè¿›å…¥äº†å…¨æ–°çš„é˜¶æ®µã€‚æœªæ¥ï¼Œæˆ‘ä»¬æœ‰ç†ç”±ç›¸ä¿¡ï¼š ä¸Šä¸‹æ–‡","date":"2025-03-08","objectID":"/posts/9fvdvwz1/:0:0","tags":["AI","MCP","æŠ€æœ¯","Agent","Function Calling"],"title":"MCPï¼šä» Function Calling åˆ° AI Agent çš„æŠ€æœ¯æ¼”è¿›ä¸ç”Ÿæ€æ„å»º","uri":"/posts/9fvdvwz1/"},{"categories":["äººå·¥æ™ºèƒ½","AI Agent"],"content":"AI Agent æ˜¯ä»€ä¹ˆï¼Ÿ AI Agent æ˜¯ä¸€ä¸ªäººå·¥æ™ºèƒ½çš„æ¦‚å¿µï¼Œå®ƒæ˜¯ç”±å¤šä¸ªç»„æˆéƒ¨åˆ†ï¼ˆåŒ…æ‹¬æ™ºèƒ½æ¨¡å‹å’Œè‡ªåŠ¨åŒ–å·¥å…·ï¼‰ç»„åˆå®ç°çš„ã€‚å…·ä½“æ¥è¯´ï¼ŒAI Agent é€šå¸¸åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒè¦ç´ ï¼š 1. æ™ºèƒ½æ¨¡å‹ï¼ˆIntelligent Modelsï¼‰ è¿™äº›æ¨¡å‹é€šå¸¸æ˜¯è´Ÿè´£æ„ŸçŸ¥ã€å†³ç­–å’Œå­¦ä¹ çš„æ ¸å¿ƒã€‚ä¾‹å¦‚ï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼ˆå¦‚ GPT-4ï¼‰ã€æ·±åº¦ç¥ç»ç½‘ç»œã€å¼ºåŒ–å­¦ä¹ æ¨¡å‹ç­‰ï¼Œéƒ½å¯ä»¥ä½œä¸ºæ™ºèƒ½æ¨¡å‹çš„ç»„æˆéƒ¨åˆ†ã€‚å®ƒä»¬ä½¿å¾— AI Agent èƒ½å¤Ÿå¤„ç†å¤æ‚çš„ä»»åŠ¡ï¼Œå¦‚è¯­è¨€ç†è§£ä¸ç”Ÿæˆã€å›¾åƒè¯†åˆ«ã€æ¨¡å¼è¯†åˆ«ã€å†³ç­–æ¨ç†ç­‰ã€‚ æ™ºèƒ½æ¨¡å‹èµ‹äºˆ AI Agent ä¸€å®šçš„â€œæ™ºèƒ½â€ï¼Œä½¿å®ƒèƒ½å¤Ÿæ ¹æ®ç¯å¢ƒå˜åŒ–ä½œå‡ºç›¸åº”çš„å†³ç­–ï¼Œæ¨¡æ‹Ÿäººç±»çš„æ¨ç†å’Œå†³ç­–è¿‡ç¨‹ã€‚ 2. è‡ªåŠ¨åŒ–å·¥å…·ï¼ˆAutomation Toolsï¼‰ è‡ªåŠ¨åŒ–å·¥å…·ç”¨äºæ‰§è¡Œå®é™…çš„ä»»åŠ¡å’Œæ“ä½œï¼Œä¾‹å¦‚å·¥ä½œæµè‡ªåŠ¨åŒ–ã€ä»»åŠ¡ç®¡ç†å’Œæ‰§è¡Œç­‰ã€‚è‡ªåŠ¨åŒ–å·¥å…·ï¼ˆå¦‚ n8nã€Makeã€Zapier ç­‰ï¼‰å¸®åŠ© AI Agent è‡ªåŠ¨æ‰§è¡Œä»»åŠ¡ï¼Œå¦‚å‘é€é‚®ä»¶ã€æ›´æ–°æ•°æ®åº“ã€æ§åˆ¶ç¡¬ä»¶ã€è§¦å‘å…¶ä»–åº”ç”¨ç­‰ã€‚ è¿™äº›å·¥å…·é€šå¸¸æä¾›çš„æ˜¯æ— ä»£ç æˆ–ä½ä»£ç çš„æ–¹å¼ï¼Œå…è®¸ç”¨æˆ·æ–¹ä¾¿åœ°åˆ›å»ºå’Œç®¡ç†å·¥ä½œæµï¼Œç”¨ä»¥è¿æ¥ä¸åŒçš„ç³»ç»Ÿå’ŒæœåŠ¡ã€‚ 3. ç¯å¢ƒæ„ŸçŸ¥ä¸å†³ç­–æ‰§è¡Œ AI Agent éœ€è¦é€šè¿‡æ„ŸçŸ¥å±‚ï¼ˆä¼ æ„Ÿå™¨ã€APIæ¥å£ç­‰ï¼‰æ”¶é›†å¤–éƒ¨ç¯å¢ƒä¿¡æ¯ï¼ˆä¾‹å¦‚ä¼ æ„Ÿå™¨æ•°æ®ã€ç”¨æˆ·è¾“å…¥ç­‰ï¼‰ã€‚ç„¶åï¼Œå®ƒå°†è¿™äº›ä¿¡æ¯ä¸æ™ºèƒ½æ¨¡å‹ç›¸ç»“åˆï¼Œåšå‡ºç›¸åº”çš„å†³ç­–ï¼Œå¹¶é€šè¿‡è‡ªåŠ¨åŒ–å·¥å…·æ‰§è¡Œæ“ä½œã€‚è¿™æ ·ï¼ŒAI Agent èƒ½å¤Ÿæ ¹æ®ç¯å¢ƒå˜åŒ–è‡ªä¸»ä½œå‡ºååº”ã€‚ æ€»ç»“ AI Agent æ˜¯ä¸€ç§ç»¼åˆæ€§çš„æ™ºèƒ½ç³»ç»Ÿï¼Œç”± æ™ºèƒ½æ¨¡å‹ï¼ˆå¦‚å¤§è¯­è¨€æ¨¡å‹ã€æ·±åº¦å­¦ä¹ æ¨¡å‹ç­‰ï¼‰å’Œ è‡ªåŠ¨åŒ–å·¥å…·ï¼ˆå¦‚å·¥ä½œæµè‡ªåŠ¨åŒ–å¹³å°ï¼‰ç»„æˆã€‚å®ƒé€šè¿‡æ™ºèƒ½æ¨¡å‹è¿›è¡Œå†³ç­–ã€æ„ŸçŸ¥å’Œå­¦ä¹ ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–å·¥å…·æ‰§è¡Œå…·ä½“ä»»åŠ¡ã€‚ ä¾‹å¦‚ï¼Œè™šæ‹ŸåŠ©æ‰‹ï¼ˆå¦‚ Siriã€Google Assistantï¼‰å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ AI Agentï¼Œå®ƒä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹æ¥ç†è§£ç”¨æˆ·è¾“å…¥ï¼ˆè¯­è¨€ç†è§£å’Œç”Ÿæˆï¼‰ï¼Œå¹¶é€šè¿‡è‡ªåŠ¨åŒ–å·¥å…·ï¼ˆå¦‚è¿æ¥æ—¥ç¨‹å®‰æ’ã€å‘é€æ¶ˆæ¯ç­‰ï¼‰æ‰§è¡Œä»»åŠ¡ã€‚ ","date":"2025-03-08","objectID":"/posts/nhjiemn7/:0:0","tags":["AI Agent","äººå·¥æ™ºèƒ½","è‡ªåŠ¨åŒ–","æ™ºèƒ½æ¨¡å‹"],"title":"AI Agent æ¦‚å¿µè§£æ","uri":"/posts/nhjiemn7/"},{"categories":["äººå·¥æ™ºèƒ½","å¤šæ¨¡æ€æ¨¡å‹"],"content":"å¼•è¨€ éšç€äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œä¼ ç»Ÿçš„å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰è™½ç„¶åœ¨æ–‡æœ¬å¤„ç†æ–¹é¢å–å¾—äº†çªç ´æ€§è¿›å±•ï¼Œä½†é¢å¯¹å›¾åƒã€è§†é¢‘ã€éŸ³é¢‘ç­‰å¤šæ¨¡æ€æ•°æ®æ—¶ï¼Œå•ä¸€æ¨¡æ€çš„ AI ä»ç„¶å­˜åœ¨å±€é™æ€§ã€‚ä¸ºæ­¤ï¼Œå¤šæ¨¡æ€ï¼ˆMultimodalï¼‰æ¨¡å‹ å’Œ æ··åˆæ¨¡å‹ï¼ˆHybrid Modelsï¼‰ åº”è¿è€Œç”Ÿï¼Œå®ƒä»¬èƒ½å¤ŸåŒæ—¶å¤„ç†å¤šç§æ•°æ®å½¢å¼ï¼Œå®ç°æ›´ä¸°å¯Œçš„æ™ºèƒ½äº¤äº’ã€‚ æœ¬ç¯‡æ–‡ç« å°†ä»‹ç» å¤šæ¨¡æ€ä¸æ··åˆæ¨¡å‹çš„æ¦‚å¿µã€æŠ€æœ¯åŸç†ã€ä¸»æµæ¨¡å‹ä»¥åŠå®é™…åº”ç”¨åœºæ™¯ï¼Œå¹¶æ¢è®¨æœªæ¥çš„å‘å±•è¶‹åŠ¿ã€‚ ä»€ä¹ˆæ˜¯å¤šæ¨¡æ€ä¸æ··åˆæ¨¡å‹ï¼Ÿ å¤šæ¨¡æ€æ¨¡å‹æ˜¯ä¸€ç±»èƒ½å¤ŸåŒæ—¶å¤„ç†æ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ç­‰ä¸åŒç±»å‹æ•°æ®çš„äººå·¥æ™ºèƒ½ç³»ç»Ÿã€‚ä¾‹å¦‚ï¼ŒGPT-4V å¯ä»¥ç†è§£å›¾åƒä¸­çš„å†…å®¹å¹¶å›ç­”ç›¸å…³é—®é¢˜ï¼Œè€Œ Whisper åˆ™å¯ä»¥å°†éŸ³é¢‘è½¬æ¢ä¸ºæ–‡æœ¬ã€‚ æ··åˆæ¨¡å‹åˆ™æ˜¯æŒ‡ç»“åˆä¸åŒæ¶æ„ï¼ˆå¦‚ Transformerã€CNNã€RNNï¼‰æˆ–ä¸åŒæ•°æ®ç±»å‹çš„ AI æ¨¡å‹ï¼Œå¢å¼ºè·¨é¢†åŸŸå­¦ä¹ èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼ŒOpenAI çš„ DALLÂ·E ç»“åˆäº†æ–‡æœ¬ç”Ÿæˆå’Œå›¾åƒç”Ÿæˆèƒ½åŠ›ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥é€šè¿‡æ–‡æœ¬æŒ‡ä»¤ç”Ÿæˆé«˜è´¨é‡å›¾åƒã€‚ ä¸»è¦æŠ€æœ¯åŸç† å¤šæ¨¡æ€ AI çš„æ ¸å¿ƒåœ¨äº è·¨æ¨¡æ€æ•°æ®è¡¨ç¤ºä¸èåˆï¼Œä¸»è¦é‡‡ç”¨ä»¥ä¸‹å‡ ç§æŠ€æœ¯ï¼š è”åˆè¡¨ç¤ºå­¦ä¹ ï¼ˆJoint Representation Learningï¼‰ ç›´æ¥å°†ä¸åŒæ¨¡æ€çš„æ•°æ®æ˜ å°„åˆ°ç›¸åŒçš„ç‰¹å¾ç©ºé—´ï¼Œä¾‹å¦‚ CLIP é€šè¿‡å…±äº«çš„åµŒå…¥ç©ºé—´å­¦ä¹ æ–‡æœ¬å’Œå›¾åƒä¹‹é—´çš„å…³ç³»ã€‚ å¯¹é½ï¼ˆAlignmentï¼‰ é€šè¿‡è®­ç»ƒæ¨¡å‹æ¥å»ºç«‹ä¸åŒæ¨¡æ€ä¹‹é—´çš„è”ç³»ï¼Œä¾‹å¦‚ GPT-4V èƒ½å¤Ÿç†è§£å›¾åƒä¸­çš„å¯¹è±¡å¹¶ç”Ÿæˆç›¸åº”çš„æ–‡æœ¬æè¿°ã€‚ ç”Ÿæˆï¼ˆGenerationï¼‰ è®© AI èƒ½å¤ŸåŸºäºè¾“å…¥æ¨¡æ€ç”Ÿæˆæ–°å†…å®¹ï¼Œå¦‚ DALLÂ·E èƒ½å¤Ÿæ ¹æ®æ–‡æœ¬æè¿°ç”Ÿæˆå›¾åƒã€‚ è½¬æ¢ï¼ˆTransformationï¼‰ å…è®¸ä¸åŒæ¨¡æ€ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œä¾‹å¦‚ Whisper å¯å°†è¯­éŸ³è½¬æ¢ä¸ºæ–‡æœ¬ï¼Œè€Œ Text-to-Speechï¼ˆTTSï¼‰å¯ä»¥å°†æ–‡æœ¬è½¬æ¢ä¸ºè¯­éŸ³ã€‚ ä¸»è¦åº”ç”¨åœºæ™¯ 1. è§†è§‰ä¸æ–‡æœ¬ç»“åˆ ğŸ“· AI è§†è§‰ç†è§£ å¤šæ¨¡æ€ AI åœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸçš„åº”ç”¨ä¸»è¦åŒ…æ‹¬ï¼š æ™ºèƒ½é—®ç­”ï¼ˆå¦‚ GPT-4Vã€Qwen-VLï¼‰ï¼šç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ï¼ŒAI è¯†åˆ«å¹¶æä¾›è§£é‡Šã€‚ åŒ»å­¦å½±åƒåˆ†æï¼ˆå¦‚ Med-PaLMï¼‰ï¼šè¾…åŠ©åŒ»ç”Ÿè¿›è¡ŒåŒ»å­¦å½±åƒè¯Šæ–­ï¼Œå¦‚ X å…‰ã€CT æ‰«æåˆ†æã€‚ è‡ªåŠ¨å­—å¹•ç”Ÿæˆï¼ˆå¦‚ Whisper + GPTï¼‰ï¼šåœ¨çŸ­è§†é¢‘æˆ–ä¼šè®®è®°å½•ä¸­ï¼Œè‡ªåŠ¨ä¸ºè§†é¢‘æ·»åŠ å­—å¹•ã€‚ 2. éŸ³é¢‘ä¸æ–‡æœ¬ç»“åˆ ğŸ™ï¸ è¯­éŸ³è¯†åˆ«ä¸ç”Ÿæˆ è¯­éŸ³è½¬æ–‡æœ¬ï¼ˆASRï¼‰ï¼šå¦‚ OpenAI Whisperã€è®¯é£æ˜Ÿç«ï¼Œæ”¯æŒå¤šè¯­è¨€è¯­éŸ³è½¬å½•ã€‚ æ–‡æœ¬è½¬è¯­éŸ³ï¼ˆTTSï¼‰ï¼šå¦‚ VALL-Eã€ç§‘å¤§è®¯é£çš„ AI è¯­éŸ³åˆæˆï¼Œå®ç°è‡ªç„¶çš„ AI æœ—è¯»ã€‚ è¯­éŸ³åŠ©æ‰‹ï¼šå¦‚ Siriã€Google Assistant ä»¥åŠå›½äº§çš„ å°ç±³å°çˆ±åŒå­¦ã€ç™¾åº¦å°åº¦ã€åä¸ºå°è‰ºã€‚ 3. æ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘çš„èåˆ ğŸ“¹ å¤šæ¨¡æ€å†…å®¹åˆ›ä½œ å¤šæ¨¡æ€ AI å¯ä»¥ç”¨äºç”Ÿæˆå®Œæ•´çš„å†…å®¹ï¼Œä¾‹å¦‚ï¼š æ–‡æœ¬ç”Ÿæˆè§†é¢‘ï¼ˆText-to-Videoï¼‰ï¼šå¦‚ Runway Gen-2ã€Pika Labsï¼Œå¯æ ¹æ®æ–‡æœ¬æè¿°ç”ŸæˆåŠ¨ç”»æˆ–è§†é¢‘ã€‚ AI è®²è§£å‘˜ï¼šç»“åˆ AI è¯­éŸ³å’Œ 3D å»ºæ¨¡æŠ€æœ¯ï¼Œå¯ç”Ÿæˆè™šæ‹Ÿäººç‰©è¿›è¡Œè®²è§£ï¼Œå¦‚ç™¾åº¦çš„ æ•°å­—äºº AIã€‚ 4. å·¥ä¸šä¸è‡ªåŠ¨åŒ– ğŸ¤– æœºå™¨äººä¸è‡ªåŠ¨é©¾é©¶ è‡ªåŠ¨é©¾é©¶ï¼šTesla FSDã€Waymo ä¾èµ–å¤šæ¨¡æ€ AI è¿›è¡Œé“è·¯æ„ŸçŸ¥å’Œå†³ç­–ã€‚ æ™ºèƒ½ç›‘æ§ï¼šå¦‚ Hikvisionï¼ˆæµ·åº·å¨è§†ï¼‰ç»“åˆ AI è¿›è¡Œè§†é¢‘åˆ†æï¼Œè¯†åˆ«å¼‚å¸¸è¡Œä¸ºã€‚ ä¸»æµå¤šæ¨¡æ€æ¨¡å‹å¯¹æ¯” æ¨¡å‹åç§° å¼€å‘å…¬å¸ æ¨¡æ€ç±»å‹ ä¸»è¦åŠŸèƒ½ åº”ç”¨åœºæ™¯ GPT-4V OpenAI æ–‡æœ¬ + å›¾åƒ å›¾åƒç†è§£ã€è§†è§‰é—®ç­” AI åŠ©æ‰‹ã€å›¾åƒæè¿° CLIP OpenAI æ–‡æœ¬ + å›¾åƒ è§†è§‰è¯­ä¹‰æœç´¢ æœç´¢ã€å†…å®¹æ£€ç´¢ Whisper OpenAI è¯­éŸ³ + æ–‡æœ¬ è¯­éŸ³è¯†åˆ« è‡ªåŠ¨å­—å¹•ã€è¯­éŸ³åŠ©æ‰‹ DALLÂ·E OpenAI æ–‡æœ¬ + å›¾åƒ ç”Ÿæˆå›¾åƒ åˆ›æ„è®¾è®¡ã€AI è‰ºæœ¯ Gemini 1.5 Google æ–‡æœ¬ + å›¾åƒ + è§†é¢‘ è·¨æ¨¡æ€äº¤äº’ AI åŠ©æ‰‹ã€æ•°æ®åˆ†æ Qwen-VL é˜¿é‡Œå·´å·´ æ–‡æœ¬ + å›¾åƒ è§†è§‰é—®ç­” AI æœç´¢ã€æ™ºèƒ½å®¢æœ ERNIE-ViLG ç™¾åº¦ æ–‡æœ¬ + å›¾åƒ AI ç»˜ç”» è§†è§‰åˆ›æ„ã€å¹¿å‘Š Pika Labs ç‹¬ç«‹å¼€å‘ æ–‡æœ¬ + è§†é¢‘ æ–‡å­—ç”Ÿæˆè§†é¢‘ çŸ­è§†é¢‘åˆ¶ä½œ Tesla FSD Tesla å›¾åƒ + ä¼ æ„Ÿå™¨æ•°æ® è‡ªåŠ¨é©¾é©¶ æ™ºèƒ½äº¤é€š æœªæ¥å±•æœ› éšç€å¤šæ¨¡æ€ AI æŠ€æœ¯çš„è¿›æ­¥ï¼Œæœªæ¥çš„è¶‹åŠ¿åŒ…æ‹¬ï¼š æ›´å¼ºçš„è·¨æ¨¡æ€ç†è§£èƒ½åŠ›ï¼šæœªæ¥ AI èƒ½å¤Ÿæ›´æ·±å±‚æ¬¡ç†è§£æ–‡æœ¬ã€å›¾åƒã€è§†é¢‘å’Œè¯­éŸ³ä¹‹é—´çš„å…³ç³»ã€‚ å¢å¼ºä¸ªæ€§åŒ–ç”Ÿæˆï¼šåŸºäºç”¨æˆ·æ•°æ®çš„ä¸ªæ€§åŒ– AI ç”Ÿæˆå°†æˆä¸ºä¸»æµï¼Œå¦‚å®šåˆ¶åŒ– AI æ•°å­—äººã€‚ æ›´é«˜æ•ˆçš„è®¡ç®—æ¨¡å‹ï¼šé™ä½è®¡ç®—æˆæœ¬ï¼Œä½¿å¾—æ‰‹æœºã€IoT è®¾å¤‡ä¹Ÿèƒ½è¿è¡Œå¼ºå¤§çš„å¤šæ¨¡æ€ AIã€‚ å¼€æºä¸ç”Ÿæ€å‘å±•ï¼šæ›´å¤šå›½äº§å¼€æºå¤šæ¨¡æ€æ¨¡å‹ï¼Œå¦‚ DeepSeek-VLã€GLM-MultiModality é€æ­¥å‘å±•ã€‚ ç»“è®º å¤šæ¨¡æ€ä¸æ··åˆæ¨¡å‹ä»£è¡¨äº† AI å‘å±•çš„æ–°æ–¹å‘ï¼Œå®ƒä»¬ä¸ä»…çªç ´äº†å•ä¸€æ¨¡æ€çš„é™åˆ¶ï¼Œè¿˜è®© AI èƒ½å¤Ÿåƒäººç±»ä¸€æ ·ç†è§£å’Œå¤„ç†ä¸åŒç±»å‹çš„ä¿¡æ¯ã€‚éšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ï¼Œæœªæ¥å¤šæ¨¡æ€ AI é¢„è®¡å°†åœ¨æ™ºèƒ½äº¤äº’ã€å†…å®¹åˆ›ä½œã€è‡ªåŠ¨é©¾é©¶ã€åŒ»ç–—å¥åº·ç­‰é¢†åŸŸå‘æŒ¥è¶Šæ¥è¶Šé‡è¦çš„ä½œç”¨ã€‚ ","date":"2025-03-08","objectID":"/posts/xvjaji9x/:0:0","tags":["å¤šæ¨¡æ€AI","LLM","è®¡ç®—æœºè§†è§‰","è¯­éŸ³å¤„ç†","äººå·¥æ™ºèƒ½"],"title":"å¤šæ¨¡æ€ä¸æ··åˆæ¨¡å‹ï¼šAI æœªæ¥çš„é‡è¦æ–¹å‘","uri":"/posts/xvjaji9x/"},{"categories":["äººå·¥æ™ºèƒ½","å¤§è¯­è¨€æ¨¡å‹"],"content":"å¼•è¨€ è¿‘å¹´æ¥ï¼Œéšç€è®¡ç®—èƒ½åŠ›æå‡å’Œå¤§è§„æ¨¡æ•°æ®ç§¯ç´¯ï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼ˆLarge Language Models, LLMï¼‰å·²æˆä¸ºæ¨åŠ¨äººå·¥æ™ºèƒ½æŠ€æœ¯å‘å±•çš„æ ¸å¿ƒé©±åŠ¨åŠ›ã€‚è¿™äº›æ¨¡å‹åœ¨è‡ªç„¶è¯­è¨€ç†è§£ã€æ–‡æœ¬ç”Ÿæˆã€çŸ¥è¯†é—®ç­”ã€å¤šæ¨¡æ€å¤„ç†ç­‰å¤šä¸ªé¢†åŸŸå±•ç°å‡ºå“è¶Šæ€§èƒ½ï¼Œå¹¶åœ¨å…¨çƒèŒƒå›´å†…æ¨åŠ¨æ™ºèƒ½åŒ–åº”ç”¨çš„è½åœ°ã€‚æœ¬æ–‡å°†ä»æ¨¡å‹ç±»åˆ«ã€ä½¿ç”¨åœºæ™¯ä»¥åŠä¸»æµæ¨¡å‹å¯¹æ¯”ä¸‰ä¸ªè§’åº¦å‡ºå‘ï¼Œå¯¹å½“å‰å‰æ²¿LLMçš„å‘å±•ç°çŠ¶ã€æŠ€æœ¯ç‰¹ç‚¹ä¸æœªæ¥è¶‹åŠ¿è¿›è¡Œç³»ç»Ÿåˆ†æã€‚ æ¨¡å‹ç±»åˆ« æœ¬æ–‡æŒ‰ç…§æ¨¡å‹æ¶æ„ã€è®­ç»ƒç­–ç•¥åŠåº”ç”¨æ–¹å‘ï¼Œå°†å½“å‰å¤§è¯­è¨€æ¨¡å‹ä¸»è¦åˆ’åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š 1. è‡ªå›å½’æ¨¡å‹ï¼ˆAutoregressive Modelsï¼‰ é‡‡ç”¨è‡ªå›å½’æ–¹å¼é€æ­¥ç”Ÿæˆæ–‡æœ¬ï¼Œé€‚ç”¨äºå¯¹è¯å’Œå†…å®¹ç”Ÿæˆä»»åŠ¡ã€‚ä»£è¡¨æ¨¡å‹åŒ…æ‹¬ï¼š GPT-4ï¼šå…¨çƒçŸ¥åæ¨¡å‹ï¼Œä»¥å“è¶Šçš„ç”Ÿæˆèƒ½åŠ›å’Œå¤šè¯­è¨€æ”¯æŒè‘—ç§°ã€‚ GLMï¼ˆæ™ºè°±ï¼‰ï¼šåœ¨ä¸­æ–‡å¤„ç†ä¸Šè¿›è¡Œäº†é’ˆå¯¹æ€§ä¼˜åŒ–ã€‚ DeepSeekï¼ˆæ·±åº¦æ±‚ç´¢ï¼‰ï¼šå›½äº§æ¨¡å‹ï¼Œåœ¨æ•°å­¦ã€ç¼–ç ã€é€»è¾‘æ¨ç†ç­‰ä»»åŠ¡ä¸Šè¡¨ç°çªå‡ºï¼Œå…·æœ‰é«˜æ€§ä»·æ¯”ã€‚ GPT-4.5ï¼šOpenAIæœ€æ–°æ¨å‡ºçš„è¿­ä»£äº§å“ï¼Œå¹»è§‰ç‡é™ä½ï¼Œç”Ÿæˆæ–‡æœ¬æ›´è¿è´¯ã€‚ 2. è‡ªç¼–ç å™¨æ¨¡å‹ï¼ˆAutoencoder Modelsï¼‰ é‡‡ç”¨é®è”½è¯­è¨€å»ºæ¨¡ï¼ˆMLMï¼‰æŠ€æœ¯ï¼Œä¸»è¦ç”¨äºè‡ªç„¶è¯­è¨€ç†è§£ä»»åŠ¡ã€‚ä»£è¡¨æ¨¡å‹åŒ…æ‹¬ï¼š BERTï¼šè°·æ­Œæ¨å‡ºçš„åŒå‘ç¼–ç æ¨¡å‹ï¼Œå¯¹ä¸Šä¸‹æ–‡çš„ç†è§£èƒ½åŠ›æ˜¾è‘—æå‡ã€‚ ERNIEï¼ˆæ–‡å¿ƒï¼‰ï¼šç™¾åº¦åŸºäºBERTç»“æ„è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œé‡ç‚¹å¢å¼ºä¸­æ–‡è¯­ä¹‰ç†è§£ã€‚ 3. ç¼–ç å™¨-è§£ç å™¨æ¨¡å‹ï¼ˆEncoder-Decoder Modelsï¼‰ ç»“åˆç¼–ç å™¨å’Œè§£ç å™¨æ¶æ„ï¼Œæ—¢èƒ½ç†è§£è¾“å…¥æ–‡æœ¬ï¼Œåˆèƒ½ç”Ÿæˆè¾“å‡ºæ–‡æœ¬ï¼Œé€‚åˆæœºå™¨ç¿»è¯‘å’Œæ‘˜è¦ç”Ÿæˆã€‚ä»£è¡¨æ¨¡å‹åŒ…æ‹¬ï¼š T5ã€BARTã€mT5ï¼šå›½é™…ä¸Šè¾ƒä¸ºæˆç†Ÿçš„æ¨¡å‹å®¶æ—ã€‚ ç›˜å¤ï¼ˆPanGuï¼‰ï¼šåä¸ºæ¨å‡ºçš„å›½äº§ç³»åˆ—ï¼Œé’ˆå¯¹ä¸­æ–‡å¤„ç†è¿›è¡Œäº†ä¼˜åŒ–ã€‚ 4. å¤šæ¨¡æ€ä¸æ··åˆæ¨¡å‹ èƒ½å¤ŸåŒæ—¶å¤„ç†æ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ç­‰å¤šç§æ•°æ®å½¢å¼ï¼Œå®ç°è·¨æ¨¡æ€ä¿¡æ¯èåˆã€‚ä»£è¡¨æ¨¡å‹åŒ…æ‹¬ï¼š CLIPã€GPT-4Vï¼šå°†è§†è§‰ä¸æ–‡æœ¬ç†è§£ç»“åˆã€‚ Qwen-VLï¼ˆé€šä¹‰åƒé—®ï¼‰ï¼šé˜¿é‡Œåœ¨å¤šæ¨¡æ€é¢†åŸŸçš„é‡è¦æ¢ç´¢ã€‚ Gemini ç³»åˆ—ï¼šGoogleæœ€æ–°çš„å¤šæ¨¡æ€æ¨¡å‹äº§å“ã€‚ 5. ä»£ç ç”Ÿæˆæ¨¡å‹ ä¸“æ³¨äºç”Ÿæˆä»£ç ã€ä»£ç è‡ªåŠ¨è¡¥å…¨ã€è°ƒè¯•ä¸è§£é‡Šã€‚ä»£è¡¨æ¨¡å‹åŒ…æ‹¬ï¼š GPT-4 Turboï¼ˆCode Interpreterï¼‰ï¼šæ”¯æŒPythonä»£ç è§£é‡Šå’Œè°ƒè¯•ã€‚ Code Llamaï¼šMetaé’ˆå¯¹ä»£ç ä»»åŠ¡ä¼˜åŒ–çš„å¼€æºç‰ˆæœ¬ã€‚ StarCoder 2ï¼šåŸºäºå¤§é‡å¼€æºä»£ç è®­ç»ƒï¼Œæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ã€‚ DeepSeek-Coderï¼šæ·±åº¦æ±‚ç´¢æ¨å‡ºçš„ä¸“æ³¨äºä»£ç ç”Ÿæˆä¸è‡ªåŠ¨è¡¥å…¨çš„æ¨¡å‹ã€‚ WizardCoderï¼šåŸºäºCode Llamaä¼˜åŒ–ï¼Œå¼ºåŒ–æ¨ç†èƒ½åŠ›ã€‚ Codexï¼šOpenAIçš„ä»£ç ç”ŸæˆåŸºç¡€æ¨¡å‹ï¼Œç”¨äºGitHub Copilotã€‚ Claude 3.7 Sonnetï¼šAnthropicè¿‘æœŸæ¨å‡ºï¼Œé€šè¿‡æ··åˆæ¨ç†æŠ€æœ¯å¢å¼ºä»£ç ç”Ÿæˆä¸é€»è¾‘æ¨ç†ã€‚ ä½¿ç”¨åœºæ™¯ LLM çš„å¹¿æ³›åº”ç”¨åœºæ™¯åŒ…æ‹¬ä½†ä¸é™äºï¼š æ™ºèƒ½å®¢æœä¸å¯¹è¯ç³»ç»Ÿ å¦‚ ChatGPTã€é€šä¹‰åƒé—®ã€è®¯é£æ˜Ÿç«ç­‰ï¼Œç”¨äºè‡ªåŠ¨é—®ç­”ã€å®¢æˆ·æœåŠ¡å’Œå¯¹è¯ç”Ÿæˆã€‚ å†…å®¹ç”Ÿæˆä¸åˆ›æ„å†™ä½œ ç”¨äºæ–°é—»æŠ¥é“ã€å°è¯´åˆ›ä½œã€å¹¿å‘Šæ–‡æ¡ˆç­‰æ–‡æœ¬ç”Ÿæˆä»»åŠ¡ï¼Œä»£è¡¨æ¨¡å‹åŒ…æ‹¬ GPT ç³»åˆ—ã€æ–‡å¿ƒä¸€è¨€ç­‰ã€‚ çŸ¥è¯†é—®ç­”ä¸ä¿¡æ¯æ£€ç´¢ ä¼ä¸šçŸ¥è¯†åº“ã€æ™ºèƒ½æœç´¢ç³»ç»Ÿç­‰ï¼Œå€ŸåŠ©å¤§æ¨¡å‹å®ç°é«˜æ•ˆä¿¡æ¯æŠ½å–å’Œé—®ç­”ã€‚ æœºå™¨ç¿»è¯‘ä¸å¤šè¯­è¨€æ”¯æŒ è·¨å¢ƒç”µå•†ã€å…¨çƒåŒ–ä¸šåŠ¡ä¸­å®ç°è‡ªåŠ¨ç¿»è¯‘å’Œå¤šè¯­è¨€æœåŠ¡ã€‚ æ•°æ®åˆ†æä¸æŠ¥å‘Šç”Ÿæˆ è‡ªåŠ¨åŒ–æŠ¥è¡¨ç”Ÿæˆã€å•†ä¸šæ™ºèƒ½ç­‰é¢†åŸŸï¼Œé€šè¿‡å¤§æ¨¡å‹å¯¹æµ·é‡æ•°æ®è¿›è¡Œé«˜æ•ˆåˆ†æã€‚ ä»£ç ç”Ÿæˆä¸è‡ªåŠ¨åŒ–ç¼–ç¨‹ åœ¨ç¼–ç¨‹åŠ©æ‰‹ã€è‡ªåŠ¨è¡¥å…¨ã€ä»£ç è°ƒè¯•ç­‰é¢†åŸŸå‘æŒ¥ä½œç”¨ï¼Œä»£è¡¨äº§å“åŒ…æ‹¬ GPT-4 Turboã€DeepSeek-Coderã€Claude 3.7 Sonnet ç­‰ã€‚ ä¸»æµå¤§è¯­è¨€æ¨¡å‹å¯¹æ¯”åˆ†æ ä¸‹é¢ä»¥è¡¨æ ¼å½¢å¼ç®€è¦å¯¹æ¯”å„æ¨¡å‹çš„ä¸»è¦ç‰¹ç‚¹ã€å¼€å‘æœºæ„ã€æ¶æ„åŠåº”ç”¨åœºæ™¯ï¼š æ¨¡å‹ å¼€å‘æœºæ„ æ¶æ„ç±»å‹ ä¸»è¦ç‰¹ç‚¹ åº”ç”¨åœºæ™¯ GPT-4 OpenAI è‡ªå›å½’ å¼ºå¤§çš„ç”Ÿæˆèƒ½åŠ›ï¼Œå¤šè¯­è¨€æ”¯æŒ å¯¹è¯ã€åˆ›æ„å†™ä½œã€ä»£ç ç”Ÿæˆ GPT-4.5 OpenAI è‡ªå›å½’ å¹»è§‰ç‡é™ä½ã€ç”Ÿæˆæ–‡æœ¬æ›´è¿è´¯ å¯¹è¯ã€æ–‡æœ¬ç”Ÿæˆã€ç ”ç©¶é¢„è§ˆ Claude 3.7 Sonnet Anthropic æ··åˆæ¨ç†/è‡ªå›å½’ é«˜çº§æ¨ç†ã€ä»£ç ç”Ÿæˆã€é€»è¾‘ä»»åŠ¡ä¼˜åŒ– ä¸“ä¸šé—®ç­”ã€ç¼–ç¨‹ã€é€»è¾‘æ¨ç† Grok 3 xAI è‡ªå›å½’/æ··åˆ å¯¹è¯äº¤äº’èƒ½åŠ›å¼ºï¼Œæ¨ç†å’Œç”Ÿæˆè¡¨ç°ä¼˜ç§€ èŠå¤©æœºå™¨äººã€å¤æ‚ä»»åŠ¡å¤„ç† DeepSeek R1 æ·±åº¦æ±‚ç´¢ è‡ªå›å½’ + ä¸“å®¶æ··åˆMoE é«˜æ€§ä»·æ¯”ï¼Œæ“…é•¿æ•°å­¦ã€ç¼–ç¨‹å’Œé€»è¾‘æ¨ç†ï¼Œå¼€æ”¾æ€§è¾ƒå¥½ æ•°å­¦æ¨ç†ã€ä»£ç ç”Ÿæˆã€ä¼ä¸šåº”ç”¨ Qwen 2.5-Max é˜¿é‡Œå·´å·´ è‡ªå›å½’ åœ¨æ•°å­¦å’Œç¼–ç¨‹ä»»åŠ¡ä¸Šè¡¨ç°ä¼˜å¼‚ï¼Œç»¼åˆæ€§èƒ½çªå‡º ä¼ä¸šæ™ºèƒ½åŠ©æ‰‹ã€å†…å®¹ç”Ÿæˆ Ernie 5 ç™¾åº¦ è‡ªç¼–ç å™¨/å¤šæ¨¡æ€ è®¡åˆ’æ•´åˆæ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘å’Œè§†é¢‘å¤„ç†èƒ½åŠ› æœç´¢ã€çŸ¥è¯†é—®ç­”ã€å¤šæ¨¡æ€å¤„ç† Doubao 1.5 Pro å­—èŠ‚è·³åŠ¨ è‡ªå›å½’ ä¼˜åŒ–ä¸­æ–‡å¤„ç†ï¼Œæˆæœ¬è¾ƒä½ï¼Œé€‚åˆå¤§è§„æ¨¡éƒ¨ç½² å¯¹è¯ç³»ç»Ÿã€å†…å®¹ç”Ÿæˆã€ç¼–ç ä»»åŠ¡ Mistral 7B-Instruct Mistral AI å¼€æºè‡ªå›å½’ å‚æ•°é‡è¾ƒå°ä½†æ•ˆç‡é«˜ï¼Œé€‚åˆèµ„æºå—é™åœºæ™¯ è¾¹ç¼˜è®¡ç®—ã€ç§»åŠ¨è®¾å¤‡ã€å®æ—¶åº”ç”¨ Gemini 2.0 Flash Google å¤šæ¨¡æ€ æ–‡æœ¬ä¸å›¾åƒå¤„ç†å…¼é¡¾ï¼Œå…·å¤‡è¾ƒå¼ºçš„è·¨æ¨¡æ€èƒ½åŠ› æœç´¢ã€ç¿»è¯‘ã€å¤šæ¨¡æ€äº¤äº’ æœªæ¥å±•æœ› æœªæ¥å¤§è¯­è¨€æ¨¡å‹çš„å‘å±•å°†ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š é«˜æ•ˆä¸ä½èµ„æºæ¶ˆè€— ä¼˜åŒ–æ¨ç†ç®—æ³•å’Œç¡¬ä»¶åˆ©ç”¨ç‡ï¼Œé™ä½è®­ç»ƒä¸è¿è¡Œæˆæœ¬ï¼Œä½¿æ¨¡å‹æ›´æ˜“äºåœ¨ä¼ä¸šå’Œç§»åŠ¨è®¾å¤‡ä¸Šéƒ¨ç½²ã€‚ å¤šæ¨¡æ€èåˆ ç»“åˆæ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘å’Œè§†é¢‘æ•°æ®ï¼Œå®ç°æ›´ä¸°å¯Œçš„äº¤äº’å’Œè·¨é¢†åŸŸåº”ç”¨ã€‚ å¯æ§æ€§ä¸å®‰å…¨æ€§ åŠ å¼ºç”Ÿæˆå†…å®¹çš„è´¨é‡æ§åˆ¶å’Œå®‰å…¨æœºåˆ¶ï¼Œå‡å°‘å¹»è§‰ç°è±¡ï¼Œå¹¶ç¡®ä¿ç”Ÿæˆå†…å®¹ç¬¦åˆäººç±»ä»·å€¼è§‚ã€‚ å¼€æºä¸å›½äº§åŒ– å›½äº§æ¨¡å‹ï¼ˆå¦‚DeepSeekã€é€šä¹‰åƒé—®ã€æ–‡å¿ƒç³»åˆ—ç­‰ï¼‰ä¸æ–­å´›èµ·ï¼Œæ¨åŠ¨å¼€æ”¾æƒé‡å’Œå¼€æºç”Ÿæ€çš„å‘å±•ï¼Œå½¢æˆæ›´åŠ å¤šå…ƒçš„æŠ€æœ¯ç«äº‰æ ¼å±€ã€‚ ä»£ç ç”Ÿæˆä¸è‡ªåŠ¨åŒ– éšç€ç¼–ç¨‹ä»»åŠ¡è‡ªåŠ¨åŒ–éœ€æ±‚çš„å¢é•¿ï¼Œä»£ç ç”Ÿæˆæ¨¡å‹å°†è¿›ä¸€æ­¥æå‡åœ¨è‡ªåŠ¨è¡¥å…¨ã€è°ƒè¯•ä¸è§£é‡Šæ–¹é¢çš„èƒ½åŠ›ï¼ŒåŠ é€Ÿè½¯ä»¶å¼€å‘æ•ˆç‡ã€‚ ç»“è®º ä»Transformeræ¶æ„çš„å¼•å…¥åˆ°GPT-3ã€ChatGPTçš„æ™®åŠï¼Œå†åˆ°DeepSeek-R1ç­‰å›½äº§æ¨¡å‹çš„å¿«é€Ÿå´›èµ·ï¼Œå¤§è¯­è¨€æ¨¡å‹çš„æ¼”è¿›å±•ç¤ºäº†äººå·¥æ™ºèƒ½æŠ€æœ¯çš„å·¨å¤§å˜é©ã€‚å„ç±»æ¨¡å‹åœ¨ç”Ÿæˆã€ç†è§£å’Œæ¨ç†æ–¹é¢ä¸æ–­çªç ´ï¼Œä¸ºæ™ºèƒ½å®¢æœã€å†…å®¹ç”Ÿæˆã€ä»£ç è‡ªåŠ¨åŒ–åŠå¤šæ¨¡æ€åº”ç”¨ç­‰é¢†åŸŸæä¾›äº†å‰æ‰€æœªæœ‰çš„å·¥å…·å’Œå¯èƒ½æ€§ã€‚æœªæ¥ï¼Œéšç€æŠ€æœ¯çš„ä¸æ–­è¿­ä»£å’Œè·¨æ¨¡æ€èåˆçš„æ·±å…¥ï¼ŒLLMå°†åœ¨æ›´å¤šè¡Œä¸šå®ç°åº”ç”¨æ™®åŠï¼Œå¹¶æ¨åŠ¨å…¨çƒç§‘æŠ€åˆ›æ–°ä¸äº§ä¸šå‡çº§ã€‚ ","date":"2025-03-08","objectID":"/posts/64nm0qk8/:0:0","tags":["LLM","å¤§è¯­è¨€æ¨¡å‹","äººå·¥æ™ºèƒ½","æ¨¡å‹å¯¹æ¯”"],"title":"å…³äºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„ä»‹ç»ï¼šæ¨¡å‹ç±»åˆ«ã€ä½¿ç”¨åœºæ™¯ä¸ä¸»æµæ¨¡å‹å¯¹æ¯”åˆ†æ","uri":"/posts/64nm0qk8/"},{"categories":["android"],"content":"å‡†å¤‡Android-x86çš„isoé•œåƒ å¯ä»¥åœ¨http://www.android-x86.org/download å¤„ä¸‹è½½ [root@localhost ~]# cd /opt [root@localhost ~]# wget https://nchc.dl.sourceforge.net/project/android-x86/Release%209.0/android-x86_64-9.0-r2.iso --no-check-certificate å‡†å¤‡kvmè™šæ‹ŸåŒ–ç¯å¢ƒ æ£€æµ‹æ˜¯å¦æ”¯æŒKVM KVM æ˜¯åŸºäº x86 è™šæ‹ŸåŒ–æ‰©å±•(Intel VT æˆ–è€… AMD-V) æŠ€æœ¯çš„è™šæ‹Ÿæœºè½¯ä»¶ï¼Œæ‰€ä»¥æŸ¥çœ‹ CPU æ˜¯å¦æ”¯æŒ VT æŠ€æœ¯ï¼Œå°±å¯ä»¥åˆ¤æ–­æ˜¯å¦æ”¯æŒKVMã€‚æœ‰è¿”å›ç»“æœï¼Œå¦‚æœç»“æœä¸­æœ‰vmxï¼ˆIntelï¼‰æˆ–svm(AMD)å­—æ ·ï¼Œå°±è¯´æ˜CPUçš„æ”¯æŒçš„ã€‚ [root@localhost ~]# cat /proc/cpuinfo | egrep 'vmx|svm' flags : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 fma cx16 xtpr pdcm pcid dca sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm arat epb pln pts dtherm tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid cqm xsaveopt cqm_llc cqm_occup_llc å…³é—­SELinuxï¼Œå°† /etc/sysconfig/selinux ä¸­çš„ SELinux=enforcing ä¿®æ”¹ä¸º SELinux=disabled [root@localhost ~]# vi /etc/sysconfig/selinux å®‰è£… KVM ç¯å¢ƒ é€šè¿‡ yum å®‰è£… kvm åŸºç¡€åŒ…å’Œç®¡ç†å·¥å…· kvmç›¸å…³å®‰è£…åŒ…åŠå…¶ä½œç”¨: qemu-kvm ä¸»è¦çš„KVMç¨‹åºåŒ… python-virtinst åˆ›å»ºè™šæ‹Ÿæœºæ‰€éœ€è¦çš„å‘½ä»¤è¡Œå·¥å…·å’Œç¨‹åºåº“ virt-manager GUIè™šæ‹Ÿæœºç®¡ç†å·¥å…· virt-top è™šæ‹Ÿæœºç»Ÿè®¡å‘½ä»¤ virt-viewer GUIè¿æ¥ç¨‹åºï¼Œè¿æ¥åˆ°å·²é…ç½®å¥½çš„è™šæ‹Ÿæœº libvirt Cè¯­è¨€å·¥å…·åŒ…ï¼Œæä¾›libvirtæœåŠ¡ libvirt-client ä¸ºè™šæ‹Ÿå®¢æˆ·æœºæä¾›çš„Cè¯­è¨€å·¥å…·åŒ… virt-install åŸºäºlibvirtæœåŠ¡çš„è™šæ‹Ÿæœºåˆ›å»ºå‘½ä»¤ bridge-utils åˆ›å»ºå’Œç®¡ç†æ¡¥æ¥è®¾å¤‡çš„å·¥å…· # å®‰è£… kvm # ------------------------ # yum -y install qemu-kvm python-virtinst libvirt libvirt-python virt-manager libguestfs-tools bridge-utils virt-install [root@localhost ~]# yum -y install qemu-kvm libvirt virt-install bridge-utils # é‡å¯å®¿ä¸»æœºï¼Œä»¥ä¾¿åŠ è½½ kvm æ¨¡å— # ------------------------ [root@localhost ~]# reboot # æŸ¥çœ‹KVMæ¨¡å—æ˜¯å¦è¢«æ­£ç¡®åŠ è½½ # ------------------------ [root@localhost ~]# lsmod | grep kvm kvm_intel 162153 0 kvm 525259 1 kvm_intel å¼€å¯kvmæœåŠ¡ï¼Œå¹¶ä¸”è®¾ç½®å…¶å¼€æœºè‡ªåŠ¨å¯åŠ¨ [root@localhost ~]# systemctl start libvirtd [root@localhost ~]# systemctl enable libvirtd æŸ¥çœ‹çŠ¶æ€æ“ä½œç»“æœï¼Œå¦‚Active: active (running)ï¼Œè¯´æ˜è¿è¡Œæƒ…å†µè‰¯å¥½ [root@localhost ~]# systemctl status libvirtd [root@localhost ~]# systemctl is-enabled libvirtd â— libvirtd.service - Virtualization daemon Loaded: loaded (/usr/lib/systemd/system/libvirtd.service; enabled; vendor preset: enabled) Active: active (running) since äºŒ 2001-01-02 11:29:53 CST; 1h 41min ago Docs: man:libvirtd(8) http://libvirt.org è™šæ‹ŸåŒ–åµŒå¥—ï¼ˆVM-in-VMï¼‰ å®‰è£…X86æ¨¡æ‹Ÿå™¨éœ€è¦CPUå¼€å¯è™šæ‹ŸåŒ–åŠŸèƒ½ï¼Œè€ŒKVMè™šæ‹Ÿæœºå·²ç»æ˜¯è™šæ‹Ÿæœºäº†ï¼Œè™šæ‹Ÿæœºä¸­çš„CPUé»˜è®¤æƒ…å†µä¸‹ä¸å¸¦æœ‰è™šæ‹ŸåŒ–åŠŸèƒ½ï¼Œè¿™å°±éœ€è¦nested kvmåŠŸèƒ½ï¼Œå³å¯ä»¥åœ¨è™šæ‹Ÿæœºä¸­å†æ¬¡è¿›è¡Œè™šæ‹ŸåŒ–ï¼ˆVM-in-VMï¼‰ã€‚ ä½¿ç”¨åµŒå¥—è™šæ‹ŸåŒ–ï¼Œæˆ‘ä»¬é¦–å…ˆè¦çœ‹ä¸‹å½“å‰çš„ç³»ç»Ÿä¸­æœ‰æ²¡æœ‰é…ç½®æ”¯æŒåµŒå¥—ï¼ŒæŸ¥çœ‹å½“å‰ç³»ç»Ÿæ˜¯å¦æ”¯æŒ nested [root@localhost ~]# systool -m kvm_intel -v | grep -i nested nested = \"N\" #æˆ–è€…è¿™æ ·æŸ¥çœ‹ [root@localhost ~]# cat /sys/module/kvm_intel/parameters/nested N Y : ç»“æœä¸º Y è¡¨ç¤ºå½“å‰çš„æ“ä½œç³»ç»Ÿå·²ç»æ”¯æŒäº†åµŒå¥—è™šæ‹ŸåŒ– N : è¡¨ç¤ºå½“å‰æ“ä½œç³»ç»Ÿæœªé…ç½®åµŒå¥—è™šæ‹ŸåŒ– å¦‚æœç»“æœä¸º Nï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å¼€å¯ å¼€å¯ nested æ–¹æ³• ç¼–è¾‘æˆ–åˆ›å»ºæ–‡ä»¶ /etc/modprobe.d/kvm-nested.confï¼Œæ–‡ä»¶åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š options kvm_intel nested=1 options kvm-intel enable_shadow_vmcs=1 options kvm-intel enable_apicv=1 options kvm-intel ept=1 é‡æ–°åŠ è½½å†…æ ¸æ¨¡å— [root@localhost ~]# modprobe -r kvm_intel #ååŠ©æ‰å†…æ ¸ä¸­çš„ kvm_intel æ¨¡å—ï¼Œæ³¨æ„è¦åœ¨æ‰€æœ‰è™šæ‹Ÿæœºéƒ½å…³é—­çš„æƒ…å†µä¸‹æ‰§è¡Œ [root@localhost ~]# modprobe -a kvm_intel #é‡æ–°åŠ è½½è¯¥æ¨¡å— åˆ›å»ºkvmè™šæ‹Ÿæœº åˆ›å»ºè™šæ‹Ÿæœºç£ç›˜ [root@localhost ~]# qemu-img create -f raw /opt/android.img 8G åˆ›å»ºè™šæ‹Ÿæœº [root@localhost ~]# virt-install \\ --virt-type=kvm \\ --name android \\ --cpu host-passthrough \\ --vcpus=2 \\ --memory=4096 \\ --disk /opt/android-x86_64-9.0-r2.iso,device=cdrom,bus=ide \\ --disk /opt/android.img,device=disk,bus=virtio \\ --network network=default,model=virtio \\ --video=qxl \\ --graphics vnc,listen=0.0.0.0,port=5902 \\ --noautoconsole \\ --import \\ --force å®‰è£…Android-x86ç³»ç»Ÿ é€šè¿‡vncè¿æ¥å®¿ä¸»æœº5902ç«¯å£ çœ‹åˆ°å¦‚ä¸‹å¦‚ï¼Œè¡¨ç¤ºandroid x86çš„é•œåƒå·²ç»è¯»å–æˆåŠŸï¼Œæ¥ä¸‹æ¥æŒ‰ç…§è™šæ‹Ÿæœºåˆ›å»ºæµç¨‹æ¥å®‰è£…ç³»ç»Ÿã€‚ é€‰æ‹©Auto_Installationè‡ªåŠ¨å®‰è£…æ“ä½œç³»ç»Ÿåˆ°ç©ºç™½ç£ç›˜ æ‰«æåˆ°ç£ç›˜/dev/vdaï¼Œé€‰æ‹©yesç»§ç»­ çœ‹åˆ°ä¸‹å›¾è¡¨ç¤ºå®‰è£…å®Œæ¯•ï¼Œé€‰æ‹©Runå³å¯è¿›å»ç³»ç»Ÿã€‚ å¯ä»¥çœ‹åˆ°ç³»ç»Ÿå·²ç»æ­£å¸¸å¯åŠ¨ï¼Œç•Œé¢å¦‚ä¸‹ï¼š å¼€å§‹åˆå§‹åŒ–ï¼Œé€‰æ‹©START è¿æ¥ç½‘ç»œï¼ŒKVMé»˜è®¤ä¼šç»™androidç”Ÿæˆåç§°ä¸ºVritWifiçš„WI-FI é…ç½®æ—¥æœŸæ—¶é—´ é…ç½®googleæœåŠ¡ è®¾ç½®å¯†ç ï¼Œè¿™é‡Œé€‰æ‹©Not now é€‰æ‹©è·³è¿‡ é€‰æ‹©æ¡Œé¢ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯Taskbar ç‚¹å‡»ALWAYSï¼Œè¿›å…¥æ¡Œé¢åä¼šæœ‰ä¸ªå¯¼èˆªæ ã€‚ Android è°ƒè¯•æ¡¥ (adb) ä¸‹è½½Android SDK Platform-Toolsæ˜¯å®‰å“SDKçš„ä¸€ä¸ªç»„ä»¶ï¼ŒåŒ…æ‹¬å®‰å“çš„å¹³å°ç•Œé¢å·¥å…·ï¼ˆå¦‚adbã€fastbootã€systraceï¼‰ [root@localhost ~]# wget https://dl.google.com/android/repository/platform","date":"2022-05-10","objectID":"/posts/6dccc734/:0:0","tags":["android","kvm","linux"],"title":"åœ¨KVMè™šæ‹Ÿæœºä¸­å®‰è£…Android-x86æ¨¡æ‹Ÿå™¨","uri":"/posts/6dccc734/"},{"categories":["android"],"content":"å¹³å°ä»£å·ã€ç‰ˆæœ¬ã€API çº§åˆ«å’Œ NDK ç‰ˆæœ¬ ä¸‹è¡¨åˆ—å‡ºäº†ä»£å·ã€å¯¹åº”çš„ç‰ˆæœ¬å·ä»¥åŠå…³è”çš„ API çº§åˆ«ã€‚ ä»£å· ç‰ˆæœ¬ API çº§åˆ«/NDK ç‰ˆæœ¬ Android12L 12.1 API çº§åˆ« 32 Android12 12 API çº§åˆ« 31 Android11 11 API çº§åˆ« 30 Android10 10 API çº§åˆ« 29 Pie 9 API çº§åˆ« 28 Oreo 8.1.0 API çº§åˆ« 27 Oreo 8.0.0 API çº§åˆ« 26 Nougat 7.1 API çº§åˆ« 25 Nougat 7.0 API çº§åˆ« 24 Marshmallow 6.0 API çº§åˆ« 23 Lollipop 5.1 API çº§åˆ« 22 Lollipop 5.0 API çº§åˆ« 21 KitKat 4.4 - 4.4.4 API çº§åˆ« 19 Jelly Bean 4.3.x API çº§åˆ« 18 Jelly Bean 4.2.x API çº§åˆ« 17 Jelly Bean 4.1.x API çº§åˆ« 16 Ice Cream Sandwich 4.0.3 - 4.0.4 API çº§åˆ« 15ï¼ŒNDK 8 Ice Cream Sandwich 4.0.1 - 4.0.2 API çº§åˆ« 14ï¼ŒNDK 7 Honeycomb 3.2.x API çº§åˆ« 13 Honeycomb 3.1 API çº§åˆ« 12ï¼ŒNDK 6 Honeycomb 3.0 API çº§åˆ« 11 Gingerbread 2.3.3 - 2.3.7 API çº§åˆ« 10 Gingerbread 2.3 - 2.3.2 API çº§åˆ« 9ï¼ŒNDK 5 Froyo 2.2.x API çº§åˆ« 8ï¼ŒNDK 4 Eclair 2.1 API çº§åˆ« 7ï¼ŒNDK 3 Eclair 2.0.1 API çº§åˆ« 6 Eclair 2.0 API çº§åˆ« 5 Donut 1.6 API çº§åˆ« 4ï¼ŒNDK 2 Cupcake 1.5 API çº§åˆ« 3ï¼ŒNDK 1 ï¼ˆæ— ä»£å·ï¼‰ 1.1 API çº§åˆ« 2 ï¼ˆæ— ä»£å·ï¼‰ 1.0 API çº§åˆ« 1 å®‰è£…JDKç¯å¢ƒ root@w23ta0-virtual-machine# wget https://mirrors.huaweicloud.com/java/jdk/8u202-b08/jdk-8u202-linux-x64.tar.gz root@w23ta0-virtual-machine# tar zxvf jdk-8u202-linux-x64.tar.gz -C /opt export JAVA_HOME=\"/opt/jdk1.8.0_202\" export PATH=\"$PATH:$JAVA_HOME/bin\" export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar å®‰è£… Android æ¨¡æ‹Ÿå™¨ Command line tools root@w23ta0-virtual-machine# wget https://dl.google.com/android/repository/commandlinetools-linux-8092744_latest.zip root@w23ta0-virtual-machine# unzip commandlinetools-linux-8092744_latest.zip -d /opt/ root@w23ta0-virtual-machine# cd /opt/cmdline-tools/bin sdkmanager sdkmanager æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œæ‚¨å¯ä»¥ç”¨å®ƒæ¥æŸ¥çœ‹ã€å®‰è£…ã€æ›´æ–°å’Œå¸è½½ Android SDK çš„è½¯ä»¶åŒ…ã€‚ åˆå§‹åŒ–ç›®å½• root@w23ta0-virtual-machine# ./sdkmanager --sdk_root=opt/android-sdk --install æ¥å—æ‰€æœ‰è®¸å¯è¯ root@w23ta0-virtual-machine# ./sdkmanager --sdk_root=opt/android-sdk --licenses å®‰è£…çš„åŸºæœ¬å·¥å…· root@w23ta0-virtual-machine# ./sdkmanager --sdk_root=opt/android-sdk --install \"platforms;android-29\" \"build-tools;29.0.0\" \"platform-tools\" \"emulator\" \"cmdline-tools;latest\" \"system-images;android-29;default;x86\" avdmanager avdmanageræ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥ç”¨äºä»å‘½ä»¤è¡Œåˆ›å»ºå’Œç®¡ç† Android è™šæ‹Ÿè®¾å¤‡ (AVD)ã€‚å€ŸåŠ© AVDï¼Œæ‚¨å¯ä»¥å®šä¹‰è¦åœ¨ Android æ¨¡æ‹Ÿå™¨ä¸­æ¨¡æ‹Ÿçš„ Android æ‰‹æœºã€Wear OS æ‰‹è¡¨æˆ– Android TV è®¾å¤‡çš„ç‰¹æ€§ã€‚ æ·»åŠ Android SDKç¯å¢ƒå˜é‡ export ANDROID_SDK_ROOT=/opt/android-sdk export PATH=$PATH:$ANDROID_SDK_ROOT/emulator export PATH=$PATH:$ANDROID_SDK_ROOT/platform-tools/ export PATH=$PATH:$ANDROID_SDK_ROOT/cmdline-tools/latest/bin/ export PATH=$PATH:$ANDROID_SDK_ROOT/build-tools/29.0.0/ åˆ›å»ºæ–°çš„ AVD root@w23ta0-virtual-machine# echo \"no\" | avdmanager --verbose create avd --force --name \"android-29\" --package \"system-images;android-29;default;x86\" åˆ—å‡ºç°æœ‰çš„ Android è™šæ‹Ÿè®¾å¤‡ root@w23ta0-virtual-machine# avdmanager list avd Available Android Virtual Devices: Name: android-29 Path: /root/.android/avd/android-29.avd Target: Default Android System Image Based on: Android 10.0 (Q) Tag/ABI: default/x86 Sdcard: 512 MB ä»å‘½ä»¤è¡Œå¯åŠ¨æ¨¡æ‹Ÿå™¨ æŸ¥çœ‹ AVD åç§°çš„åˆ—è¡¨ root@w23ta0-virtual-machine# emulator -list-avds android-29 å¯åŠ¨æ¨¡æ‹Ÿå™¨ root@w23ta0-virtual-machine# emulator @android-29 -no-boot-anim -netdelay none -accel on -no-snapshot -wipe-data \u0026 Android è°ƒè¯•æ¡¥ (adb) Android è°ƒè¯•æ¡¥ (adb) æ˜¯ä¸€ç§åŠŸèƒ½å¤šæ ·çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯è®©æ‚¨ä¸è®¾å¤‡è¿›è¡Œé€šä¿¡ã€‚adb å‘½ä»¤å¯ç”¨äºæ‰§è¡Œå„ç§è®¾å¤‡æ“ä½œï¼ˆä¾‹å¦‚å®‰è£…å’Œè°ƒè¯•åº”ç”¨ï¼‰ï¼Œå¹¶æä¾›å¯¹ Unix shellï¼ˆå¯ç”¨æ¥åœ¨è®¾å¤‡ä¸Šè¿è¡Œå„ç§å‘½ä»¤ï¼‰çš„è®¿é—®æƒé™ã€‚ ä½¿ç”¨ devices å‘½ä»¤è·å–ç›®æ ‡è®¾å¤‡çš„åºåˆ—å· root@w23ta0-virtual-machine# adb devices List of devices attached emulator-5554 device ä½¿ç”¨ adb çš„ install å‘½ä»¤åœ¨æ¨¡æ‹Ÿå™¨æˆ–è¿æ¥çš„è®¾å¤‡ä¸Šå®‰è£… APK root@w23ta0-virtual-machine# adb install v2rayNG_1.1.14.apk Performing Streamed Install Success è·å–åº”ç”¨çš„è½¯ä»¶åŒ…åç§° root@w23ta0-virtual-machine# adb shell pm list packages |grep v2ray package:com.v2ray.ang è·å–åˆ°APPçš„è¯¦ç»†ä¿¡æ¯ root@w23ta0-virtual-machine# adb shell dumpsys package com.v2ray.ang Activity Resolver Table: Full MIME Types: text/plain: 9317857 com.v2ray.ang/.ui.MainActivity filter eb50f9f Action: \"android.intent.action.SEND\" Category: \"android.intent.category.DEFAULT\" Type: \"text/plain\" å¯åŠ¨åº”ç”¨ç¨‹åº root@w23ta0-virtual-machine# adb shell am start -n com.v2ray.ang/com.v2ray.ang.ui.MainActivity Starting: Intent { cmp=com.v2ray.ang/.ui.MainActivity } å…³é—­æŒ‡å®šåŒ…åçš„åº”ç”¨ç¨‹åº root@w23ta0-virtual-machine# adb shell am force-stop com.v2ray.ang ","date":"2022-05-06","objectID":"/posts/a864c7bd/:0:0","tags":["android","kvm","ubuntu"],"title":"Ubuntuä¸‹å…¨å‘½ä»¤è¡Œéƒ¨ç½²Androidæ¨¡æ‹Ÿå™¨","uri":"/posts/a864c7bd/"},{"categories":["å¤§æ•°æ®","kafka"],"content":"ç¯å¢ƒè¯´æ˜ å®¢æˆ·ç«¯ä¸KafkaæœåŠ¡ç«¯ä¸åœ¨åŒä¸€ä¸ªç½‘ç»œåŒºåŸŸï¼Œæ— æ³•ç›´æ¥è®¿é—®ã€‚éœ€è¦é€šè¿‡NATè¿›è¡Œåœ°å€æ˜ å°„ï¼Œå°†KafkaæœåŠ¡ç«¯10.0.0.182åœ°å€æ˜ å°„ä¸º172.25.0.190ï¼Œä»è€Œå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å¯ä»¥æ­£å¸¸é€šä¿¡ã€‚ Kafkaå®¢æˆ·ç«¯ NATæ˜ å°„åœ°å€ KafkaæœåŠ¡ç«¯ 172.16.0.233 172.25.0.190 10.0.0.182 é—®é¢˜ç°è±¡ é˜²ç«å¢™ç­–ç•¥å·²ç»å¼€é€šï¼Œå®¢æˆ·ç«¯å¯ä»¥pingé€šæœåŠ¡ç«¯æ˜ å°„åçš„åœ°å€172.25.0.190ã€‚ä¹Ÿå¯ä»¥telneté€šæ˜ å°„åœ°å€çš„9092ç«¯å£kafkaæœåŠ¡ç«¯å£ã€‚ä½†æ˜¯ä»å®¢æˆ·ç«¯å‘kafkaæœåŠ¡ç«¯å¯¹åº”çš„topicå‘é€æ¶ˆæ¯ï¼Œæ— æ³•æ”¶åˆ°ä»»ä½•æ¶ˆæ¯ã€‚ Kafkaå®‰è£… å®‰è£…JDK yum install java-1.8.0-openjdk ä¸‹è½½å¹¶è§£å‹kafkaè½¯ä»¶åŒ… cd /opt wget https://mirrors.tuna.tsinghua.edu.cn/apache/kafka/2.6.0/kafka_2.12-2.6.0.tgz tar zxvf kafka_2.12-2.6.0.tgz å¯åŠ¨kakfaæœåŠ¡ cd kafka_2.12-2.6.0 bin/zookeeper-server-start.sh config/zookeeper.properties \u0026 bin/kafka-server-start.sh config/server.properties \u0026 æ£€æŸ¥æœåŠ¡ç›‘å¬ [root@kafka-test ~]# ss -lntp State Recv-Q Send-Q Local Address:Port Peer Address:Port LISTEN 0 128 *:22 *:* users:((\"sshd\",pid=3231,fd=3)) LISTEN 0 50 :::40881 :::* users:((\"java\",pid=6647,fd=105)) LISTEN 0 50 :::46162 :::* users:((\"java\",pid=4152,fd=106)) LISTEN 0 128 :::22 :::* users:((\"sshd\",pid=3231,fd=4)) LISTEN 0 50 :::9092 :::* users:((\"java\",pid=4513,fd=122)) LISTEN 0 50 :::2181 :::* users:((\"java\",pid=4152,fd=117)) æœ¬æœºè®¿é—®æµ‹è¯• æ²¡æœ‰å‘ç°é—®é¢˜ #å‘é€æ¶ˆæ¯ bin/kafka-console-producer.sh --broker-list 172.25.0.190:9092 --topic test1 //æ³¨æ„è¿™é‡Œä¸èƒ½åœ¨ç”¨localhost #æŸ¥çœ‹æ¶ˆæ¯ bin/kafka-console-consumer.sh --bootstrap-server 172.25.0.190:9092 --topic test1 é€šè¿‡å®¢æˆ·ç«¯è¿æ¥ #é€šè¿‡å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ bin/kafka-console-producer.sh --broker-list 172.25.0.190:9092 --topic test1 é”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š [2020-10-30 17:04:18,795] WARN [Producer clientId=console-producer] Error connecting to node kafka-test:9092 (id: 0 rack: null) (org.apache.kafka.clients.NetworkClient) java.net.UnknownHostException: kafka-test: Name or service not known at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:928) at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1323) at java.net.InetAddress.getAllByName0(InetAddress.java:1276) at java.net.InetAddress.getAllByName(InetAddress.java:1192) at java.net.InetAddress.getAllByName(InetAddress.java:1126) at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110) at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:403) at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:363) at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:151) at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:958) at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:74) at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1131) at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1019) at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:542) at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:325) at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:240) at java.lang.Thread.run(Thread.java:748) è§£å†³æ–¹æ³• å‘ç°ä¸€ç›´å¡åœ¨é‚£é‡Œï¼Œæœ€ç»ˆä»¥è¶…æ—¶å¼‚å¸¸é€€å‡ºï¼Œæˆ–è€…æŠ¥brokeræ‰¾ä¸åˆ°çš„é”™è¯¯ã€‚å¦‚æœè¿”å›çš„æ˜¯IPåœ°å€ï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯æ— æ³•è®¿é—®çš„ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨kafkaçš„é…ç½®æ–‡ä»¶ä¸­ä¸æ¨èä½¿ç”¨IPåœ°å€çš„åŸå› ã€‚ç°åœ¨è¿”å›çš„æ˜¯ä¸»æœºåï¼Œå¾ˆç®€å•ï¼Œåœ¨å®¢æˆ·ç«¯çš„hostsæ–‡ä»¶ä¸­æ·»åŠ ï¼š 172.25.0.190 kafka-test ","date":"2020-10-30","objectID":"/posts/3a642ee8/:0:0","tags":["kakfa"],"title":"è§£å†³Kafkaè·¨ç½‘ç»œNATä¼ è¾“é—®é¢˜","uri":"/posts/3a642ee8/"},{"categories":["è™šæ‹ŸåŒ–","OpenStack"],"content":"å‰ç½®æ¡ä»¶ å‡†å¤‡ä¸€å°ä¸»æœºã€‚ç”¨äºè¿è¡ŒKVMè™šæ‹Ÿæœºå’Œåˆ¶ä½œé•œåƒ å‡†å¤‡ä¸€å¼ ç³»ç»Ÿé•œåƒISOæ–‡ä»¶ ç¡®ä¿æ‚¨çš„ç³»ç»Ÿå…·æœ‰ç¡¬ä»¶è™šæ‹ŸåŒ–æ‰©å±• #åŸºäºIntelçš„ä¸»æœºï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤éªŒè¯CPUè™šæ‹ŸåŒ–æ‰©å±•[vmx]æ˜¯å¦å¯ç”¨ã€‚ [user@host]# grep -e 'vmx' /proc/cpuinfo #åŸºäºAMDçš„ä¸»æœºï¼Œè¯·éªŒè¯CPUè™šæ‹ŸåŒ–æ‰©å±•[svm]æ˜¯å¦å¯ç”¨ã€‚ [user@host]# grep -e 'svm' /proc/cpuinfo #éªŒè¯å†…æ ¸æ˜¯å¦åŠ è½½kvmæ¨¡å— [user@host]# lsmod | grep kvm kvm_intel 170086 0 kvm 566340 1 kvm_intel irqbypass 13503 1 kvm å…³é—­SELinuxï¼Œå°† /etc/sysconfig/selinux ä¸­çš„ SELinux=enforcing ä¿®æ”¹ä¸º SELinux=disabled ä¸¤ç§æ–¹å¼å®‰è£…KVMè™šæ‹ŸåŒ– é€šè¿‡æ‰‹åŠ¨æ–¹å¼å®‰è£… å®‰è£…KVMè™šæ‹ŸåŒ–ç¨‹åº qemu-kvmï¼šæä¾›äº†user-level KVMä»¿çœŸå™¨ï¼Œä»¥åŠå®¿ä¸»æœºå’Œè™šæ‹Ÿæœºä¹‹é—´çš„é€šä¿¡ã€‚ qemu-imgï¼šè™šæ‹Ÿæœºç£ç›˜ç®¡ç†ã€‚ libvirtï¼šæä¾›æœåŠ¡å™¨å’Œä¸»æœºç«¯çš„åº“ï¼Œç”¨äºä¸ç®¡ç†ç¨‹åºå’Œä¸»æœºç³»ç»Ÿè¿›è¡Œäº¤äº’ï¼Œä»¥åŠå¤„ç†åº“è°ƒç”¨ï¼Œç®¡ç†è™šæ‹Ÿæœºå’Œæ§åˆ¶libvirtdå®ˆæŠ¤ç¨‹åºã€‚ [user@host]# yum install qemu-kvm libvirt [user@host]# systemctl start libvirtd \u0026\u0026 systemctl enable libvirtd ä»¥ä¸‹æ˜¯é™„åŠ çš„è™šæ‹ŸåŒ–ç®¡ç†ç¨‹åºåŒ…ã€‚ virt-installï¼šæä¾›äº†virt-installç”¨äºä»å‘½ä»¤è¡Œåˆ›å»ºè™šæ‹Ÿæœºçš„å‘½ä»¤ã€‚ libvirt-pythonï¼šè¯¥è½¯ä»¶åŒ…åŒ…å«ä¸€ä¸ªæ¨¡å—ï¼Œè¯¥æ¨¡å—å…è®¸ä»¥Pythonç¼–ç¨‹è¯­è¨€ç¼–å†™çš„åº”ç”¨ç¨‹åºä½¿ç”¨libvirt APIæä¾›çš„æ¥å£ã€‚ virt-managerï¼šæä¾›GUIå·¥å…·æ¥ç®¡ç†è™šæ‹Ÿæœºï¼Œå®ƒä½¿ç”¨libvirt-clientåº“APIè¿›è¡Œç®¡ç†ã€‚ libvirt-clientï¼šæä¾›CLå·¥å…·æ¥ç®¡ç†è™šæ‹Ÿæœºï¼Œè¯¥å·¥å…·ç§°ä¸ºvirsh [user@host]# yum install virt-install libvirt-python virt-manager virt-install libvirt-client å¯¹äºRHEL / CentOS7ç”¨æˆ·ï¼Œè¿˜éœ€è¦å®‰è£…å…¶ä»–è½¯ä»¶`Virtualization Client`ã€`Virtualization Platform`å’Œ`Virtualization Tools`ã€‚ ```bash [user@host]# yum groupinstall virtualization-client virtualization-platform virtualization-tools é€šè¿‡è½¯ä»¶åŒ…ç»„å®‰è£… åŒ…ç»„åç§° æè¿° å¼ºåˆ¶å®‰è£… å¯é€‰åŒ… Virtualization Host æœ€å°çš„è™šæ‹ŸåŒ–ä¸»æœºå®‰è£… libvirtï¼Œqemu-kvmï¼Œqemu-img qemu-kvm-tools Virtualization Client ç”¨äºå®‰è£…å’Œç®¡ç†è™šæ‹ŸåŒ–å®ä¾‹çš„å®¢æˆ·ç«¯ gnome-boxesï¼Œvirt-installï¼Œvirt-managerï¼Œvirt-viewerï¼Œqemu-img virt-topï¼Œlibguestfs-toolsï¼Œlibguestfs-tools-c Virtualization Platform æä¾›ç”¨äºè®¿é—®å’Œæ§åˆ¶è™šæ‹Ÿæœºå’Œå®¹å™¨çš„ç•Œé¢ libvirt, libvirt-client, virt-who, qemu-img fence-virtd-libvirtï¼Œfence-virtd-multicastï¼Œfence-virtd-serialï¼Œlibvirt-cimï¼Œlibvirt-javaï¼Œlibvirt-snmpï¼Œperl-Sys-Virt Virtualization Tools ç¦»çº¿è™šæ‹Ÿæ˜ åƒç®¡ç†å·¥å…· libguestfsï¼Œqemu-img libguestfs-javaï¼Œlibguestfs-toolsï¼Œlibguestfs-tools-c å‘½ä»¤å¦‚ä¸‹ï¼š [user@host]# yum groupinstall \"Virtualization Host\" [user@host]# yum groupinstall \"Virtualization Client\" [user@host]# yum groupinstall \"Virtualization Platform\" [user@host]# yum groupinstall \"Virtualization Tools\" å¼€å§‹åˆ¶ä½œé•œåƒ åˆ›å»ºè™šæ‹Ÿæœº ä½¿ç”¨ qemu-img åˆ›å»º8Gå¤§å°çš„è™šæ‹Ÿç£ç›˜ [user@host]# qemu-img create -f qcow2 /tmp/centos7.qcow2 8G ä½¿ç”¨ virt-install åˆ›å»ºå¹¶å¯åŠ¨è™šæ‹Ÿæœº [user@host]# virt-install --virt-type kvm --name centos7 --ram 2048 \\ --cdrom /tmp/CentOS-7-x86_64-Minimal-2003.iso \\ --disk /tmp/centos7.qcow2,format=qcow2,bus=virtio \\ --network network=default --graphics vnc,listen=0.0.0.0 \\ --noautoconsole --os-type=linux å¯åŠ¨å®Œæˆåï¼Œä½¿ç”¨vnc clientè¿æ¥æˆ–è€…ä½¿ç”¨virt-managerã€virt-viewerè¿æ¥ã€‚ [user@host]# virsh list --all [user@host]# virt-viewer centos7 å®‰è£…æ“ä½œç³»ç»Ÿ è¿›å…¥è™šæ‹Ÿæœºæ§åˆ¶å°å¯ä»¥çœ‹åˆ°CentOSçš„å¯åŠ¨èœå• é€‰æ‹©Install CentOS 7ï¼Œæ•²Tabé”®å‡ºç°å­—æ—¶ï¼Œæ¥ç€è¾“å…¥ net.ifnames=0 biosdevname=0 ï¼Œç„¶åå›è½¦ é€‰æ‹©è¯­è¨€å’Œé”®ç›˜é€‰é¡¹ è½¯ä»¶é€‰æ‹©Minimal Install éœ€è¦é€‰æ‹©æ‰‹åŠ¨é…ç½®åˆ†åŒºã€‚åªéœ€è¦ä¸€ä¸ªæ ¹åˆ†åŒºå³å¯ï¼Œä¸éœ€è¦swapåˆ†åŒºï¼Œå­˜å‚¨é©±åŠ¨é€‰æ‹©Virtio Block Device å®‰è£…å®Œæˆåï¼Œé‡å¯å®ä¾‹å¹¶ä»¥ root ç”¨æˆ·èº«ä»½ç™»å½•ã€‚ ä¿®æ”¹ /etc/sysconfig/network-scripts/ifcfg-eth0 æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š TYPE=Ethernet DEVICE=eth0 ONBOOT=yes BOOTPROTO=dhcp NM_CONTROLLED=no é‡å¯ç½‘å¡ # systemctl restart network æŸ¥çœ‹è™šæ‹Ÿæœºè‡ªåŠ¨è·å–çš„IPåœ°å€ï¼Œé€šè¿‡å®¿ä¸»æœºsshè¿æ¥è¿›å…¥è™šæ‹Ÿæœºã€‚ é…ç½®OS å®‰è£…å¸¸ç”¨çš„è½¯ä»¶ # yum install -y mlocate lrzsz tree vim nc nmap bash-completion bash-completion-extras cowsay sl htop iotop iftop lsof net-tools sysstat unzip bc psmisc ntpdate wc telnet-server bind-utils å…³é—­é˜²ç«å¢™å’ŒSELinux # setenforce 0 # sed -i 's#enforcing#disabled#' /etc/sysconfig/selinux # systemctl stop firewalld \u0026\u0026 systemctl disable firewalld sshdä¼˜åŒ–åŠ é€Ÿ # vim /etc/ssh/sshd_config UseDNS no GSSAPIAuthentication no UseDNS ä¼šå¯¹å®¢æˆ·ç«¯è¿›è¡ŒDNSåå‘è§£æï¼Œç„¶ååœ¨æ¯”å¯¹æ­£å‘è§£æçš„ç»“æœæŸ¥çœ‹æ˜¯å¦ä¸€è‡´ã€‚ GSSAPIAuthenticationå¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨å¯†ç éªŒè¯æˆ–è€…ç§˜é’¥éªŒè¯æ‰€ä»¥å…³é—­GSSAPIéªŒè¯å³å¯ å®‰è£… cloud-init è½¯ä»¶åŒ…ï¼Œå¹¶è®¾ç½®å¼€æœºå¯åŠ¨ # yum install -y cloud-utils-growpart cloud-init # systemctl enable cloud-init é»˜è®¤æƒ…å†µä¸‹ï¼Œcloud-init åœ¨è™šæ‹Ÿæœºå¯åŠ¨æ—¶ï¼Œä¼šå…³é—­ssh çš„å¯†ç è®¤è¯æ–¹å¼ï¼Œä½¿ç”¨key æ–¹å¼è¿æ¥ã€‚ä¿®æ”¹cloud-init çš„é…ç½®æ–‡ä»¶ï¼Œä½¿å…¶æ‰“å¼€ssh å¯†ç è®¤è¯æ–¹å¼ã€‚æ–¹æ³•å¦‚ä¸‹ï¼š # vi /etc/cloud/cloud.cfg users: - default disable_root: 1 ssh_pwauth: 1 // å°†é»˜è®¤çš„0,æ”¹ä¸º1ã€‚ ä¸ºäº†æ”¯æŒè½¯æ“ä½œï¼Œè™šæ‹Ÿæœºéœ€è¦å®‰è£…acpidæœåŠ¡ï¼Œå¹¶è®¾ç½®å¼€æœºè‡ªå¯åŠ¨ # yum install -y acpid # systemctl enable acpid ä¸ºäº†nova console-logèƒ½è·å–è™šæ‹Ÿæœºå¯åŠ¨æ—¶çš„æ—¥å¿—ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶/etc/default/grubï¼Œåˆ æ‰GRUB_CMDLINE_LINUX ä¸€è¡Œä¸­ rhgb quiet,æ·»åŠ  console=tty0 console=ttyS0,115200n8 , ä¿®æ”¹åçš„ç»“æœå¦‚ä¸‹ï¼š GRUB_CMDLINE_LINUX=\"crashkernel=auto console=tty0 console=ttyS0,115200n8\" è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¿å­˜ä¿®æ”¹ # grub2-mkconfig -o /boot/grub2/grub.cfg ","date":"2020-10-26","objectID":"/posts/e4a4f171/:0:0","tags":["openstack","qcow2","kvm"],"title":"åˆ›å»ºOpenStackå…¼å®¹çš„qcow2æ ¼å¼é•œåƒ","uri":"/posts/e4a4f171/"},{"categories":["å®¹å™¨","Kubernetes"],"content":"ç¯å¢ƒå‡†å¤‡ IPåœ°å€ ç³»ç»Ÿ ä¸»æœºå 172.16.0.245 CentOS7.6 k8s-master 172.16.0.246 CentOS7.6 k8s-node1 172.16.0.247 CentOS7.6 k8s-node2 åœ¨ä¸»èŠ‚ç‚¹ä¸Šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ åœç”¨SELinuxå’Œé˜²ç«å¢™æœåŠ¡ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç™»å½•åˆ°æ‚¨çš„kubernetesä¸»èŠ‚ç‚¹å¹¶è®¾ç½®ä¸»æœºåå¹¶ç¦ç”¨selinux ~]# hostnamectl set-hostname 'k8s-master' ~]# exec bash ~]# setenforce 0 ~]# sed -i --follow-symlinks 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/sysconfig/selinux åœç”¨é˜²ç«å¢™æœåŠ¡ [root@k8s-master ~]# systemctl stop firewalld [root@k8s-master ~]# systemctl disable firewalld åˆ›å»º/etc/sysctl.d/k8s.conf æ–‡ä»¶ cat \u003c\u003cEOF \u003e /etc/sysctl.d/k8s.conf net.bridge.bridge-nf-call-ip6tables = 1 net.bridge.bridge-nf-call-iptables = 1 net.ipv4.ip_forward = 1 EOF æŠŠä»¥ä¸Šé…ç½®ä¿®æ”¹çš„ä½¿å…¶ç”Ÿæ•ˆã€‚ [root@k8s-master ~]# modprobe br_netfilter [root@k8s-master ~]# sysctl -p /etc/sysctl.d/k8s.conf ä½¿ç”¨swapoff -aå‘½ä»¤ç¦ç”¨æ‰€æœ‰èŠ‚ç‚¹çš„swapåˆ†åŒºï¼Œå¹¶ä»/etc/fstabæ–‡ä»¶ä¸­åˆ é™¤æˆ–æ³¨é‡Šæ‰äº¤æ¢åˆ†åŒºæˆ–äº¤æ¢æ–‡ä»¶ [root@k8s-master ~]# sed -i '/swap/ s/^/#/' /etc/fstab [root@k8s-master ~]# swapoff -a æ³¨æ„ï¼šå¦‚æœæ‚¨æ²¡æœ‰è‡ªå·±çš„dnsæœåŠ¡å™¨ï¼Œè¯·åœ¨ä¸»èŠ‚ç‚¹å’Œå·¥ä½œèŠ‚ç‚¹ä¸Šæ›´æ–°/etc/hostsæ–‡ä»¶ cat \u003c\u003c EOF \u003e\u003e /etc/hosts 172.16.0.245 k8s-master 172.16.0.246 k8s-node1 172.16.0.247 k8s-node2 EOF é…ç½®Kuberneteså­˜å‚¨åº“ KubernetesåŒ…åœ¨é»˜è®¤çš„CentOS 7å’ŒRHEL 7å­˜å‚¨åº“ä¸­ä¸å¯ç”¨ï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥é…ç½®å®ƒçš„åŒ…å­˜å‚¨åº“ [root@k8s-master ~]# cat \u003c\u003cEOF \u003e /etc/yum.repos.d/kubernetes.repo [kubernetes] name=Kubernetes baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/ enabled=1 gpgcheck=1 repo_gpgcheck=1 gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg EOF [root@k8s-master ~]# å®‰è£…Kubeadmå’ŒDocker é…ç½®è½¯ä»¶åŒ…å­˜å‚¨åº“åï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£…kubeadmå’Œdockerè½¯ä»¶åŒ…ã€‚ [root@k8s-master ~]# yum install kubeadm docker -y å¯åŠ¨å¹¶å¯ç”¨Kubectlå’ŒDockeræœåŠ¡ [root@k8s-master ~]# systemctl restart docker \u0026\u0026 systemctl enable docker [root@k8s-master ~]# systemctl restart kubelet \u0026\u0026 systemctl enable kubelet ä½¿ç”¨\"kubeadm init\"åˆå§‹åŒ–Kubernetes Master è¿è¡Œä¸‹é¢çš„å‘½ä»¤ä»¥åˆå§‹åŒ–å’Œè®¾ç½®kubernetes masterã€‚ [root@k8s-master ~]# kubeadm init \\ --apiserver-advertise-address=172.16.0.245 \\ --image-repository registry.aliyuncs.com/google_containers \\ --kubernetes-version v1.18.0 \\ --service-cidr=10.233.0.0/16 --pod-network-cidr=10.244.0.0/16 å‚æ•°è¯´æ˜ --apiserver-advertise-addressï¼šè¡¨ç¤ºapiserverå¯¹å¤–çš„åœ°å€æ˜¯ä»€ä¹ˆï¼Œé»˜è®¤æ˜¯0.0.0.0 --apiserver-bind-portï¼šè¡¨ç¤ºapiserverçš„ç«¯å£æ˜¯ä»€ä¹ˆï¼Œé»˜è®¤æ˜¯6443 --cert-dirï¼šåŠ è½½è¯ä¹¦çš„ç›®å½•ï¼Œé»˜è®¤åœ¨/etc/kubernetes/pki --configï¼šé…ç½®æ–‡ä»¶ --ignore-preflight-errorsï¼šåœ¨é¢„æ£€ä¸­å¦‚æœæœ‰é”™è¯¯å¯ä»¥å¿½ç•¥æ‰ï¼Œæ¯”å¦‚å¿½ç•¥ IsPrivilegedUser,Swap.ç­‰ --kubernetes-versionï¼šæŒ‡å®šè¦åˆå§‹åŒ–k8sçš„ç‰ˆæœ¬ä¿¡æ¯æ˜¯ä»€ä¹ˆ --pod-network-cidr ï¼šæŒ‡å®špodä½¿ç”¨å“ªä¸ªç½‘æ®µï¼Œé»˜è®¤ä½¿ç”¨10.244.0.0/16 --service-cidrï¼šæŒ‡å®šserviceç»„ä»¶ä½¿ç”¨å“ªä¸ªç½‘æ®µï¼Œé»˜è®¤10.96.0.0/12 ä¸Šé¢å‘½ä»¤çš„è¾“å‡ºå¦‚ä¸‹æ‰€ç¤º æ­£å¦‚æˆ‘ä»¬åœ¨è¾“å‡ºä¸­çœ‹åˆ°çš„é‚£æ ·ï¼Œkubernetes masterå·²æˆåŠŸåˆå§‹åŒ–ã€‚ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥å°†ç¾¤é›†ç”¨ä½œrootç”¨æˆ·ã€‚ [root@k8s-master ~]# mkdir -p $HOME/.kube [root@k8s-master ~]# cp -i /etc/kubernetes/admin.conf $HOME/.kube/config [root@k8s-master ~]# chown $(id -u):$(id -g) $HOME/.kube/config å°†podç½‘ç»œéƒ¨ç½²åˆ°é›†ç¾¤ å°è¯•è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥è·å–é›†ç¾¤å’ŒPodçš„çŠ¶æ€ã€‚ è¦å‡†å¤‡å¥½ç¾¤é›†çŠ¶æ€å¹¶è¿è¡Œkube-dnsçŠ¶æ€ï¼Œè¯·éƒ¨ç½²Podç½‘ç»œï¼Œä»¥ä½¿ä¸åŒä¸»æœºçš„å®¹å™¨ç›¸äº’é€šä¿¡ã€‚ PODç½‘ç»œæ˜¯å·¥ä½œèŠ‚ç‚¹ä¹‹é—´çš„è¦†ç›–ç½‘ç»œã€‚ è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥éƒ¨ç½²ç½‘ç»œ [root@k8s-master ~]# export kubever=$(kubectl version | base64 | tr -d '\\n') [root@k8s-master ~]# kubectl apply -f \"https://cloud.weave.works/k8s/net?k8s-version=$kubever\" serviceaccount \"weave-net\" created clusterrole \"weave-net\" created clusterrolebinding \"weave-net\" created daemonset \"weave-net\" created [root@k8s-master ~]# ç°åœ¨è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥éªŒè¯çŠ¶æ€ [root@k8s-master ~]# kubectl get node NAME STATUS ROLES AGE VERSION k8s-master Ready master 27m v1.18.3 [root@k8s-master ~]# kubectl get pods --all-namespaces NAMESPACE NAME READY STATUS RESTARTS AGE kube-system coredns-7ff77c879f-fqrrb 1/1 Running 0 26m kube-system coredns-7ff77c879f-hwrv6 1/1 Running 0 26m kube-system etcd-k8s-master 1/1 Running 0 27m kube-system kube-apiserver-k8s-master 1/1 Running 0 27m kube-system kube-controller-manager-k8s-master 1/1 Running 0 27m kube-system kube-proxy-sbssp 1/1 Running 0 26m kube-system kube-scheduler-k8s-master 1/1 Running 0 27m kube-system weave-net-mm2xz 2/2 Running 0 6m51s [root@k8s-master ~]# ç°åœ¨ï¼Œæˆ‘ä»¬å°†å·¥ä½œç¨‹åºèŠ‚ç‚¹æ·»åŠ åˆ°Kubernetesä¸»èŠ‚ç‚¹ã€‚ åœ¨æ¯ä¸ªå·¥ä½œèŠ‚ç‚¹ä¸Šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ åœç”¨SELinuxå’Œé˜²ç«å¢™æœåŠ¡ åœ¨ç¦ç”¨SELinuxä¹‹å‰ï¼Œå°†ä¸¤ä¸ªèŠ‚ç‚¹ä¸Šçš„ä¸»æœºååˆ†åˆ«è®¾ç½®ä¸ºk8s-node1å’Œk8s-node2 ~]# hostnamectl set-hostname 'k8s-node{1 or 2}' ~]# exec bash ~]# setenforce 0 ~]# sed -i --follow-symlinks 's/SEL","date":"2020-05-30","objectID":"/posts/e481e229/:0:0","tags":["docker","k8s","Kubernetes"],"title":"å¦‚ä½•åœ¨CentOS7ä¸Šå®‰è£…Kubernetes (k8s) 1.8","uri":"/posts/e481e229/"},{"categories":["ç¼–ç¨‹è¯­è¨€","ä»£ç è´¨é‡"],"content":"ç¯å¢ƒå‡†å¤‡ SonarQubeï¼šsonarqube-7.9.3 æ•°æ®åº“ï¼šPostgreSQL 10.10 æ“ä½œç³»ç»Ÿï¼šCentOS 7.6 JDKç‰ˆæœ¬ï¼šjava-11-openjdk sonarqubeä»7.8èµ·ï¼Œä¸å†æ”¯æŒmysql sonarqubeä»7.9èµ·ï¼Œä¸å†æ”¯æŒjdk11ä»¥ä¸‹ç‰ˆæœ¬ å®‰è£…JDK yum install java-11-openjdk -y å®‰è£…PostgreSQL å®‰è£…RPMæº yum install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm å®‰è£…å®¢æˆ·ç«¯ yum install postgresql10 å®‰è£…æœåŠ¡ç«¯ yum install postgresql10-server åˆå§‹åŒ–æ•°æ®å’Œè®¾ç½®è‡ªåŠ¨å¯åŠ¨ /usr/pgsql-10/bin/postgresql-10-setup initdb systemctl enable postgresql-10 systemctl start postgresql-10 ç™»å½•æ•°æ®åº“ su - postgres psql -U postgres åˆ›å»ºsonarqubeç”¨æˆ· create user sonarqube with password 'sonarqube'; create database sonarqube owner sonarqube; grant all on database sonarqube to sonarqube; create schema my_schema; é€€å‡ºpsqlï¼ˆè¾“å…¥ \\q å†æŒ‰å›è½¦é”®å³å¯ï¼‰ \\q å¼€å¯è¿œç¨‹è®¿é—® ä¿®æ”¹/var/lib/pgsql/10/data/postgresql.confæ–‡ä»¶ï¼Œå–æ¶ˆ listen_addresses çš„æ³¨é‡Šï¼Œå°†å‚æ•°å€¼æ”¹ä¸ºâ€œ*â€ ä¿®æ”¹/var/lib/pgsql/10/data/pg_hba.confæ–‡ä»¶ï¼Œå¢åŠ ä¸‹å›¾çº¢æ¡†éƒ¨åˆ†å†…å®¹ åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼Œé‡å¯postgresqlæœåŠ¡ systemctl restart postgresql-10.service å¸¸ç”¨å‘½ä»¤ systemctl start postgresql-10.service // å¯åŠ¨æœåŠ¡ systemctl stop postgresql-10.service // å…³é—­æœåŠ¡ systemctl restart postgresql-10.service // é‡å¯æœåŠ¡ systemctl status postgresql-10.service // æŸ¥çœ‹çŠ¶æ€ å®‰è£…SonarQube æ·»åŠ ç³»ç»Ÿç”¨æˆ· useradd sonarqube passwd sonarqube SonarQubeå†…ç½®elasticsearchä¸å…è®¸ä½¿ç”¨rootç”¨æˆ·å¯åŠ¨ ä¸‹è½½å¹¶è§£å‹å®‰è£…åŒ… cd /opt wget https://binaries.sonarsource.com/Distribution/sonarqube/sonarqube-7.9.3.zip unzip sonarqube-7.9.3.zip ä¿®æ”¹ç›®å½•æƒé™ chown -R sonarqube.sonarqube /opt/sonarqube-7.9.3 -R åˆ›å»ºè½¯è¿æ¥ ln -s /opt/sonarqube-7.9.3/bin/linux-x86-64/sonar.sh /etc/init.d/sonar chmod +x /etc/init.d/sonar ä¿®æ”¹é…ç½® vi /opt/sonarqube-7.9.3/conf/sonar.properties sonar.jdbc.username=sonarqube sonar.jdbc.password=sonarqube sonar.jdbc.url=jdbc:postgresql://172.16.0.92/sonarqube ç™»é™†å¯åŠ¨ç”¨æˆ·ï¼Œå¯åŠ¨ç¨‹åº su - sonarqube service sonar start ç™»å½•è®¿é—® è®¿é—®urlï¼šhttp://172.16.0.92:9000 é»˜è®¤ç”¨æˆ·å/å¯†ç ï¼šadmin/admin ä¸­æ–‡è¯­è¨€åŒ… å¸¸ç”¨å‘½ä»¤ service sonar start // å¯åŠ¨æœåŠ¡ service sonar stop // å…³é—­æœåŠ¡ service sonar restart // é‡å¯æœåŠ¡ chkconfig sonar on // è®¾ç½®å¼€æœºå¯åŠ¨ chkconfig sonar off // å…³é—­å¼€æœºå¯åŠ¨ å®‰è£…SonarScanner ä¸‹è½½åœ°å€ï¼šhttps://docs.sonarqube.org/latest/analysis/scan/sonarscanner/ ä¸‹è½½å¹¶è§£å‹å®‰è£…åŒ… cd /opt wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-4.2.0.1873-linux.zip unzip sonar-scanner-cli-4.2.0.1873-linux.zip åˆ›å»ºè½¯è¿æ¥ ln -s sonar-scanner-cli-4.2.0.1873-linux sonar-scanner é…ç½®PATH cat \u003e /etc/profile.d/sonar-scanner.sh \u003c\u003cEOF export SONAR_RUNNER_HOME=/opt/sonar-scanner export PATH=$PATH:/opt/sonar-scanner/bin EOF source /etc/profile.d/sonar-scanner.sh å¼€å§‹æ‰«æ ","date":"2020-04-27","objectID":"/posts/6aa4d5ee/:0:0","tags":["CentOS7","SonaeQube"],"title":"å¦‚ä½•åœ¨CentOS7ä¸Šå®‰è£…SonaeQube7.9","uri":"/posts/6aa4d5ee/"},{"categories":["è™šæ‹ŸåŒ–","OpenStack"],"content":"åœ¨æ‰§è¡Œæ—¶init-runonce æ—¶ï¼ŒæŠ¥é”™è¯¯å¦‚ä¸‹: Traceback (most recent call last): File \"/usr/bin/openstack\", line 7, in \u003cmodule\u003e from openstackclient.shell import main File \"/usr/lib/python2.7/site-packages/openstackclient/shell.py\", line 23, in \u003cmodule\u003e from osc_lib import shell File \"/usr/lib/python2.7/site-packages/osc_lib/shell.py\", line 33, in \u003cmodule\u003e from osc_lib.cli import client_config as cloud_config File \"/usr/lib/python2.7/site-packages/osc_lib/cli/client_config.py\", line 18, in \u003cmodule\u003e from openstack.config import exceptions as sdk_exceptions File \"/usr/lib/python2.7/site-packages/openstack/__init__.py\", line 17, in \u003cmodule\u003e import openstack.connection File \"/usr/lib/python2.7/site-packages/openstack/connection.py\", line 166, in \u003cmodule\u003e from openstack.cloud import openstackcloud as _cloud File \"/usr/lib/python2.7/site-packages/openstack/cloud/openstackcloud.py\", line 35, in \u003cmodule\u003e import dogpile.cache File \"/usr/lib/python2.7/site-packages/dogpile/cache/__init__.py\", line 1, in \u003cmodule\u003e from .region import CacheRegion, register_backend, make_region # noqa File \"/usr/lib/python2.7/site-packages/dogpile/cache/region.py\", line 15, in \u003cmodule\u003e from decorator import decorate ImportError: cannot import name decorate æŒ‰ç…§å®˜æ–¹æ•™ç¨‹æ“ä½œï¼Œopenstackå·²ç»æ˜¯æ­å»ºæˆåŠŸã€‚ æ‰§è¡Œopenstackå‘½ä»¤ä¹ŸæŠ¥ä¸Šè¿°é”™è¯¯ï¼Œä¹‹å‰æç¤ºå®‰è£…æˆåŠŸäº†ï¼Œäºæ˜¯å¸è½½pip uninstallå‘½ä»¤ï¼Œå†é‡æ–°å®‰è£…ï¼Œé—®é¢˜ä¾æ—§ã€‚ æœ€åç»¼åˆåˆ†æï¼Œè¯¥é—®é¢˜æ˜¯openstackclientå‡ºçš„é—®é¢˜ï¼Œå¯èƒ½æ˜¯ç›¸å…³ä¾èµ–æ²¡æœ‰å®‰è£…ï¼Œäºæ˜¯æ‰§è¡Œ pip install --ignore-installedÂ python-openstackclient é—®é¢˜è§£å†³ï¼ ","date":"2018-12-14","objectID":"/posts/2cae80fc/:0:0","tags":["openstack","openstackclient"],"title":"openstackclientå‘½ä»¤æ‰§è¡ŒæŠ¥é”™","uri":"/posts/2cae80fc/"},{"categories":["å®¹å™¨","Docker"],"content":"æ‰§è¡Œdocker pullè¿‡ç¨‹ä¸­æŠ¥é”™ï¼š Error response from daemon: Get https://xxx.xxx.xxx.xxx:5000/v2/ : http: server gave HTTP response to HTTPS client è¿™æ˜¯ç”±äºRegistryä¸ºäº†å®‰å…¨æ€§è€ƒè™‘ï¼Œé»˜è®¤æ˜¯éœ€è¦httpsè¯ä¹¦æ”¯æŒçš„ã€‚ è§£å†³æ–¹æ³•ï¼š åœ¨/etc/docker/daemon.jsonæ–‡ä»¶ä¸­æ–°å¢ä¸€è¡Œ\"insecure-registries\":[â€œxxx.xxx.xxx:5000â€]ï¼Œæ²¡æœ‰åˆ™æ–°å»ºæ­¤æ–‡ä»¶ã€‚ vi /etc/docker/daemon.json { \"insecure-registries\":[\"xxx.xxx.xxx.xxx:5000\"] } #é‡å¯docker sudo /etc/init.d/docker restart éœ€è¦è®¿é—®ç§æœ‰registryçš„èŠ‚ç‚¹éƒ½éœ€è¦æ‰§è¡Œæ­¤æ“ä½œã€‚ å‚è€ƒï¼š","date":"2017-12-29","objectID":"/posts/3bf7d2bc/:0:0","tags":["docker","registry"],"title":"Dockerç§æœ‰ä»“åº“pullé•œåƒæŠ¥é”™ï¼šserver gave HTTP response to HTTPS client","uri":"/posts/3bf7d2bc/"},{"categories":["èº«ä»½è®¤è¯","kerberos"],"content":"Kerberos æœåŠ¡(kerberoså®˜ç½‘)æ˜¯ä¸€ç§é€šè¿‡ç½‘ç»œæä¾›å®‰å…¨éªŒè¯å¤„ç†çš„å®¢æˆ·æœº/æœåŠ¡å™¨ä½“ç³»ç»“æ„ã€‚é€šè¿‡éªŒè¯ï¼Œå¯ä¿è¯ç½‘ç»œäº‹åŠ¡çš„å‘é€è€…å’Œæ¥æ”¶è€…çš„èº«ä»½çœŸå®ã€‚è¯¥æœåŠ¡è¿˜å¯ä»¥æ£€éªŒæ¥å›ä¼ é€’çš„æ•°æ®çš„æœ‰æ•ˆæ€§ï¼ˆå®Œæ•´æ€§ï¼‰ï¼Œå¹¶åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼ˆä¿å¯†æ€§ï¼‰ã€‚ä½¿ç”¨ Kerberos æœåŠ¡ï¼Œå¯ä»¥å®‰å…¨ç™»å½•åˆ°å…¶ä»–è®¡ç®—æœºã€æ‰§è¡Œå‘½ä»¤ã€äº¤æ¢æ•°æ®ä»¥åŠä¼ è¾“æ–‡ä»¶ã€‚æ­¤å¤–ï¼Œè¯¥æœåŠ¡è¿˜æä¾›æˆæƒæœåŠ¡ï¼Œè¿™æ ·ï¼Œç®¡ç†å‘˜ä¾¿å¯é™åˆ¶å¯¹æœåŠ¡å’Œè®¡ç®—æœºçš„è®¿é—®ã€‚è€Œä¸”ï¼Œä½œä¸º Kerberos ç”¨æˆ·ï¼Œæ‚¨è¿˜å¯ä»¥æ§åˆ¶å…¶ä»–ç”¨æˆ·å¯¹æ‚¨å¸æˆ·çš„è®¿é—®ã€‚ KerberosåŸç† Kerberos æœåŠ¡æ˜¯å•ç‚¹ç™»å½•ç³»ç»Ÿï¼Œè¿™æ„å‘³ç€æ‚¨å¯¹äºæ¯ä¸ªä¼šè¯åªéœ€å‘æœåŠ¡è¿›è¡Œä¸€æ¬¡è‡ªæˆ‘éªŒè¯ï¼Œå³å¯è‡ªåŠ¨ä¿æŠ¤è¯¥ä¼šè¯è¿‡ç¨‹ä¸­æ‰€æœ‰åç»­äº‹åŠ¡çš„å®‰å…¨ã€‚æœåŠ¡å¯¹æ‚¨è¿›è¡ŒéªŒè¯åï¼Œå³æ— éœ€åœ¨æ¯æ¬¡ä½¿ç”¨åŸºäº Kerberos çš„æœåŠ¡æ—¶è¿›è¡ŒéªŒè¯ã€‚å› æ­¤ï¼Œæ— éœ€åœ¨æ¯æ¬¡ä½¿ç”¨è¿™äº›æœåŠ¡æ—¶éƒ½åœ¨ç½‘ç»œä¸Šå‘é€å£ä»¤ï¼ˆå¢å¼ºäº†å®‰å…¨æ€§ï¼‰ã€‚MITå†™äº†ä¸€æ®µæ•…äº‹å‹çš„å¯¹è¯ï¼Œæ¯”è¾ƒç”ŸåŠ¨å¾—è¡¨è¿°äº†Kerberosåè®®çš„å·¥ä½œåŸç†ï¼š Athenaå’Œæ¬§é‡Œåº‡å¾—æ–¯å…³äºåœ°ç‹±ä¹‹é—¨å®ˆæŠ¤è€…çš„å¯¹è¯ã€‚ç®€è€Œè¨€ä¹‹ï¼Œkerbores V5çš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š Kerboresä¸­æœ‰ä¸‰ç§è§’è‰²ï¼š KDCï¼šè´Ÿè´£åˆ†å‘å¯†é’¥çš„å¯†é’¥åˆ†é…ä¸­å¿ƒ Clientï¼šéœ€è¦ä½¿ç”¨kerboresæœåŠ¡çš„å®¢æˆ·ç«¯ Serviceï¼šæä¾›å…·ä½“æœåŠ¡çš„æœåŠ¡ç«¯ å…¶ä¸­ï¼ŒClientéœ€è¦å’ŒKDCå’ŒServiceéƒ½è¿›è¡Œé€šä¿¡ã€‚åè®®æˆæƒæµç¨‹åˆ†ä¸¤ä¸ªéƒ¨åˆ†ï¼š è·å–åŸå§‹ç¥¨æ® é¦–å…ˆï¼ŒClientå‘KDCå‘é€è‡ªå·±çš„èº«ä»½ä¿¡æ¯ï¼ŒKDCä»æˆäºˆç¥¨æ®æœåŠ¡(Ticket Granting Service)å¾—åˆ°å¯ç”¨çš„ç¥¨æ®(ticket-granting ticket)ï¼Œå¹¶ç”¨åè®®å¼€å§‹å‰KDCä¸Clientä¹‹é—´çš„å¯†é’¥å°†ç¥¨æ®åŠ å¯†å›å¤ç»™clientï¼Œclientæ”¶åˆ°KDCå›å¤çš„åŠ å¯†ç¥¨æ®ååˆ©ç”¨ä¸clientå…ˆå‰åè®®çš„å¯†é’¥å°†ç¥¨æ®è§£å¯†ï¼Œä»è€Œè·å¾—ç¥¨æ®ï¼Œæ­¤æ­¥éª¤ä¸»è¦æ˜¯å…è®¸clientè¿›è¡ŒKerberosçš„éªŒè¯ï¼Œæ˜¯è¿›è¡Œè®¿é—®æœåŠ¡çš„å…ˆå†³æ¡ä»¶ã€‚ è·å–æœåŠ¡ç¥¨æ®ä»¥åŠè®¿é—®æœåŠ¡ clientåˆ©ç”¨ä¹‹å‰è·å¾—çš„ç¥¨æ®å‘KDCè¯·æ±‚æœåŠ¡ç¥¨æ®ï¼Œä»è€Œé€šè¿‡æœåŠ¡çš„èº«ä»½éªŒè¯ã€‚è·å–æœåŠ¡ç¥¨æ®ä»¥åŠè®¿é—®æœåŠ¡æ€»å…±æœ‰å¦‚ä¸‹å››æ­¥ï¼š clientå°†ä¹‹å‰è·å¾—çš„ç¥¨æ®å’Œè¦è¯·æ±‚çš„æœåŠ¡ä¿¡æ¯å‘é€ç»™KDCï¼ŒKDCä¸­çš„æˆäºˆç¥¨æ®æœåŠ¡å°†clientå’Œserviceä¹‹é—´ç”Ÿæˆä¸€ä¸ªä¼šè¯å¯†é’¥(Session Key)ç”¨äºæœåŠ¡å™¨ä¸clientçš„èº«ä»½éªŒè¯ã€‚ç„¶åKDCå°†è¿™ä¸ªä¼šè¯å¯†é’¥å’Œç”¨æˆ·åï¼Œç”¨æˆ·åœ°å€(IP)ï¼ŒæœåŠ¡åï¼Œæœ‰æ•ˆæœŸï¼Œæ—¶é—´æˆ³ä¸€èµ·åŒ…è£…æˆä¸€ä¸ªç¥¨æ®(è¿™å¼ ç¥¨æ®ç”¨äºserviceå¯¹clientçš„èº«ä»½éªŒè¯)é€šè¿‡clientè½¬å‘ç»™serviceã€‚ ä¸ºäº†è®©ç¥¨æ®å¯¹clientä¿å¯†ï¼Œæ‰€ä»¥KDCç”¨åè®®å¼€å§‹ä¹‹å‰KDCä¸æœåŠ¡ç«¯ä¹‹é—´çš„å¯†é’¥å°†ç¥¨æ®åŠ å¯†åå†å‘ç»™clientï¼ŒåŒæ—¶ä¸ºäº†è®©clientä¸serviceä¹‹é—´å…±äº«é‚£ä¸ªä¼šè¯å¯†é’¥ï¼ŒKDCç”¨clientä¸å®ƒä¹‹é—´çš„å¯†é’¥å°†ä¼šè¯å¯†é’¥åŠ å¯†è¿”å›ç»™client ä¸ºäº†å®Œæˆç¥¨æ®çš„ä¼ é€’ï¼Œclientå°†åˆšæ‰æ”¶åˆ°çš„ç¥¨æ®è½¬å‘åˆ°serviceï¼Œç”±äºclientä¸çŸ¥é“KDCä¸serviceçš„å¯†é’¥ï¼Œæ‰€ä»¥å®ƒæ— æ³•ä¿®æ”¹ç¥¨æ®çš„ä¿¡æ¯ï¼ŒåŒæ—¶clientå°†æ”¶åˆ°çš„ä¼šè¯å¯†é’¥è§£å‹å‡ºæ¥ï¼Œç„¶åå°†è‡ªå·±çš„ç”¨æˆ·åï¼Œç”¨æˆ·åœ°å€(IP)æ‰“åŒ…æˆéªŒè¯åŒ…ç”¨ä¼šè¯å¯†é’¥åŠ å¯†ä¹Ÿå‘ç»™service Serviceæ”¶åˆ°ç¥¨æ®ååˆ©ç”¨å®ƒä¸KDCä¹‹é—´çš„å¯†é’¥å°†ç¥¨æ®ä¸­çš„ä¿¡æ¯è§£å¯†å‡ºæ¥ï¼Œä»è€Œè·å¾—ä¼šè¯å¯†é’¥å’Œç”¨æˆ·åï¼Œç”¨æˆ·åœ°å€(IP)ï¼ŒæœåŠ¡åï¼Œæœ‰æ•ˆæœŸã€‚ç„¶åå†ç”¨ä¼šè¯å¯†é’¥å°†éªŒè¯åŒ…è§£å¯†ä»è€Œè·å¾—ç”¨æˆ·åï¼Œç”¨æˆ·åœ°å€(IP)å°†å…¶ä¸ä¹‹å‰ç¥¨æ®ä¸­è§£å¯†å‡ºæ¥çš„ç”¨æˆ·åï¼Œç”¨æˆ·åœ°å€(IP)åšæ¯”è¾ƒä»è€ŒéªŒè¯clientçš„èº«ä»½ï¼Œå¦‚æœserviceæœ‰è¿”å›ç»“æœï¼Œå°†å…¶è¿”å›ç»™client å®‰è£…Kerberos å®‰è£…package åœ¨CentOSä¸­å¯ä»¥ä½¿ç”¨yumæ¥å®‰è£… yum install -y krb5-libs krb5-server krb5-client æˆ–è€…ä½¿ç”¨æºä»£ç æ„å»º: wget http://web.mit.edu/kerberos/dist/krb5/1.12/krb5-1.12.2-signed.tar tar xvf krb5-1.12.2-signed.tar \u0026\u0026 tar xvzf krb5-1.12.2.tar.gz cd krb5-1.12.2/src ./configure yum install -y byacc make -j \u0026\u0026 make install é…ç½®DNS ä½¿ç”¨dnsmasqé…ç½®ä¸€ä¸ªç®€å•çš„æœ¬åœ°DNSï¼Œä¿è¯éœ€è¦è§£æçš„ä¸»æœºååœ¨/etc/hostsä¸­ã€‚ yum install -y dnsmasq vim /etc/dnsmasq.conf domain=expmale.com local=/expmale.com/ expand-hosts no-resolv cache-size=500 log-queries service dnsmasq start Starting dnsmasq: [ OK ] è®¾ç½®å®¢æˆ·ç«¯DNS Server ä¿®æ”¹ç½‘å¡é…ç½®æ–‡ä»¶æˆ–/etc/resolv.conf DNS1=192.168.1.221 æ£€æŸ¥åŸŸåè§£æ nslookup kerberos.expmale.com Server: 192.168.1.221 Address: 192.168.1.221#53 Name: kerberos.expmale.com Address: 192.168.1.221 è¿™æ ·DNSå·²ç»OKã€‚ é…ç½®/etc/krb5.conf,ä½¿å…¶æŒ‡å®šåˆ°æ­£ç¡®çš„realmä¸­ [logging] default = FILE:/var/log/krb5libs.log kdc = FILE:/var/log/krb5kdc.log admin_server = FILE:/var/log/kadmind.log [libdefaults] default_realm = EXPMALE.COM dns_lookup_realm = false dns_lookup_kdc = false ticket_lifetime = 24h renew_lifetime = 7d forwardable = true [realms] EXPMALE.COM = { kdc = kerberos.expmale.com admin_server = kerberos.expmale.com } [domain_realm] .expmale.com = EXPMALE.COM expmale.com = EXPMALE.COM åˆ›å»ºKDCé…ç½®æ–‡ä»¶ vim /var/kerberos/krb5kdc/kdc.conf [kdcdefaults] kdc_ports = 88 kdc_tcp_ports = 88 [realms] EXPMALE.COM = { #master_key_type = aes256-cts acl_file = /var/kerberos/krb5kdc/kadm5.acl dict_file = /usr/share/dict/words admin_keytab = /var/kerberos/krb5kdc/kadm5.keytab supported_enctypes = aes256-cts:normal aes128-cts:normal des3-hmac-sha1:normal arcfour-hmac:normal des-hmac-sha1:normal des-cbc-md5:normal des-cbc-crc:normal } é…ç½®aclæ–‡ä»¶ vim /var/kerberos/krb5kdc/kadm5.acl */admin@EXPMALE.COM * ä½¿ç”¨kdb5_utilåˆ›å»ºkdcæ•°æ®åº“ kdb5_util create -r EXPMALE.COM -s Loading random data Initializing database '/usr/local/var/krb5kdc/principal' for realm 'EXPMALE.COM', master key name 'K/M@EXPMALE.COM' You will be prompted for the database Master Password. It is important that you NOT FORGET this password. Enter KDC database master key: Re-enter KDC database master key to verify: å‡ºç° Loading random data çš„æ—¶å€™å¦å¼€ä¸ªç»ˆç«¯æ‰§è¡Œç‚¹æ¶ˆè€—CPUçš„å‘½ä»¤å¦‚ cat /dev/sda \u003e /dev/urandom å¯ä»¥åŠ å¿«éšæœºæ•°é‡‡é›†ã€‚ kadmin.local Authenticating as principal root/admin@EXPMALE.COM with password. é¦–å…ˆæœ‰ä»‹ç»ä¸€ä¸ªæœ¯è¯­ï¼ˆå‚è€ƒkerberos è®¤è¯é…ç½®ï¼‰ï¼š Principalï¼šåœ¨ Kerberos ä¸­ï¼ŒPrincipal æ˜¯å‚åŠ è®¤è¯çš„åŸºæœ¬å®ä½“ã€‚ä¸€èˆ¬æ¥è¯´æœ‰ä¸¤ç§ï¼Œä¸€ç§ç”¨æ¥è¡¨ç¤º Kerberos æ•°æ®åº“ä¸­çš„ç”¨æˆ·ï¼Œå¦ä¸€ç§ç”¨æ¥ä»£è¡¨æŸä¸€ç‰¹å®šä¸»æœºï¼Œä¹Ÿå°±æ˜¯è¯´ Principalæ˜¯ç”¨æ¥è¡¨ç¤ºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯èº«ä»½çš„å®ä½“, Principal çš„æ ¼å¼é‡‡ç”¨ ASN.1 æ ‡å‡†,å³ Abstract Syntax Notation Oneï¼Œæ¥å‡†ç¡®å®šä¹‰)ï¼ŒPrincipal æ˜¯ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼šåå­—ï¼ˆnameï¼‰ï¼Œå®ä¾‹ï¼ˆinstan","date":"2017-09-25","objectID":"/posts/fabd135a/:0:0","tags":["kerberos","krb5","kinit","kdc"],"title":"Kerberoså®‰è£…å’Œç®¡ç†","uri":"/posts/fabd135a/"},{"categories":["èº«ä»½è®¤è¯","LDAP"],"content":"LDAPæœ€ç»å¸¸é‡åˆ°çš„å°±æ˜¯ldap_bind: Invalid credentials (49)é”™è¯¯ï¼Œæœ¬æ–‡é˜è¿°äº†é”™è¯¯åŸå› åŠè§£å†³åŠæ³•ï¼š æ¯”å¦‚åœ¨æŸLDAPå®¢æˆ·ç«¯ï¼Œä½¿ç”¨rootdn(ç®¡ç†å‘˜)æƒé™ä¸ºæŸç”¨æˆ·ä¿®æ”¹å¯†ç æ—¶ $ ldappasswd -H ldap://172.16.0.21 -x -D \"cn=admin,ou=People,dc=expmale,dc=com\" -W -S \"uid=zhang3,ou=People,dc=expmale,dc=com\" New password: Re-enter new password: Enter LDAP Password: ldap_bind: Invalid credentials (49) é”™è¯¯åŸå› 1ï¼šç®¡ç†å‘˜DNæˆ–è€…ç”¨æˆ·DNé”™è¯¯ ç®¡ç†å‘˜DNæ˜¯åœ¨/etc/openldap/slapd.confä¸­æŒ‡å®šçš„rootdnï¼Œå…¶æ ¼å¼ åº”è¯¥æ˜¯â€cn=admin,dc=expmale,dc=comâ€ è€Œä¸æ˜¯â€cn=admin,ou=People,dc=expmale,dc=comâ€ è€Œæ™®é€šç”¨æˆ·çš„DNæ‰åº”è¯¥æ˜¯â€uid=zhang3,ou=People,dc=expmale,dc=comâ€ã€‚ ä¹Ÿå¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹è¯¥ç”¨æˆ·çš„DNæ˜¯å¦å­˜åœ¨ æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨,ä¸éœ€è¦å¯†ç  $ ldapsearch -H ldap://172.16.0.21 -x -b \"ou=People,dc=expmale,dc=com\" | grep dn é”™è¯¯åŸå› 2ï¼šç®¡ç†å‘˜å¯†ç é”™è¯¯ è¿™ä¸ªéœ€è¦è‡ªè¡Œåˆ¤æ–­ï¼Œå¦‚éœ€è¦ä¿®æ”¹rootdnçš„å¯†ç ï¼Œåœ¨/etc/openldap/slapd.confä¸­æ”¹æ‰roodnçš„rootpwé¡¹ï¼Œç„¶åæ‰§è¡Œå¦‚ä¸‹æ“ä½œ $ rm -fr /etc/openldap/slapd.d/* $ slaptest -f /etc/openldap/slapd.conf -F /etc/openldap/slapd.d #æµ‹è¯•é…ç½®æ–‡ä»¶è¯­æ³•æ˜¯å¦æœ‰é”™è¯¯ï¼Œå¦‚æœæç¤ºtesting succeededåˆ™å¯ä»¥è¿›å…¥ä¸‹ä¸€æ­¥ $ chown -R ldap:ldap /etc/openldap/slapd.d/ $ /etc/init.d/slapd restart æç¤ºï¼šåˆ é™¤/etc/openldap/slapd.d/ç›®å½•ä¸‹çš„å†…å®¹ï¼Œå¹¶ä¸ä¼šå¯¼è‡´ldapæ•°æ®åº“çš„ä¸¢å¤±ï¼Œå®é™…ä¸Šï¼Œldapæ•°æ®åº“å­˜å‚¨ä½ç½®ï¼ˆé€šå¸¸ä½äº/var/lib/ldapç›®å½•ä¸‹ï¼‰ç”±ä¸»é…ç½®æ–‡ä»¶é‡Œçš„directoryé¡¹æŒ‡å®šã€‚ ","date":"2017-03-14","objectID":"/posts/1ad460a4/:0:0","tags":["ldap","error"],"title":"è§£å†³LDAPå‡ºç°ldap_bind: Invalid credentials (49)é”™è¯¯","uri":"/posts/1ad460a4/"},{"categories":["èº«ä»½è®¤è¯","LDAP"],"content":"å®‰è£…åŠé…ç½® é¦–å…ˆä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦å·²ç»å®‰è£… openldapï¼š # rpm -qa | grep openldap openldap-2.4.40-16.el6.x86_64 openldap-servers-sql-2.4.40-16.el6.x86_64 openldap-clients-2.4.40-16.el6.x86_64 openldap-servers-2.4.40-16.el6.x86_64 openldap-devel-2.4.40-16.el6.x86_64 è‹¥å·²ç»å®‰è£…è¿‡ï¼Œå¯ä»¥å¿½ç•¥æ­¤æ­¥éª¤ å¯¼å…¥epelæº wget http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm rpm â€“ivh epel-release-6-8.noarch.rpm å®‰è£…openldap yum -y install openldap openldap-* é…ç½®openldapï¼ŒåŒ…æ‹¬å‡†å¤‡DB_CONFIGå’Œslapd.conf cd /etc/openldap/ cp /usr/share/openldap-servers/slapd.conf.obsolete slapd.conf cp /usr/share/openldap-servers/DB_CONFIG.example /var/lib/ldap/DB_CONFIG è®¾ç½® openldapçš„ç®¡ç†å‘˜å¯†ç  é¦–å…ˆè¦ç”Ÿæˆç»å¤„ç†åçš„æ˜æ–‡å¯†ç ï¼š slappasswd -s 123456 {SSHA}2TuB7EJeC1pUXDrGoxY1qqKg3ScgAvFC å…¶ä¸­ {SSHA}xxxxxxxxxxxxxxxxxxxxxxxx å°±æ˜¯åŠ å¯†å¤„ç†åçš„æ˜æ–‡å¯†ç ï¼Œä¹‹åä¼šç”¨åˆ°è¿™ä¸ªå¯†ç ã€‚ è®¾ç½®è‡ªå·±çš„ Domain Name ä¿®æ”¹slapd.confï¼Œä¸»è¦é…ç½®dcå’Œrootpwï¼Œrootpwé…ç½®ä¸ºä¸Šè¿°æ­¥éª¤ä¸­çš„å¯†ç  vi /etc/openldap/slapd.conf database bdb suffix \"dc=expmale,dc=com\" checkpoint 1024 15 rootdn \"cn=Manager,dc=expmale,dc=com\" rootpw {SSHA}2TuB7EJeC1pUXDrGoxY1qqKg3ScgAvFC ä¿®æ”¹ç›®å½•æƒé™ chown -R ldap:ldap /etc/openldap/ chown -R ldap:ldap /var/lib/ldap/ å¯åŠ¨slapdæœåŠ¡ /etc/init.d/slapd start ä¸€å®šè¦å…ˆå¯åŠ¨slapdæœåŠ¡ï¼Œå¦åˆ™æµ‹è¯•ä¼šæŠ¥é”™ï¼Œæç¤ºæŸæ•°æ®åº“æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåªæœ‰å¯åŠ¨æœåŠ¡åæ‰èƒ½ç”Ÿäº§è¯¥æ–‡ä»¶ã€‚ éªŒè¯æµ‹è¯• slaptest -f /etc/openldap/slapd.conf -F /etc/openldap/slapd.d/ config file testing succeeded ä½¿ç”¨perlè„šæœ¬å°†æœ¬åœ°ç”¨æˆ·è½¬æ¢ä¸ºldapç”¨æˆ· ä»æœ¬åœ°ç³»ç»Ÿæ·»åŠ ç”¨æˆ·åˆ°ldapçš„æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯å…ˆæ·»åŠ ç”¨æˆ·åˆ°æœ¬åœ°æ“ä½œç³»ç»Ÿä¸­ï¼Œç„¶åé€šè¿‡plè„šæœ¬å°†è¿™äº›ç”¨æˆ·è½¬æ¢ä¸ºldapèƒ½å¤Ÿè¯†åˆ«çš„ldifæ–‡ä»¶æ ¼å¼ï¼Œæœ€åé€šè¿‡ldapaddå‘½ä»¤å¯¼å…¥åˆ°ldapä¸­ï¼Œä»è€Œå®Œæˆldapæ•°æ®çš„å¯¼å…¥ï¼Œè¦ä½¿ç”¨plè„šæœ¬å°†æœ¬åœ°ç”¨æˆ·ä¿¡æ¯è½¬æ¢ä¸ºldifæ–‡ä»¶æ ¼å¼ï¼Œé¦–å…ˆéœ€è¦å®‰è£…ä¸€ä¸ªè½¯ä»¶ï¼Œåå­—ä¸ºmigrationtoolsã€‚ å®‰è£…migrationtools yum install migrationtools -y ç¼–è¾‘/usr/share/migrationtools/migrate_common.phå¹¶ä¿®æ”¹ç›¸å…³é…ç½® vim /usr/share/migrationtools/migrate_common.ph $DEFAULT_MAIL_DOMAIN = \"expmale.com\"; $DEFAULT_BASE = \"dc=expmale,dc=com\"; ç”Ÿæˆbase.ldifã€passwd.ldifã€group.ldifæ–‡ä»¶ /usr/share/migrationtools/migrate_base.pl \u003e /tmp/base.ldif /usr/share/migrationtools/migrate_group.pl /etc/group \u003e /tmp/group.ldif /usr/share/migrationtools/migrate_passwd.pl /etc/passwd \u003e /tmp/passwd.ldif ls /tmp/ base.ldif group.ldif passwd.ldif å¯¼å…¥base.ldifã€passwd.ldifã€group.ldifæ–‡ä»¶ ldapadd -x -D \"cn=Manager,dc=expmale,dc=com\" -W -f /tmp/base.ldif ldapadd -x -D \"cn=Manager,dc=expmale,dc=com\" -W -f /tmp/group.ldif ldapadd -x -D \"cn=Manager,dc=expmale,dc=com\" -W -f /tmp/passwd.ldif éœ€è¦è¾“å…¥ç®¡ç†å‘˜å¯†ç  æµ‹è¯•æ•°æ®å¯¼å…¥æ˜¯å¦æˆåŠŸ ldapsearch -LLL -W -x -H ldap://localhost -D \"cn=Manager,dc=expmale,dc=com\" -b \"dc=expmale,dc=com\" Enter LDAP Password: dn: dc=expmale,dc=com dc: expmale objectClass: top objectClass: domain dn: ou=Hosts,dc=expmale,dc=com ou: Hosts objectClass: top objectClass: organizationalUnit dn: ou=Rpc,dc=expmale,dc=com ou: Rpc objectClass: top objectClass: organizationalUnit dn: ou=Services,dc=expmale,dc=com ou: Services objectClass: top objectClass: organizationalUnit dn: nisMapName=netgroup.byuser,dc=expmale,dc=com nisMapName: netgroup.byuser objectClass: top objectClass: nisMap dn: ou=Mounts,dc=expmale,dc=com ou: Mounts objectClass: top objectClass: organizationalUnit dn: ou=Networks,dc=expmale,dc=com ou: Networks objectClass: top objectClass: organizationalUnit dn: ou=People,dc=expmale,dc=com ou: People objectClass: top objectClass: organizationalUnit dn: ou=Group,dc=expmale,dc=com ou: Group objectClass: top objectClass: organizationalUnit dn: ou=Netgroup,dc=expmale,dc=com ou: Netgroup objectClass: top objectClass: organizationalUnit dn: ou=Protocols,dc=expmale,dc=com ou: Protocols objectClass: top objectClass: organizationalUnit dn: ou=Aliases,dc=expmale,dc=com ou: Aliases objectClass: top objectClass: organizationalUnit dn: nisMapName=netgroup.byhost,dc=expmale,dc=com nisMapName: netgroup.byhost objectClass: top objectClass: nisMap æ­¤å¤„çœç•¥ã€‚ã€‚ã€‚ Ldap Browser è¿æ¥ Jarek Gaworå‘å¸ƒçš„LDAP Browser/Editor v2.8.2 - è™½ç„¶æœ€åä¸€æ¬¡æ›´æ–°äº2001å¹´ï¼Œä½†ä»ç„¶æ˜¯æœ€å¥½å·¥å…·çš„ä¹‹ä¸€ï¼ä¸å½“å‰çš„Javaç‰ˆæœ¬5å’Œ6å®Œç¾å…¼å®¹ã€‚ æ‰€æœ‰ä¹‹å‰çš„ä¸‹è½½é“¾æ¥ä¼¼ä¹éƒ½è¢«å…³é—­äº†ï¼Œç»™åƒæˆ‘ä¸€æ ·å–œæ¬¢é«˜é€Ÿå’Œç®€çº¦å·¥å…·çš„å°ä¼™ä¼´ä»¬ï¼Œé™„ä¸‹è½½é“¾æ¥ã€‚{% btn https://www.netiq.com/communities/cool-solutions/wp-content/uploads/sites/2/2009/07/Gawor_ldapbrowser_282.zip, ä¸‹è½½Gawor_ldapbrowser_282.zip, download fa-lg fa-fw %} è®¿é—®LDAP Browser ç™»å½•æˆåŠŸç•Œé¢ ","date":"2017-03-14","objectID":"/posts/6fab04f7/:0:0","tags":["ldap","centos","linux"],"title":"CentOS6 å®‰è£…é…ç½®OpenLDAP Server","uri":"/posts/6fab04f7/"},{"categories":["èº«ä»½è®¤è¯","LDAP"],"content":"ç›®å½•æœåŠ¡ ç›®å½•æ˜¯ä¸€ä¸ªä¸ºæŸ¥è¯¢ã€æµè§ˆå’Œæœç´¢è€Œä¼˜åŒ–çš„ä¸“ä¸šåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå®ƒå‘ˆæ ‘çŠ¶ç»“æ„ç»„ç»‡æ•°æ®ï¼Œå°±å¥½è±¡Linux/Unixç³»ç»Ÿä¸­çš„æ–‡ä»¶ç›®å½•ä¸€æ ·ã€‚ç›®å½•æ•°æ®åº“å’Œå…³ç³»æ•°æ®åº“ä¸åŒï¼Œå®ƒæœ‰ä¼˜å¼‚çš„è¯»æ€§èƒ½ï¼Œä½†å†™æ€§èƒ½å·®ï¼Œå¹¶ä¸”æ²¡æœ‰äº‹åŠ¡å¤„ç†ã€å›æ»šç­‰å¤æ‚åŠŸèƒ½ï¼Œä¸é€‚äºå­˜å‚¨ä¿®æ”¹é¢‘ç¹çš„æ•°æ®ã€‚æ‰€ä»¥ç›®å½•å¤©ç”Ÿæ˜¯ç”¨æ¥æŸ¥è¯¢çš„ï¼Œå°±å¥½è±¡å®ƒçš„åå­—ä¸€æ ·ã€‚ ç›®å½•æœåŠ¡æ˜¯ç”±ç›®å½•æ•°æ®åº“å’Œä¸€å¥—è®¿é—®åè®®ç»„æˆçš„ç³»ç»Ÿã€‚ç±»ä¼¼ä»¥ä¸‹çš„ä¿¡æ¯é€‚åˆå‚¨å­˜åœ¨ç›®å½•ä¸­ï¼š ä¼ä¸šå‘˜å·¥ä¿¡æ¯ï¼Œå¦‚å§“åã€ç”µè¯ã€é‚®ç®±ç­‰ï¼› å…¬ç”¨è¯ä¹¦å’Œå®‰å…¨å¯†é’¥ï¼› å…¬å¸çš„ç‰©ç†è®¾å¤‡ä¿¡æ¯ï¼Œå¦‚æœåŠ¡å™¨ï¼Œå®ƒçš„IPåœ°å€ã€å­˜æ”¾ä½ç½®ã€å‚å•†ã€è´­ä¹°æ—¶é—´ç­‰ï¼› LDAPæ˜¯è½»é‡ç›®å½•è®¿é—®åè®®(Lightweight Directory Access Protocol)çš„ç¼©å†™ï¼ŒLDAPæ˜¯ä»X.500ç›®å½•è®¿é—®åè®®çš„åŸºç¡€ä¸Šå‘å±•è¿‡æ¥çš„ï¼Œç›®å‰çš„ç‰ˆæœ¬æ˜¯v3.0ã€‚ä¸LDAPä¸€æ ·æä¾›ç±»ä¼¼çš„ç›®å½•æœåŠ¡è½¯ä»¶è¿˜æœ‰ApacheDSã€Active Directoryã€Red Hat Directory Service ã€‚ LDAPç‰¹ç‚¹ LDAPçš„ç»“æ„ç”¨æ ‘æ¥è¡¨ç¤ºï¼Œè€Œä¸æ˜¯ç”¨è¡¨æ ¼ã€‚æ­£å› ä¸ºè¿™æ ·ï¼Œå°±ä¸èƒ½ç”¨SQLè¯­å¥äº† LDAPå¯ä»¥å¾ˆå¿«åœ°å¾—åˆ°æŸ¥è¯¢ç»“æœï¼Œä¸è¿‡åœ¨å†™æ–¹é¢ï¼Œå°±æ…¢å¾—å¤š LDAPæä¾›äº†é™æ€æ•°æ®çš„å¿«é€ŸæŸ¥è¯¢æ–¹å¼ Client/serveræ¨¡å‹ï¼ŒServer ç”¨äºå­˜å‚¨æ•°æ®ï¼ŒClientæä¾›æ“ä½œç›®å½•ä¿¡æ¯æ ‘çš„å·¥å…· è¿™äº›å·¥å…·å¯ä»¥å°†æ•°æ®åº“çš„å†…å®¹ä»¥æ–‡æœ¬æ ¼å¼ï¼ˆLDAP æ•°æ®äº¤æ¢æ ¼å¼ï¼ŒLDIFï¼‰å‘ˆç°åœ¨æ‚¨çš„é¢å‰ LDAPæ˜¯ä¸€ç§å¼€æ”¾Internetæ ‡å‡†ï¼ŒLDAPåè®®æ˜¯è·¨å¹³å°çš„Interentåè®® LDAPç»„ç»‡æ•°æ®çš„æ–¹å¼ åŸºæœ¬æ¦‚å¿µ åœ¨æµè§ˆLDAPç›¸å…³æ–‡æ¡£æ—¶ç»å¸¸ä¼šé‡è§ä¸€äº›æ¦‚å¿µï¼Œä¸‹é¢æ˜¯å¸¸è§æ¦‚å¿µçš„ç®€å•è§£é‡Šã€‚ Entry æ¡ç›®ï¼Œä¹Ÿå«è®°å½•é¡¹ï¼Œæ˜¯LDAPä¸­æœ€åŸºæœ¬çš„é¢—ç²’ï¼Œå°±åƒå­—å…¸ä¸­çš„è¯æ¡ï¼Œæˆ–è€…æ˜¯æ•°æ®åº“ä¸­çš„è®°å½•ã€‚é€šå¸¸å¯¹LDAPçš„æ·»åŠ ã€åˆ é™¤ã€æ›´æ”¹ã€æ£€ç´¢éƒ½æ˜¯ä»¥æ¡ç›®ä¸ºåŸºæœ¬å¯¹è±¡çš„ã€‚ dnï¼šæ¯ä¸€ä¸ªæ¡ç›®éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†åï¼ˆdistinguished Name ï¼ŒDNï¼‰ï¼Œå¦‚ä¸Šå›¾ä¸­ä¸€ä¸ª dnï¼šâ€œcn=baby,ou=marketing,ou=people,dc=mydomain,dc=orgâ€ ã€‚é€šè¿‡DNçš„å±‚æ¬¡å‹è¯­æ³•ç»“æ„ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è¡¨ç¤ºå‡ºæ¡ç›®åœ¨LDAPæ ‘ä¸­çš„ä½ç½®ï¼Œé€šå¸¸ç”¨äºæ£€ç´¢ã€‚ rdnï¼šä¸€èˆ¬æŒ‡dné€—å·æœ€å·¦è¾¹çš„éƒ¨åˆ†ï¼Œå¦‚cn=babyã€‚å®ƒä¸RootDNä¸åŒï¼ŒRootDNé€šå¸¸ä¸RootPWåŒæ—¶å‡ºç°ï¼Œç‰¹æŒ‡ç®¡ç†LDAPä¸­ä¿¡æ¯çš„æœ€é«˜æƒé™ç”¨æˆ·ã€‚ Base DNï¼šLDAPç›®å½•æ ‘çš„æœ€é¡¶éƒ¨å°±æ˜¯æ ¹ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„â€œBase DN\"ï¼Œå¦‚\"dc=mydomain,dc=org\"ã€‚ Attribute æ¯ä¸ªæ¡ç›®éƒ½å¯ä»¥æœ‰å¾ˆå¤šå±æ€§ï¼ˆAttributeï¼‰ï¼Œæ¯”å¦‚å¸¸è§çš„äººéƒ½æœ‰å§“åã€åœ°å€ã€ç”µè¯ç­‰å±æ€§ã€‚æ¯ä¸ªå±æ€§éƒ½æœ‰åç§°åŠå¯¹åº”çš„å€¼ï¼Œå±æ€§å€¼å¯ä»¥æœ‰å•ä¸ªã€å¤šä¸ªï¼Œæ¯”å¦‚ä½ æœ‰å¤šä¸ªé‚®ç®±ã€‚ å±æ€§ä¸æ˜¯éšä¾¿å®šä¹‰çš„ï¼Œéœ€è¦ç¬¦åˆä¸€å®šçš„è§„åˆ™ï¼Œè€Œè¿™ä¸ªè§„åˆ™å¯ä»¥é€šè¿‡schemaåˆ¶å®šã€‚æ¯”å¦‚ï¼Œå¦‚æœä¸€ä¸ªentryæ²¡æœ‰åŒ…å«åœ¨ inetorgperson è¿™ä¸ª schema ä¸­çš„objectClass: inetOrgPersonï¼Œé‚£ä¹ˆå°±ä¸èƒ½ä¸ºå®ƒæŒ‡å®šemployeeNumberå±æ€§ï¼Œå› ä¸ºemployeeNumberæ˜¯åœ¨inetOrgPersonä¸­å®šä¹‰çš„ã€‚ LDAPä¸ºäººå‘˜ç»„ç»‡æœºæ„ä¸­å¸¸è§çš„å¯¹è±¡éƒ½è®¾è®¡äº†å±æ€§(æ¯”å¦‚commonNameï¼Œsurname)ã€‚ä¸‹é¢æœ‰ä¸€äº›å¸¸ç”¨çš„åˆ«åï¼š å±æ€§ åˆ«å è¯­æ³• æè¿° å€¼(ä¸¾ä¾‹) commonName cn Directory String å§“å sean surname sn Directory String å§“ Chow organizationalUnitName ou Directory String å•ä½ï¼ˆéƒ¨é—¨ï¼‰åç§° IT_SECTION organization o Directory String ç»„ç»‡ï¼ˆå…¬å¸ï¼‰åç§° example telephoneNumber Telephone Number ç”µè¯å·ç  110 objectClass å†…ç½®å±æ€§ organizationalPerson ObjectClass å¯¹è±¡ç±»æ˜¯å±æ€§çš„é›†åˆï¼ŒLDAPé¢„æƒ³äº†å¾ˆå¤šäººå‘˜ç»„ç»‡æœºæ„ä¸­å¸¸è§çš„å¯¹è±¡ï¼Œå¹¶å°†å…¶å°è£…æˆå¯¹è±¡ç±»ã€‚æ¯”å¦‚äººå‘˜ï¼ˆpersonï¼‰å«æœ‰å§“ï¼ˆsnï¼‰ã€åï¼ˆcnï¼‰ã€ç”µè¯(telephoneNumber)ã€å¯†ç (userPassword)ç­‰å±æ€§ï¼Œå•ä½èŒå·¥(organizationalPerson)æ˜¯äººå‘˜(person)çš„ç»§æ‰¿ç±»ï¼Œé™¤äº†ä¸Šè¿°å±æ€§ä¹‹å¤–è¿˜å«æœ‰èŒåŠ¡ï¼ˆtitleï¼‰ã€é‚®æ”¿ç¼–ç ï¼ˆpostalCodeï¼‰ã€é€šä¿¡åœ°å€(postalAddress)ç­‰å±æ€§ã€‚ é€šè¿‡å¯¹è±¡ç±»å¯ä»¥æ–¹ä¾¿çš„å®šä¹‰æ¡ç›®ç±»å‹ã€‚æ¯ä¸ªæ¡ç›®å¯ä»¥ç›´æ¥ç»§æ‰¿å¤šä¸ªå¯¹è±¡ç±»ï¼Œè¿™æ ·å°±ç»§æ‰¿äº†å„ç§å±æ€§ã€‚å¦‚æœ2ä¸ªå¯¹è±¡ç±»ä¸­æœ‰ç›¸åŒçš„å±æ€§ï¼Œåˆ™æ¡ç›®ç»§æ‰¿ååªä¼šä¿ç•™1ä¸ªå±æ€§ã€‚å¯¹è±¡ç±»åŒæ—¶ä¹Ÿè§„å®šäº†å“ªäº›å±æ€§æ˜¯åŸºæœ¬ä¿¡æ¯ï¼Œå¿…é¡»å«æœ‰(Must æ´»Requiredï¼Œå¿…è¦å±æ€§)ï¼šå“ªäº›å±æ€§æ˜¯æ‰©å±•ä¿¡æ¯ï¼Œå¯ä»¥å«æœ‰ï¼ˆMayæˆ–Optionalï¼Œå¯é€‰å±æ€§ï¼‰ã€‚ å¯¹è±¡ç±»æœ‰ä¸‰ç§ç±»å‹ï¼šç»“æ„ç±»å‹ï¼ˆStructuralï¼‰ã€æŠ½è±¡ç±»å‹(Abstract)å’Œè¾…åŠ©ç±»å‹ï¼ˆAuxiliaryï¼‰ã€‚ç»“æ„ç±»å‹æ˜¯æœ€åŸºæœ¬çš„ç±»å‹ï¼Œå®ƒè§„å®šäº†å¯¹è±¡å®ä½“çš„åŸºæœ¬å±æ€§ï¼Œæ¯ä¸ªæ¡ç›®å±äºä¸”ä»…å±äºä¸€ä¸ªç»“æ„å‹å¯¹è±¡ç±»ã€‚æŠ½è±¡ç±»å‹å¯ä»¥æ˜¯ç»“æ„ç±»å‹æˆ–å…¶ä»–æŠ½è±¡ç±»å‹çˆ¶ç±»ï¼Œå®ƒå°†å¯¹è±¡å±æ€§ä¸­å…±æ€§çš„éƒ¨åˆ†ç»„ç»‡åœ¨ä¸€èµ·ï¼Œç§°ä¸ºå…¶ä»–ç±»çš„æ¨¡æ¿ï¼Œæ¡ç›®ä¸èƒ½ç›´æ¥é›†æˆæŠ½è±¡å‹å¯¹è±¡ç±»ã€‚è¾…åŠ©ç±»å‹è§„å®šäº†å¯¹è±¡å®ä½“çš„æ‰©å±•å±æ€§ã€‚æ¯ä¸ªæ¡ç›®è‡³å°‘æœ‰ä¸€ä¸ªç»“æ„æ€§å¯¹è±¡ç±»ã€‚ å¯¹è±¡ç±»æœ¬èº«æ˜¯å¯ä»¥ç›¸äº’ç»§æ‰¿çš„ï¼Œæ‰€ä»¥å¯¹è±¡ç±»çš„æ ¹ç±»æ˜¯topæŠ½è±¡å‹å¯¹è±¡ç±»ã€‚ä»¥å¸¸ç”¨çš„äººå‘˜ç±»å‹ä¸ºä¾‹ï¼Œä»–ä»¬çš„ç»§æ‰¿å…³ç³»ï¼š ä¸‹é¢æ˜¯inetOrgPersonå¯¹è±¡ç±»çš„åœ¨schemaä¸­çš„å®šä¹‰ï¼Œå¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°å®ƒçš„çˆ¶ç±»SUBå’Œå¯é€‰å±æ€§MAYã€å¿…è¦å±æ€§MUST(ç»§æ‰¿è‡ªorganizationalPerson)ï¼Œå…³äºå„å±æ€§çš„è¯­æ³•åˆ™åœ¨schemaä¸­çš„attributetypeå®šä¹‰ã€‚ # inetOrgPerson # The inetOrgPerson represents people who are associated with an # organization in some way. It is a structural class and is derived # from the organizationalPerson which is defined in X.521 [X521]. objectclass ( 2.16.840.1.113730.3.2.2 NAME 'inetOrgPerson' DESC 'RFC2798: Internet Organizational Person' SUP organizationalPerson STRUCTURAL MAY ( audio $ businessCategory $ carLicense $ departmentNumber $ displayName $ employeeNumber $ employeeType $ givenName $ homePhone $ homePostalAddress $ initials $ jpegPhoto $ labeledURI $ mail $ manager $ mobile $ o $ pager $ photo $ roomNumber $ secretary $ uid $ userCertificate $ x500uniqueIdentifier $ preferredLanguage $ userSMIMECertificate $ userPKCS12 ) ) Schema å¯¹è±¡ç±»ï¼ˆObjectClassï¼‰ã€å±æ€§ç±»å‹ï¼ˆAttributeTypeï¼‰ã€è¯­æ³•ï¼ˆSyntaxï¼‰åˆ†åˆ«çº¦å®šäº†æ¡ç›®ã€å±æ€§ã€å€¼ï¼Œä»–ä»¬ä¹‹é—´çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚æ‰€ä»¥è¿™äº›æ„æˆäº†æ¨¡å¼(Schema)â€”â€”å¯¹è±¡ç±»çš„é›†åˆã€‚æ¡ç›®æ•°æ®åœ¨å¯¼å…¥æ—¶é€šå¸¸éœ€è¦æ¥å—æ¨¡å¼æ£€æŸ¥ï¼Œå®ƒç¡®ä¿äº†ç›®å½•ä¸­æ‰€æœ‰çš„æ¡ç›®æ•°æ®ç»“æ„éƒ½æ˜¯ä¸€è‡´çš„ã€‚ schemaï¼ˆä¸€èˆ¬åœ¨/etc/ldap/schema/ç›®å½•ï¼‰åœ¨å¯¼å…¥æ—¶è¦æ³¨æ„å‰åé¡ºåºã€‚ backend \u0026 database ldapçš„åå°è¿›ç¨‹slapdæ¥æ”¶ã€å“åº”è¯·æ±‚ï¼Œä½†å®é™…å­˜å‚¨æ•°æ®ã€è·å–æ•°æ®çš„æ“ä½œæ˜¯ç”±Backendsåšçš„ï¼Œè€Œæ•°æ®æ˜¯å­˜æ”¾åœ¨databaseä¸­ï¼Œæ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ°å¾€å¾€ä½ å¯ä»¥çœ‹åˆ°backendå’ŒdatabaseæŒ‡ä»¤æ˜¯ä¸€æ ·çš„å€¼å¦‚ bdb ã€‚ä¸€ä¸ª backend å¯ä»¥æœ‰å¤šä¸ª database instanceï¼Œä½†æ¯ä¸ª database çš„ suffix å’Œ rootdn ä¸ä¸€æ ·ã€‚openldap 2.4ç‰ˆæœ¬çš„æ¨¡å—æ˜¯åŠ¨æ€åŠ è½½çš„ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨backendæ—¶éœ€è¦moduleload back_bdbæŒ‡ä»¤ã€‚ bdbæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„æ”¯æŒäº‹åŠ¡å’Œæ•…éšœæ¢å¤çš„æ•°æ®åº“åç«¯ï¼Œå¯ä»¥æ»¡è¶³ç»å¤§éƒ¨åˆ†éœ€æ±‚ã€‚è®¸å¤šæ—§æ–‡æ¡£é‡Œï¼ˆåŒ…æ‹¬å®˜æ–¹ï¼‰è¯´å»ºè®®å°†bdbä½œä¸ºé¦–é€‰åç«¯æœåŠ¡ï¼ˆprimary backendï¼‰ï¼Œä½†2.4ç‰ˆæ–‡æ¡£æ˜ç¡®è¯´hdbæ‰æ˜¯è¢«é¦–å…ˆæ¨èä½¿ç”¨çš„ï¼Œè¿™ä» 2.4.40 ç‰ˆé»˜è®¤å®‰è£…åçš„é…ç½®æ–‡ä»¶é‡Œä¹Ÿå¯ä»¥çœ‹å‡ºã€‚hdbæ˜¯åŸºäºbdbçš„ï¼Œä½†æ˜¯å®ƒé€šè¿‡æ‰©å±•çš„ç´¢å¼•å’Œç¼“å­˜æŠ€æœ¯å¯ä»¥åŠ å¿«æ•°æ®è®¿é—®ï¼Œä¿®æ”¹entriesä¼šæ›´æœ‰æ•ˆç‡ï¼Œæœ‰å…´è¶£å¯ä»¥è®¿é—®ä¸Šçš„é“¾æ¥æˆ–slapd.backendsã€‚ å¦å¤–configæ˜¯ç‰¹æ®Šçš„backendï¼Œç”¨æ¥åœ¨è¿è¡Œæ—¶ç®¡ç†slapdçš„é…ç½®ï¼Œå®ƒåªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œç”šè‡³æ— éœ€æ˜¾å¼åœ¨slapd.confä¸­é…ç½®ã€‚ TLS \u0026 SASL åˆ†å¸ƒå¼LDAP æ˜¯ä»¥æ˜æ–‡çš„æ ¼å¼é€šè¿‡ç½‘ç»œæ¥å‘é€ä¿¡æ¯çš„ï¼ŒåŒ…æ‹¬clientè®¿é—®ldapçš„å¯†ç ï¼ˆå½“ç„¶ä¸€èˆ¬å¯†ç å·²ç„¶æ˜¯äºŒè¿›åˆ¶çš„ï¼‰ï¼ŒSSL/TLS çš„åŠ å¯†åè®®å°±æ˜¯æ¥ä¿è¯æ•°æ®ä¼ é€çš„ä¿å¯†æ€§å’Œå®Œæ•´æ€§ã€‚ SASL ï¼ˆSimp","date":"2017-03-12","objectID":"/posts/77e94e45/:0:0","tags":["ldap","auth"],"title":"LDAPæœåŠ¡å™¨çš„æ¦‚å¿µå’ŒåŸç†ç®€å•ä»‹ç»","uri":"/posts/77e94e45/"},{"categories":["ç¼–ç¨‹è¯­è¨€","Python"],"content":"é—®é¢˜æè¿° åœ¨MySQL-python-1.2.5æºç åŒ…æ ¹ç›®å½•ä¸‹æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š # python setup.py install å‡ºç°ä»¥ä¸‹ä¿¡æ¯ï¼š error: command â€˜gccâ€™ failed with exit status 1 è§£å†³æ–¹æ³• åœ¨å®‰è£…MySQLdbå‰å®‰è£…ä»¥ä¸‹ä¾èµ–åº“ï¼š # yum install python-devel mysql-devel zlib-devel openssl-devel å®‰è£…å®Œä»¥ä¸Šä¾èµ–åº“åï¼Œ å†åœ¨MySQL-python-1.2.3æºç åŒ…æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å®‰è£…å‘½ä»¤å³å¯ï¼š # python setup.py install å¦‚ä¸‹ä¿¡æ¯è¡¨ç¤ºMySQLdbå®‰è£…æˆåŠŸï¼š Installed /usr/lib64/python2.6/site-packages/MySQL_python-1.2.5-py2.6-linux-x86_64.egg Processing dependencies for MySQL-python==1.2.5 Finished processing dependencies for MySQL-python==1.2.5 æ£€æµ‹æ¨¡å—MySQLdbæ˜¯å¦å¯æ­£å¸¸ä½¿ç”¨ [root@gateway ~]# python Python 2.6.6 (r266:84292, Aug 18 2016, 15:13:37) [GCC 4.4.7 20120313 (Red Hat 4.4.7-17)] on linux2 Type \"help\", \"copyright\", \"credits\" or \"license\" for more information. \u003e\u003e\u003e import MySQLdb \u003e\u003e\u003e æ²¡æ¶ˆæ¯å°±æ˜¯å¥½æ¶ˆæ¯ï¼ OKï¼Œ Enjoy it!!! ","date":"2015-11-18","objectID":"/posts/73cebd2e/:0:0","tags":["python","gcc","centos","mysqldb"],"title":"Centos6ä¸‹å®‰è£…MySQL-pythonæ—¶å‡ºç°â€œerror: command 'gcc' failed with exit status 1â€","uri":"/posts/73cebd2e/"},{"categories":["Webç›¸å…³"],"content":"è¿‘å‡ å¤©åœ¨å­¦ä¹  HTML5 ä¸ CSS3 æ—¶ï¼Œå¶ç„¶çœ‹åˆ°äº† CSS ä¸­è‡ªåŠ¨ä¸ºæ ‡é¢˜æ·»åŠ ç¼–å·çš„ç‰¹æ€§ã€‚ä»”ç»†é˜…è¯»è¿‡ W3Schools ä¸Šæä¾›çš„æ–‡æ¡£ä¹‹åï¼Œè¯•éªŒäº†ä¸€ä¸‹ï¼Œç¡®å®éå¸¸å¥½ç”¨ã€‚ä»æ­¤ä¸éœ€å†èŠ±è´¹ç²¾åŠ›æ ¡å¯¹æ ‡é¢˜ç¼–å·ï¼Œå¯ä»¥å°†æ—¶é—´é›†ä¸­åˆ°çœŸæ­£éœ€è¦åšçš„äº‹æƒ…ï¼Œä¹Ÿé¿å…äº†æ‰‹åŠ¨ç¼–å·å‡ºé”™çš„çª˜æ€ã€‚ è¿™ç¯‡åšæ–‡æ•´ç†äº†æˆ‘æœé›†çš„ç›¸å…³çŸ¥è¯†ç‚¹ï¼Œæ–¹ä¾¿å¸Œæœ›è¯¦ç»†äº†è§£çš„äººæŸ¥çœ‹ã€‚ æ¶‰åŠå†…å®¹ é¦–å…ˆä»‹ç»ä¸€ä¸‹æœ¬æ–‡æ¶‰åŠåˆ°çš„ç›¸å…³ CSS çŸ¥è¯†ç‚¹ã€‚å…¶ä¸­ç”¨åˆ°çš„ CSS ä¼ªå…ƒç´ å’Œå±æ€§çš†åŸºäº CSS2.1 æ ‡å‡†ï¼Œæ‰€ä»¥åŸºæœ¬ä¸éœ€è¦æ‹…å¿ƒæµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜ã€‚å¦‚æœä½ å¯¹æ­¤è¿˜ä¸å¤Ÿæ”¾å¿ƒï¼Œå¯ä»¥åœ¨ä¸åŒæµè§ˆå™¨ä¸­æ‰“å¼€æ–‡æœ«ç»™å‡ºçš„æ ·ä¾‹è¿›è¡Œæµ‹è¯•ã€‚ before ä¼ªå…ƒç´ é€‰æ‹©å™¨ beforeä¼ªå…ƒç´ é€‰æ‹©å™¨ç”¨äºåœ¨æŸä¸ªå…ƒç´ ä¹‹å‰æ’å…¥ä¸€äº›å†…å®¹ã€‚æ‰€æ’å…¥çš„å†…å®¹ç”±contentå±æ€§æŒ‡å®šï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å›¾ç‰‡ã€éŸ³é¢‘ç”šè‡³è§†é¢‘æ–‡ä»¶ç­‰ã€‚ ä¸ä¹‹å¯¹åº”çš„ï¼Œè¿˜æœ‰afterä¼ªå…ƒç´ ï¼Œç”¨äºåœ¨æŸä¸ªå…ƒç´ çš„åé¢æ’å…¥ä¸€äº›å†…å®¹ã€‚ å…¶ç”¨æ³•å¦‚ï¼š /* insert a word before anchor */ a:before { content: 'goto: ' } /* add a icon after an url end by mp4*/ a[href$=mp4]:after { content: url(moive.png) } counter-increment å±æ€§ counter-incrementå±æ€§ç”¨äºé€’å¢è®¡æ•°å™¨ï¼Œè¯¥å±æ€§å¯æ¥å—çš„è¾“å…¥æœ‰ï¼š å…¶ä¸­å€¼çš„æ„ä¹‰ä¸ºï¼š noneï¼šä¸é€’å¢è®¡æ•°å™¨ï¼› idï¼šéœ€é€’å¢çš„è®¡æ•°å™¨IDï¼› initialï¼šé€’å¢çš„æ­¥é•¿ï¼Œé»˜è®¤ä¸º 1ï¼› inheritï¼šä»çˆ¶å…ƒç´ ç»§æ‰¿ã€‚ counter-reset å±æ€§ counter-resetå±æ€§ç”¨äºé‡ç½®è®¡æ•°å™¨ï¼Œæ¯”å¦‚åœ¨æ¯ç¯‡æ–‡ç« å¼€å§‹å‰å°†è®¡æ•°å™¨é‡ç½®ä¸º 0ã€‚è¯¥å±æ€§å¯æ¥å—çš„è¾“å…¥æœ‰ï¼š counter-reset: none|name-number|initial|inherit; å…¶ä¸­å€¼çš„æ„ä¹‰ä¸ºï¼š noneï¼šä¸é‡ç½®è®¡æ•°å™¨ï¼› name-numberï¼šéœ€é‡ç½®çš„è®¡æ•°å™¨IDï¼› initialï¼šé‡ç½®çš„å€¼ï¼Œé»˜è®¤ä¸º 0ï¼› inheritï¼šä»çˆ¶å…ƒç´ ç»§æ‰¿ã€‚ ç¤ºä¾‹ä»£ç  ä»¥ä¸‹é¢çš„ç½‘é¡µä½œä¸ºç¤ºä¾‹ï¼š \u003c!doctype html\u003e \u003chtml\u003e \u003chead\u003e \u003cmeta charset=\"utf-8\"\u003e \u003ctitle\u003eè‡ªåŠ¨ç¼–å·æ¼”ç¤º\u003c/title\u003e \u003clink rel=\"stylesheet\" href=\"counter.css\"\u003e \u003c/head\u003e \u003cbody\u003e \u003ch1\u003eæ–‡ç« å¤§æ ‡é¢˜\u003c/h1\u003e \u003ch2\u003eå‰è¨€\u003c/h2\u003e \u003ch2\u003eæ•°æ®å‡†å¤‡\u003c/h2\u003e \u003ch3\u003eè§‚æµ‹æ•°æ®å‡†å¤‡\u003c/h3\u003e \u003ch3\u003eè¡¨æ–‡ä»¶å‡†å¤‡\u003c/h3\u003e \u003ch2\u003eå‚æ•°è®¾ç½®\u003c/h2\u003e \u003ch3\u003eé«˜åº¦è§’\u003c/h3\u003e \u003ch3\u003eæ¨¡å‹è®¾ç½®\u003c/h3\u003e \u003ch2\u003eå¼€å§‹è§£ç®—\u003c/h2\u003e \u003ch2\u003eæˆæœæŸ¥çœ‹\u003c/h2\u003e \u003c/body\u003e \u003c/html\u003e å…¶ä¸­å¼•å…¥çš„ counter.css ä¸­çš„ä»£ç ä¸ºï¼š /* reset h2 counter to -1 when meet a h1 element */ h1 { counter-reset: h2Counter -1; } /* insert number before h2 element */ h2:before { content: counter(h2Counter)'. ' } /* increase h2 counter and reset h3 counter when meet a h2 element */ h2 { counter-increment: h2Counter; counter-reset: h3Counter; } h3:before { content: counter(h2Counter) '.' counter(h3Counter) ' ' } h3 { counter-increment: h3Counter; } å°†ä»¥ä¸Šä¸¤å—ä»£ç åˆ†åˆ«ä¿å­˜ä¸º counter.html å’Œ counter.cssï¼Œç¡®ä¿è¿™ä¸¤ä¸ªæ–‡ä»¶ä½äºåŒä¸€ç›®å½•å†…ï¼Œç„¶åä½¿ç”¨æµè§ˆå™¨æ‰“å¼€å…¶ä¸­çš„ counter.html æ–‡ä»¶å³å¯é¢„è§ˆæ•ˆæœã€‚ ","date":"2015-10-23","objectID":"/posts/283c0c55/:0:0","tags":["css","html"],"title":"ä½¿ç”¨ CSS å®ç°æ ‡é¢˜è‡ªåŠ¨ç¼–å·","uri":"/posts/283c0c55/"},{"categories":["å®¹å™¨","Docker"],"content":"docker imageså¾€å¾€ä¸çŸ¥ä¸è§‰å°±å æ»¡äº†ç¡¬ç›˜ç©ºé—´ï¼Œä¸ºäº†æ¸…ç†å†—ä½™çš„imageï¼Œå¯é‡‡ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š è¿›å…¥rootæƒé™ sudo su åœæ­¢æ‰€æœ‰çš„containerï¼Œè¿™æ ·æ‰èƒ½å¤Ÿåˆ é™¤å…¶ä¸­çš„imagesï¼š docker stop $(docker ps -a -q) å¦‚æœæƒ³è¦åˆ é™¤æ‰€æœ‰containerçš„è¯å†åŠ ä¸€ä¸ªæŒ‡ä»¤ï¼š docker rm $(docker ps -a -q) æŸ¥çœ‹å½“å‰æœ‰äº›ä»€ä¹ˆimages docker images åˆ é™¤imagesï¼Œé€šè¿‡imageçš„idæ¥æŒ‡å®šåˆ é™¤è° docker rmi \u003cimage id\u003e æƒ³è¦åˆ é™¤untagged imagesï¼Œä¹Ÿå°±æ˜¯é‚£äº›idä¸ºçš„imageçš„è¯å¯ä»¥ç”¨ docker rmi $(docker images | grep \"^\u003cnone\u003e\" | awk \"{print $3}\") è¦åˆ é™¤å…¨éƒ¨imageçš„è¯ docker rmi $(docker images -q) ","date":"2015-09-08","objectID":"/posts/eb62b0d0/:0:0","tags":["docker","images"],"title":"å¦‚ä½•åˆ é™¤docker images/containers","uri":"/posts/eb62b0d0/"},{"categories":["æ•°æ®åº“","Oracle"],"content":"**INSTRç”¨æ³•ï¼š**INSTR(æºå­—ç¬¦ä¸², è¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸², ä»ç¬¬å‡ ä¸ªå­—ç¬¦å¼€å§‹, è¦æ‰¾åˆ°ç¬¬å‡ ä¸ªåŒ¹é…çš„åºå·) è¿”å›æ‰¾åˆ°çš„ä½ç½®ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™è¿”å›0. é»˜è®¤æŸ¥æ‰¾é¡ºåºä¸ºä»å·¦åˆ°å³ã€‚å½“èµ·å§‹ä½ç½®ä¸ºè´Ÿæ•°çš„æ—¶å€™ï¼Œä»å³è¾¹å¼€å§‹æŸ¥æ‰¾ã€‚è‹¥èµ·å§‹ä½ç½®ä¸º0ï¼Œè¿”å›å€¼ä¸º0ã€‚ SELECT INSTR('CORPORATE FLOOR', 'OR', 0, 1) FROM DUAL; è¿”å›å€¼ä¸º0 SELECT INSTR('CORPORATE FLOOR', 'OR', 2, 1) FROM DUAL; è¿”å›å€¼ä¸º2 SELECT INSTR('CORPORATE FLOOR', 'OR', 2, 2) FROM DUAL; è¿”å›å€¼ä¸º5 SELECT INSTR('CORPORATE FLOOR', 'OR', -1, 1) FROM DUAL; è¿”å›å€¼ä¸º14 SELECT INSTR('CORPORATE FLOOR', 'OR', -5, 1) FROM DUAL; è¿”å›å€¼ä¸º5 **SUBSTRç”¨æ³•ï¼š**SUBSTR( æºå­—ç¬¦ä¸², æŸ¥æ‰¾èµ·å§‹ä½ç½®, [ é•¿åº¦ ] ) è¿”å›å€¼ä¸ºæºå­—ç¬¦ä¸²ä¸­æŒ‡å®šèµ·å§‹ä½ç½®å’Œé•¿åº¦çš„å­—ç¬¦ä¸²ã€‚ SELECT SUBSTR('This is a test', 0, 2) value from dual; è¿”å›å€¼Th SELECT SUBSTR('This is a test', 1, 2) value from dual; è¿”å›å€¼Hi SELECT SUBSTR('This is a test', -1, 2) value from dual; è¿”å›å€¼t SELECT SUBSTR('This is a test', -2, 2) value from dual; è¿”å›å€¼st **NVLç”¨æ³•ï¼š**NVL(eExpression1, eExpression2) ä»ä¸¤ä¸ªè¡¨è¾¾å¼è¿”å›ä¸€ä¸ªé null å€¼ã€‚å¦‚æœeExpression1çš„è®¡ç®—ç»“æœä¸ºnullå€¼ï¼Œåˆ™ NVL( ) è¿”å›eExpression2ã€‚å¦‚æœeExpression1çš„è®¡ç®—ç»“æœä¸æ˜¯nullå€¼ï¼Œåˆ™è¿”å›eExpression1ã€‚eExpression1 å’ŒeExpression2å¯ä»¥æ˜¯ä»»æ„ä¸€ç§æ•°æ®ç±»å‹ã€‚å¦‚æœeExpression1ä¸eExpression2 çš„ç»“æœçš†ä¸º nullå€¼ï¼Œåˆ™NVL( )è¿”å›NULLã€‚ SELECT nvl('pos1',null) from dual; è¿”å›å€¼ä¸ºpos1 SELECT nvl(null,'pos2') from dual; è¿”å›å€¼ä¸ºpos1 SELECT nvl(null,null) from dual; è¿”å›å€¼ä¸ºnull ","date":"2015-09-07","objectID":"/posts/51f21f40/:0:0","tags":["oracle"],"title":"Oracleä¸­INSTRã€SUBSTRå’ŒNVLçš„ç”¨æ³•","uri":"/posts/51f21f40/"},{"categories":["å®¹å™¨","Docker-Compose"],"content":"Docker Composeæ˜¯ç”¨äºå®šä¹‰å’Œè¿è¡Œå¤æ‚Dockeråº”ç”¨çš„å·¥å…·ã€‚ä½ å¯ä»¥åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ªå¤šå®¹å™¨çš„åº”ç”¨ï¼Œç„¶åä½¿ç”¨ä¸€æ¡å‘½ä»¤æ¥å¯åŠ¨ä½ çš„åº”ç”¨ï¼Œç„¶åæ‰€æœ‰ç›¸å…³çš„æ“ä½œéƒ½ä¼šè¢«è‡ªåŠ¨å®Œæˆã€‚ Docker Composeå…·æœ‰ç®¡ç†åº”ç”¨ç¨‹åºæ•´ä¸ªç”Ÿå‘½å‘¨æœŸçš„å‘½ä»¤ï¼š å¯åŠ¨ï¼Œåœæ­¢å’Œé‡å»ºæœåŠ¡ æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„æœåŠ¡çš„çŠ¶æ€ æµå¼ä¼ è¾“è¿è¡ŒæœåŠ¡çš„æ—¥å¿—è¾“å‡º åœ¨æœåŠ¡ä¸Šè¿è¡Œä¸€æ¬¡æ€§å‘½ä»¤ Docker Compose å®‰è£… # å½“å‰æœ€æ–°çš„Dockeræ˜¯1.6.2ï¼ŒComposeä¸º1.2.0 curl -s https://get.docker.io/ubuntu/ | sudo sh sudo apt-get update sudo apt-get install lxc-docker # å‚è€ƒhttp://docs.docker.com/compose/install/#install-compose curl -L https://github.com/docker/compose/releases/download/1.2.0/docker-compose-`uname -s`-`uname -m` \u003e /usr/local/bin/docker-compose chmod +x /usr/local/bin/docker-compose ### ä¸Šé¢è¿™ä¸ªæ–¹æ³•çœŸçš„æ…¢å‡ºç¿”ï¼Œå¯ä»¥é€šè¿‡Python pipå®‰è£…ã€‚ apt-get install python-pip python-dev pip install -U docker-compose è¿™æ ·composeå°±å®‰è£…å¥½äº†ï¼ŒæŸ¥çœ‹ä¸€ä¸‹composeçš„ç‰ˆæœ¬ä¿¡æ¯ï¼š chmod +x /usr/local/bin/docker-compose docker-compose -version docker-compose 1.2.0 Docker Compose ä½¿ç”¨ ä½¿ç”¨Composeåªéœ€è¦ç®€å•çš„ä¸‰ä¸ªæ­¥éª¤ï¼š é¦–å…ˆï¼Œä½¿ç”¨Dockerfileæ¥å®šä¹‰ä½ çš„åº”ç”¨ç¯å¢ƒï¼š FROM python:2.7 ADD ./code WORKDIR /code RUN pip install -r requirements.txt å…¶ä¸­ï¼Œrequirements.txtä¸­çš„å†…å®¹åŒ…æ‹¬ï¼š flask redis å†ç”¨Pythonå†™ä¸€ä¸ªç®€å•çš„app.py from flask importFlaskfrom redis importRedisimport os app =Flask(__name__) redis =Redis(host='redis', port=6379)@app.route('/')def hello(): redis.incr('hits')return'Hello World! I have been seen %s times.'% redis.get('hits')if __name__ ==\"__main__\": app.run(host=\"0.0.0.0\", debug=True) ç¬¬äºŒæ­¥ï¼Œç”¨ä¸€ä¸ªcompose.yamlæ¥å®šä¹‰ä½ çš„åº”ç”¨æœåŠ¡ï¼Œä»–ä»¬å¯ä»¥æŠŠä¸åŒçš„æœåŠ¡ç”Ÿæˆä¸åŒçš„å®¹å™¨ä¸­ç»„æˆä½ çš„åº”ç”¨ã€‚ web: build:. command: python app.py ports: - \"5000:5000\" volumes: - .:/code links: - redis redis: image: redis ç¬¬ä¸‰æ­¥ï¼Œæ‰§è¡Œdocker-compose upæ¥å¯åŠ¨ä½ çš„åº”ç”¨ï¼Œå®ƒä¼šæ ¹æ®compose.yamlçš„è®¾ç½®æ¥pull/runè¿™ä¿©ä¸ªå®¹å™¨ï¼Œç„¶åå†å¯åŠ¨ã€‚ Creating myapp_redis_1... Creating myapp_web_1... Building web... Step 0 : FROM python:2.7 2.7: Pulling from python ... Status: Downloaded newer image for python:2.7 ---\u003e d833e0b23482 Step 1 : ADD . /code ---\u003e 1c04b1b15808 Removing intermediate container 9dab91b4410d Step 2 : WORKDIR /code ---\u003e Running in f495a62feac9 ---\u003e ffea89a7b090 Attaching to myapp_redis_1, myapp_web_1 ...... redis_1 | [1] 17 May 10:42:38.147 * The server is now ready to accept connections on port 6379 web_1 | * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit) web_1 | * Restarting with stat Yamlæ–‡ä»¶å‚è€ƒ åœ¨ä¸Šé¢çš„yamlæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°composeæ–‡ä»¶çš„åŸºæœ¬ç»“æ„ã€‚é¦–å…ˆæ˜¯å®šä¹‰ä¸€ä¸ªæœåŠ¡åï¼Œä¸‹é¢æ˜¯yamlæœåŠ¡ä¸­çš„ä¸€äº›é€‰é¡¹æ¡ç›®ï¼š image:é•œåƒçš„ID build:ç›´æ¥ä»pwdçš„Dockerfileæ¥buildï¼Œè€Œéé€šè¿‡imageé€‰é¡¹æ¥pull links:è¿æ¥åˆ°é‚£äº›å®¹å™¨ã€‚æ¯ä¸ªå ä¸€è¡Œï¼Œæ ¼å¼ä¸ºSERVICE[:ALIAS],ä¾‹å¦‚ â€“ db[:database] external_links:è¿æ¥åˆ°è¯¥compose.yamlæ–‡ä»¶ä¹‹å¤–çš„å®¹å™¨ä¸­ï¼Œæ¯”å¦‚æ˜¯æä¾›å…±äº«æˆ–è€…é€šç”¨æœåŠ¡çš„å®¹å™¨æœåŠ¡ã€‚æ ¼å¼åŒlinks command:æ›¿æ¢é»˜è®¤çš„commandå‘½ä»¤ ports: å¯¼å‡ºç«¯å£ã€‚æ ¼å¼å¯ä»¥æ˜¯ï¼š ports:-\"3000\"-\"8000:8000\"-\"127.0.0.1:8001:8001\" exposeï¼šå¯¼å‡ºç«¯å£ï¼Œä½†ä¸æ˜ å°„åˆ°å®¿ä¸»æœºçš„ç«¯å£ä¸Šã€‚å®ƒä»…å¯¹linksçš„å®¹å™¨å¼€æ”¾ã€‚æ ¼å¼ç›´æ¥æŒ‡å®šç«¯å£å·å³å¯ã€‚ volumesï¼šåŠ è½½è·¯å¾„ä½œä¸ºå·ï¼Œå¯ä»¥æŒ‡å®šåªè¯»æ¨¡å¼ï¼š volumes:-/var/lib/mysql - cache/:/tmp/cache -~/configs:/etc/configs/:ro volumes_fromï¼šåŠ è½½å…¶ä»–å®¹å™¨æˆ–è€…æœåŠ¡çš„æ‰€æœ‰å· environment:- RACK_ENV=development - SESSION_SECRET env_fileï¼šä»ä¸€ä¸ªæ–‡ä»¶ä¸­å¯¼å…¥ç¯å¢ƒå˜é‡ï¼Œæ–‡ä»¶çš„æ ¼å¼ä¸ºRACK_ENV=development extends:æ‰©å±•å¦ä¸€ä¸ªæœåŠ¡ï¼Œå¯ä»¥è¦†ç›–å…¶ä¸­çš„ä¸€äº›é€‰é¡¹ã€‚ä¸€ä¸ªsampleå¦‚ä¸‹ï¼š common.yml webapp: build:./webapp environment:- DEBUG=false- SEND_EMAILS=false development.yml web:extends: file: common.yml service: webapp ports:-\"8000:8000\" links:- db environment:- DEBUG=true db: image: postgres netï¼šå®¹å™¨çš„ç½‘ç»œæ¨¡å¼ï¼Œå¯ä»¥ä¸ºâ€bridgeâ€, â€œnoneâ€, â€œcontainer:[name or id]â€, â€œhostâ€ä¸­çš„ä¸€ä¸ªã€‚ dnsï¼šå¯ä»¥è®¾ç½®ä¸€ä¸ªæˆ–å¤šä¸ªè‡ªå®šä¹‰çš„DNSåœ°å€ã€‚ dns_search:å¯ä»¥è®¾ç½®ä¸€ä¸ªæˆ–å¤šä¸ªDNSçš„æ‰«æåŸŸã€‚ å…¶ä»–çš„working_dir, entrypoint, user, hostname, domainname, mem_limit, privileged, restart, stdin_open, tty, cpu_sharesï¼Œå’Œdocker runå‘½ä»¤æ˜¯ä¸€æ ·çš„ï¼Œè¿™äº›å‘½ä»¤éƒ½æ˜¯å•è¡Œçš„å‘½ä»¤ã€‚ä¾‹å¦‚ï¼š cpu_shares:73 working_dir:/code entrypoint: /code/entrypoint.sh user: postgresql hostname: foo domainname: foo.com mem_limit:1000000000 privileged:true restart: always stdin_open:true tty:true å¸¸ç”¨å‘½ä»¤ åœ¨ç¬¬äºŒèŠ‚ä¸­çš„docker-compose up,è¿™ä¸¤ä¸ªå®¹å™¨éƒ½æ˜¯åœ¨å‰å°è¿è¡Œçš„ã€‚æˆ‘ä»¬å¯ä»¥æŒ‡å®š-då‘½ä»¤ä»¥daemonçš„æ–¹å¼å¯åŠ¨å®¹å™¨ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œdocker-composeè¿˜æ”¯æŒä¸‹é¢å‚æ•°ï¼š --verboseï¼šè¾“å‡ºè¯¦ç»†ä¿¡æ¯ -f åˆ¶å®šä¸€ä¸ªédocker-compose.ymlå‘½åçš„yamlæ–‡ä»¶ -p è®¾ç½®ä¸€ä¸ªé¡¹ç›®åç§°ï¼ˆé»˜è®¤æ˜¯directoryåï¼‰ docker-composeçš„åŠ¨ä½œåŒ…æ‹¬ï¼š buildï¼šæ„å»ºæœåŠ¡ kill -s SIGINTï¼šç»™æœåŠ¡å‘é€ç‰¹å®šçš„ä¿¡å·ã€‚ logsï¼šè¾“å‡ºæ—¥å¿— portï¼šè¾“å‡ºç»‘å®šçš„ç«¯å£ psï¼šè¾“å‡ºè¿è¡Œçš„å®¹å™¨ pullï¼špullæœåŠ¡çš„image rmï¼šåˆ é™¤åœæ­¢çš„å®¹å™¨ run: è¿è¡ŒæŸä¸ªæœåŠ¡ï¼Œä¾‹å¦‚docker-compose run web python manage.py shell startï¼šè¿è¡ŒæŸä¸ªæœåŠ¡ä¸­å­˜åœ¨çš„å®¹å™¨ã€‚ stop:åœæ­¢æŸä¸ªæœåŠ¡ä¸­å­˜åœ¨çš„å®¹å™¨ã€‚ upï¼šcreate + run + attachå®¹å™¨åˆ°æœåŠ¡ã€‚ scaleï¼šè®¾ç½®æœåŠ¡è¿è¡Œçš„å®¹å™¨æ•°é‡ã€‚ä¾‹å¦‚ï¼šdocker-compose scale web=2 worker=3 å‚è€ƒ Compose Document ","date":"2015-08-30","objectID":"/posts/5bdb99b1/:0:0","tags":["docker","compose"],"title":"Docker Composeç®€åŒ–å¤æ‚åº”ç”¨çš„åˆ©å™¨","uri":"/posts/5bdb99b1/"},{"categories":["å®¹å™¨","Docker Registry"],"content":"é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Docker Hubä½œä¸ºdocker imageçš„ä»“åº“ï¼Œä½†æ˜¯æœ‰äº›åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæœ‰æœ¬åœ°çš„ä»“åº“ã€‚æ¯”å¦‚ï¼š ä»£ç ä¸­å«æœ‰ä¿å¯†çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ç¯å¢ƒçš„è´¦å·ï¼Œå¯†ç ç­‰ç­‰ï¼› ä»£ç æœ¬èº«ä½œä¸ºå…¬å¸çš„èµ„äº§ï¼Œä¸èƒ½å¯¹å¤–å…¬å¼€ï¼Œå¦åˆ™æœ‰æ³•å¾‹é£é™©ã€‚ åœ¨åˆ›å»ºæœ¬åœ°ä»“åº“ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²ç»åœ¨ç›®çš„æœºå™¨ä¸Šå®‰è£…äº†Dockerã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨dockerå®¹å™¨è¿è¡Œregistryé•œåƒçš„æ–¹å¼ï¼Œæ¥åˆ›å»ºregistryã€‚ ä¸€èˆ¬æƒ…å†µä¸‹å®‰è£…çš„dockerå·²ç»è‡ªå¸¦äº†registryé•œåƒï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥ä»docker hubä¸Šè·å–ã€‚ ç¯å¢ƒå‡†å¤‡ å…³é—­é˜²ç«å¢™ systemctl stop firewalld.service systemctl disable firewalld.service å…³é—­selinux sed -i 's/SELINUX=.*/SELINUX=disabled/' /etc/sysconfig/selinux setenforce 0 æ­å»ºç§æœ‰ä»“åº“ ä¸‹è½½registryé•œåƒ é¦–å…ˆï¼Œåœ¨192.168.0.200æœºå™¨ä¸Šä¸‹è½½registryé•œåƒ docker pull registry åŸºäºç§æœ‰ä»“åº“é•œåƒè¿è¡Œå®¹å™¨ ä¸‹è½½å®Œä¹‹åæˆ‘ä»¬é€šè¿‡è¯¥é•œåƒå¯åŠ¨ä¸€ä¸ªå®¹å™¨ docker run -d -p 5000:5000 localregistry registry å…¶ä¸­ localregistryè¡¨ç¤ºæ­¤å®¹å™¨çš„åç§°ï¼Œregistryè¡¨ç¤ºäº†é•œåƒæœ¬èº«ã€‚å¯ä»¥è¿è¡Œdocker psæŸ¥çœ‹ç»“æœï¼š CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES afae402eb9ae registry \"/entrypoint.sh /e...\" 4 hours ago Up 20 minutes 0.0.0.0:5000-\u003e5000/tcp localregistry é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šå°†ä»“åº“å­˜æ”¾äºå®¹å™¨çš„/tmp/registryç›®å½•ä¸‹ï¼Œè¿™æ ·å¦‚æœå®¹å™¨è¢«åˆ é™¤ï¼Œåˆ™å­˜æ”¾äºå®¹å™¨ä¸­çš„é•œåƒä¹Ÿä¼šä¸¢å¤±ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬æƒ…å†µä¸‹ä¼šæŒ‡å®šæœ¬åœ°ä¸€ä¸ªç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„/tmp/registryä¸‹ï¼Œå¦‚ä¸‹ï¼š docker run -d -p 5000:5000 -v /opt/data/registry:/tmp/registry --name localregistry registry è‡ªåŠ¨å¯åŠ¨ä»“åº“ å¦‚æœæƒ³è®©registryä½œä¸ºæ°¸ä¹…çš„å¯ç”¨ä»“åº“ï¼Œåº”è¯¥åœ¨Docker machineé‡å¯æˆ–é€€å‡ºä¹‹åï¼Œè®¾ç½®registryä»ç„¶èƒ½å¤Ÿè‡ªåŠ¨é‡å¯æˆ–ä¿æŒä½¿ç”¨çŠ¶æ€ã€‚å¯ä»¥ä½¿ç”¨â€“restart=alwaysè¾¾åˆ°æ­¤ç›®çš„ã€‚ docker run -d -p 5000:5000 --restart=always -v /opt/data/registry:/tmp/registry --name localregistry registry è®¿é—®ç§æœ‰ä»“åº“ ç½‘ä¸Šéƒ½ç”¨è¿™ä¸ªcurl http://127.0.0.1:5000/v1/search,ä½†æ˜¯æŠ¥404 page not foundï¼ŒåæŸ¥è¯æ˜¯v1ç‰ˆæœ¬çš„apiæŸ¥çœ‹æ–¹å¼ï¼Œæˆ‘ä»¬ç°åœ¨çš„ç‰ˆæœ¬æ˜¯v2ï¼Œæ‰€ä»¥ç”¨å¦‚ä¸‹æ–¹æ³•æŸ¥çœ‹ï¼š curl -X GET http://127.0.0.1:5000/v2/_catalog {\"repositories\":[]} #ç§æœ‰ä»“åº“ä¸ºç©ºï¼Œæ²¡æœ‰æäº¤æ–°é•œåƒåˆ°ä»“åº“ä¸­ è¯¦ç»† curl æ“ä½œdockerä»“åº“ ä»Docker Hubè·å–nginxé•œåƒ docker pull nginx:alpine æ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•å°†ä¸Šé¢çš„Â nginx:alpineÂ ä¸Šä¼ åˆ°æœ¬åœ°çš„ registry æœåŠ¡å™¨ï¼Œ é¦–å…ˆä¸ºè¿™ä¸ªé•œåƒå®šä¹‰ä¸€ä¸ªæ–°çš„æ ‡ç­¾ï¼š docker tag nginx:alpine 127.0.0.1:5000/nginx:alpine ç„¶åé€šè¿‡docker imagesæŸ¥çœ‹ï¼Œç¡®è®¤æ˜¯å¦å­˜åœ¨è¿™ä¸ªæ ‡ç­¾ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š REPOSITORY TAG IMAGE ID CREATED SIZE 127.0.0.1:5000/nginx alpine 0ae090dba3ab 3 months ago 54.3 MB nginx alpine 0ae090dba3ab 3 months ago 54.3 MB ç°åœ¨å¯ä»¥ä¸Šä¼ è¿™ä¸ªé•œåƒï¼š docker push 127.0.0.1:5000/nginx:alpine è¾“å‡ºå¦‚ä¸‹ ï¼š The push refers to a repository [127.0.0.1:5000/nginx] 4a8d9a67e458: Pushed c0ab80890b7f: Pushed d4930e247b49: Pushed 9f8566ee5135: Pushed alpine: digest: sha256:bf63c02f35f7f8d0a95af4904d38ea17ef3f0c86e6b95d716200bdd9963f5ec5 size: 1154 ç°åœ¨æ¥æµè§ˆÂ http://127.0.0.1:5000/v2/_catalogÂ ï¼Œ å°†ä¼šçœ‹åˆ°è¿™æ ·çš„ç»“æœï¼š {\"repositories\":[\"nginx\"]} è¡¨ç¤ºå·²ç»æœ‰äº†Â nginxÂ è¿™ä¸ªé•œåƒï¼Œ å¦‚æœè¦çœ‹è¿™ä¸ªé•œåƒæœ‰ä»€ä¹ˆç‰ˆæœ¬ï¼Œ éœ€è¦è¾“å…¥åœ°å€Â http://127.0.0.1:5000/v2/nginx/tags/listÂ ï¼Œ ç»“æœå¦‚ä¸‹ï¼š {\"name\":\"nginx\",\"tags\":[\"alpine\"]} å¦‚æœè¦åœ¨å…¶å®ƒè£…äº† docker çš„ç”µè„‘ä¸Šè·å–è¿™ä¸ªé•œåƒï¼Œ æˆ–è€…ä¸‹è½½å±€åŸŸç½‘å…¶å®ƒ registry æœåŠ¡å™¨ä¸Šçš„é•œåƒï¼Œ æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š é…ç½® HTTPS è¯ä¹¦ï¼Œ å› ä¸ºæ˜¯å†…ç½‘åˆ†å‘ï¼Œ æ²¡æœ‰å¿…è¦å»æŠ˜è…¾è¯ä¹¦ã€‚ å¦‚æœéœ€è¦çš„è¯ï¼Œ å¯ä»¥å‚è€ƒè¿™ä¸ªæ•™ç¨‹æ¥é…ç½®åŸŸè¯ä¹¦æˆ–è€…è¿™ä¸ªæ•™ç¨‹æ¥é…ç½®è‡ªç­¾åè¯ä¹¦; å‚è€ƒè¿™ä¸ªæ•™ç¨‹ä¿®æ”¹ docker çš„ daemon.json æ–‡ä»¶ï¼Œ é…ç½® insecure-registries é€‰é¡¹ã€‚ ","date":"2015-08-28","objectID":"/posts/49dab0f1/:0:0","tags":["docker","registry"],"title":"å¦‚ä½•æ­å»ºDocker Registryæœ¬åœ°ç§æœ‰ä»“åº“","uri":"/posts/49dab0f1/"},{"categories":["å®¹å™¨","Docker"],"content":"æˆ‘æœ€è¿‘åœ¨ç©Dockerï¼Œä¸€ç§åº”ç”¨ç¨‹åºå®¹å™¨å’ŒLinuxçš„è™šæ‹ŸæŠ€æœ¯ã€‚å®ƒå¤ªé…·äº†ï¼Œåˆ›å»ºDockeré•œåƒå’Œå®¹å™¨åªéœ€è¦å‡ åˆ†é’Ÿã€‚æ‰€æœ‰çš„å·¥ä½œéƒ½æ˜¯å¼€ç®±å³ç”¨çš„ã€‚ åœ¨ç»“æŸæˆ‘ä¸€å¤©çš„å·¥ä½œä¹‹å‰ï¼Œæˆ‘å¸Œæœ›èƒ½ä¿å­˜ä¸‹æˆ‘çš„å·¥ä½œã€‚ä½†æˆ‘åœ¨Dockerçš„saveå’Œexportå‘½ä»¤ä¹‹é—´ï¼Œæˆ‘å‡Œä¹±äº†ã€‚æˆ‘ä¸çŸ¥é“å®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚æ‰€ä»¥ï¼Œæˆ‘ä¸ŠStackOverflowé—®äº†ä¸€ä¸ªé—®é¢˜ï¼Œæ¥ç€å¾—åˆ°mbarthelemyå¾ˆæ£’çš„å›å¤ã€‚ ä»¥ä¸‹æ˜¯æˆ‘å‘æ˜åˆ°çš„å†…å®¹ï¼š å¼€æºé¡¹ç›®Dockerï¼ŒRed Hatæ–°çš„è™šæ‹ŸåŒ–é€‰æ‹© http://www.linuxidc.com/Linux/2013-10/91051.htm dockerlite: è½»é‡çº§ Linux è™šæ‹ŸåŒ– http://www.linuxidc.com/Linux/2013-07/87093.htm Dockerçš„æ­å»ºGitlab CI å…¨è¿‡ç¨‹è¯¦è§£ http://www.linuxidc.com/Linux/2013-12/93537.htm Docker å’Œä¸€ä¸ªæ­£å¸¸çš„è™šæ‹Ÿæœºæœ‰ä½•åŒºåˆ«? http://www.linuxidc.com/Linux/2013-12/93740.htm Docker å°†æ”¹å˜æ‰€æœ‰äº‹æƒ… http://www.linuxidc.com/Linux/2013-12/93998.htm Dockeræ˜¯å¦‚ä½•å·¥ä½œçš„ï¼ˆç®€å•è¯´æ˜ï¼‰ Dockeræ˜¯åŸºäºé•œåƒçš„ã€‚é•œåƒç±»ä¼¼äºå·²ç»åŒ…å«äº†æ–‡ä»¶ã€é…ç½®å’Œå®‰è£…å¥½çš„ç¨‹åºçš„è™šæ‹Ÿæœºé•œåƒã€‚åŒæ ·çš„ï¼Œä½ å¯ä»¥åƒå¯åŠ¨è™šæ‹Ÿæœºä¸€æ ·å¯åŠ¨å¤šä¸ªé•œåƒå®ä¾‹ã€‚è¿è¡Œä¸­çš„é•œåƒç§°ä¸ºå®¹å™¨ã€‚ä½ å¯ä»¥ä¿®æ”¹å®¹å™¨ï¼ˆæ¯”å¦‚åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ï¼‰ï¼Œä½†è¿™äº›ä¿®æ”¹ä¸ä¼šå½±å“åˆ°é•œåƒã€‚ä¸è¿‡ï¼Œä½ ä½¿ç”¨docker commit å‘½ä»¤å¯ä»¥æŠŠä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨å˜æˆä¸€ä¸ªæ–°çš„é•œåƒã€‚ ä¸¾ä¸ªä¾‹å­ï¼š # åƒDockerå®˜æ–¹çš„hello worldä¾‹å­ä¸€æ ·ï¼Œæ‹‰å–ä¸€ä¸ªå«busyboxçš„é•œåƒ sudo docker pull busybox # æŸ¥çœ‹æœ¬åœ°å·²ç»æœ‰å“ªäº›é•œåƒ # æˆ‘ä»¬å¯ä»¥çœ‹åˆ°busybox sudo docker images # ç°åœ¨è®©æˆ‘ä»¬æ¥ä¿®æ”¹ä¸‹busyboxé•œåƒçš„å®¹å™¨ # è¿™æ¬¡ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ sudo docker run busybox mkdir /home/test # è®©æˆ‘ä»¬å†çœ‹çœ‹æˆ‘ä»¬æœ‰å“ªäº›é•œåƒäº†ã€‚ # æ³¨æ„æ¯æ¡å‘½ä»¤æ‰§è¡Œåå®¹å™¨éƒ½ä¼šåœæ­¢ # å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªbusyboxå®¹å™¨ sudo docker ps -a # ç°åœ¨ï¼Œå¯ä»¥æäº¤ä¿®æ”¹äº†ã€‚ # æäº¤åä¼šçœ‹åˆ°ä¸€ä¸ªæ–°çš„é•œåƒbusybox-1 # \u003cCONTAINER ID\u003e æ˜¯åˆšåˆšä¿®æ”¹å®¹å™¨åå¾—åˆ°çš„ID sudo docker commit \u003cCONTAINER ID\u003e busybox-1 # å†çœ‹çœ‹æˆ‘ä»¬æœ‰å“ªäº›é•œåƒã€‚ # æˆ‘ä»¬ç°åœ¨åŒæ—¶æœ‰busyboxå’Œbusybox-1é•œåƒäº†ã€‚ sudo docker images # æˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œçœ‹çœ‹è¿™ä¸¤ä¸ªé•œåƒæœ‰ä»€ä¹ˆä¸åŒ sudo docker run busybox [ -d /home/test ] \u0026\u0026 echo 'Directory found' || echo 'Directory not found' sudo docker run busybox-1 [ -d /home/test ] \u0026\u0026 echo 'Directory found' || echo 'Directory not found' ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªä¸åŒçš„é•œåƒäº†ï¼ˆbusyboxå’Œbusybox-1ï¼‰ï¼Œè¿˜æœ‰ä¸€ä¸ªé€šè¿‡ä¿®æ”¹busyboxå®¹å™¨å¾—æ¥çš„å®¹å™¨ï¼ˆå¤šäº†ä¸€ä¸ª/home/testæ–‡ä»¶å¤¹ï¼‰ã€‚ä¸‹é¢æ¥çœ‹çœ‹ï¼Œæ˜¯å¦‚ä½•æŒä¹…åŒ–è¿™äº›ä¿®æ”¹çš„ã€‚ å¯¼å‡º(Export) Exportå‘½ä»¤ç”¨äºæŒä¹…åŒ–å®¹å™¨ï¼ˆä¸æ˜¯é•œåƒï¼‰ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±éœ€è¦é€šè¿‡ä»¥ä¸‹æ–¹æ³•å¾—åˆ°å®¹å™¨IDï¼š sudo docker ps -a æ¥ç€æ‰§è¡Œå¯¼å‡ºï¼š sudo docker export \u003e /home/export.tar æœ€åçš„ç»“æœæ˜¯ä¸€ä¸ª2.7MBå¤§å°çš„Taræ–‡ä»¶ï¼ˆæ¯”ä½¿ç”¨saveå‘½ä»¤ç¨å¾®å°äº›ï¼‰ã€‚ ä¿å­˜(Save) Saveå‘½ä»¤ç”¨äºæŒä¹…åŒ–é•œåƒï¼ˆä¸æ˜¯å®¹å™¨ï¼‰ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±éœ€è¦é€šè¿‡ä»¥ä¸‹æ–¹æ³•å¾—åˆ°é•œåƒåç§°ï¼š sudo docker images æ¥ç€æ‰§è¡Œä¿å­˜ï¼š sudo docker save busybox-1 \u003e /home/save.tar æœ€åçš„ç»“æœæ˜¯ä¸€ä¸ª2.8MBå¤§å°çš„Taræ–‡ä»¶ï¼ˆæ¯”ä½¿ç”¨exportå‘½ä»¤ç¨å¾®å¤§äº›ï¼‰ã€‚ å®ƒä»¬ä¹‹é—´çš„ä¸åŒ ç°åœ¨æˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªTaræ–‡ä»¶ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒä»¬æ˜¯ä»€ä¹ˆã€‚é¦–å…ˆåšä¸€ä¸‹å°æ¸…ç†â€”â€”æŠŠæ‰€æœ‰çš„å®¹å™¨å’Œé•œåƒéƒ½åˆ é™¤ï¼š # æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨ sudo docker ps -a # åˆ é™¤å®ƒä»¬ sudo docker rm # æŸ¥çœ‹æ‰€æœ‰çš„é•œåƒ sudo docker images # åˆ é™¤å®ƒä»¬ sudo docker rmi busybox-1 sudo docker rmi busybox è¯‘æ³¨ï¼šå¯ä»¥ä½¿ç”¨ docker rm $(docker ps -q -a) ä¸€æ¬¡æ€§åˆ é™¤æ‰€æœ‰çš„å®¹å™¨ï¼Œdocker rmi $(docker images -q) ä¸€æ¬¡æ€§åˆ é™¤æ‰€æœ‰çš„é•œåƒã€‚ ç°åœ¨å¼€å§‹å¯¼å…¥åˆšåˆšå¯¼å‡ºçš„å®¹å™¨ï¼š # å¯¼å…¥export.taræ–‡ä»¶ cat /home/export.tar | sudo docker import - busybox-1-export:latest # æŸ¥çœ‹é•œåƒ sudo docker images # æ£€æŸ¥æ˜¯å¦å¯¼å…¥æˆåŠŸï¼Œå°±æ˜¯å¯åŠ¨ä¸€ä¸ªæ–°å®¹å™¨ï¼Œæ£€æŸ¥é‡Œé¢æ˜¯å¦å­˜åœ¨/home/testç›®å½•ï¼ˆæ˜¯å­˜åœ¨çš„ï¼‰ sudo docker run busybox-1-export [ -d /home/test ] \u0026\u0026 echo 'Directory found' || echo 'Directory not found' ä½¿ç”¨ç±»ä¼¼çš„æ­¥éª¤å¯¼å…¥é•œåƒï¼š # å¯¼å…¥save.taræ–‡ä»¶ docker load \u003c /home/save.tar # æŸ¥çœ‹é•œåƒ sudo docker images # æ£€æŸ¥æ˜¯å¦å¯¼å…¥æˆåŠŸï¼Œå°±æ˜¯å¯åŠ¨ä¸€ä¸ªæ–°å®¹å™¨ï¼Œæ£€æŸ¥é‡Œé¢æ˜¯å¦å­˜åœ¨/home/testç›®å½•ï¼ˆæ˜¯å­˜åœ¨çš„ï¼‰ sudo docker run busybox-1 [ -d /home/test ] \u0026\u0026 echo 'Directory found' || echo 'Directory not found' é‚£å®ƒä»¬ä¹‹é—´åˆ°åº•å­˜åœ¨ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿæˆ‘ä»¬å‘ç°å¯¼å‡ºåçš„ç‰ˆæœ¬ä¼šæ¯”åŸæ¥çš„ç‰ˆæœ¬ç¨å¾®å°ä¸€äº›ã€‚é‚£æ˜¯å› ä¸ºå¯¼å‡ºåï¼Œä¼šä¸¢å¤±å†å²å’Œå…ƒæ•°æ®ã€‚æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°±çŸ¥é“äº†ï¼š # æ˜¾ç¤ºé•œåƒçš„æ‰€æœ‰å±‚(layer) sudo docker images --tree æ‰§è¡Œå‘½ä»¤ï¼Œæ˜¾ç¤ºä¸‹é¢çš„å†…å®¹ã€‚æ­£ä½ çœ‹åˆ°çš„ï¼Œå¯¼å‡ºåå†å¯¼å…¥(exported-imported)çš„é•œåƒä¼šä¸¢å¤±æ‰€æœ‰çš„å†å²ï¼Œè€Œä¿å­˜åå†åŠ è½½ï¼ˆsaveed-loadedï¼‰çš„é•œåƒæ²¡æœ‰ä¸¢å¤±å†å²å’Œå±‚(layer)ã€‚è¿™æ„å‘³ç€ä½¿ç”¨å¯¼å‡ºåå†å¯¼å…¥çš„æ–¹å¼ï¼Œä½ å°†æ— æ³•å›æ»šåˆ°ä¹‹å‰çš„å±‚(layer)ï¼ŒåŒæ—¶ï¼Œä½¿ç”¨ä¿å­˜åå†åŠ è½½çš„æ–¹å¼æŒä¹…åŒ–æ•´ä¸ªé•œåƒï¼Œå°±å¯ä»¥åšåˆ°å±‚å›æ»šï¼ˆå¯ä»¥æ‰§è¡Œdocker tag æ¥å›æ»šä¹‹å‰çš„å±‚ï¼‰ root@Ubuntu-13:~$ sudo docker images --tree â”œâ”€f502877df6a1 Virtual Size: 2.489 MB Tags: busybox-1-export:latest â””â”€511136ea3c5a Virtual Size: 0 B â””â”€bf747efa0e2f Virtual Size: 0 B â””â”€48e5f45168b9 Virtual Size: 2.489 MB â””â”€769b9341d937 Virtual Size: 2.489 MB â””â”€227516d93162 Virtual Size: 2.489 MB Tags: busybox-1:latest ","date":"2015-08-25","objectID":"/posts/d3163da/:0:0","tags":["docker","export","save"],"title":"Dockerçš„saveå’Œexportå‘½ä»¤çš„åŒºåˆ«","uri":"/posts/d3163da/"},{"categories":["Webç›¸å…³"],"content":"å‰ææ¡ä»¶ å†…å­˜ï¼š2Gï¼Œç¡¬ç›˜ç©ºé—²ç©ºé—´10Gï¼Œå®‰è£…å®Œæˆåå®é™…åªå ä¸åˆ°2G æ”¯æŒwinXP SP3;32ä½ä¸64ä½win7æµè§ˆå™¨æ”¯æŒIE6-8,IE9,firefox3 è‹¥ä»¥å‰å®‰è£…è¿‡LoadRunner,åˆ™å°†å…¶å¸è½½ã€‚ ä¸‹è½½ä»‹è´¨ ä¸‹è½½åœ°å€æ˜¯ï¼Œè¿™ä¸ªæ˜¯æˆ‘è‡ªå·±æœé›†çš„ï¼Œä¹Ÿå¯ä»¥å®‰è£…å…¶ä»–ç‰ˆæœ¬ï¼š LoadRunner11 é“¾æ¥ï¼šhttp://pan.baidu.com/s/1skGkzb3 å¯†ç ï¼š88uq LoadRunner12 é“¾æ¥: https://pan.baidu.com/s/1qXL4tFu å¯†ç : cgrt å¤‡æ³¨ï¼šå‹ç¼©åå¤§å°æœ‰3Gå¤šï¼Œè§£å‹ä¹‹å4Gå·¦å³ï¼Œisoæ–‡ä»¶ã€‚ç”±äºæ–‡ä»¶å¤ªå¤§ï¼Œéœ€è¦æ”¾åœ¨NFSçš„ç›˜ä¸­, FAT32æœ€å¤§åªæ”¯æŒ4GBçš„æ–‡ä»¶ã€‚ å®‰è£…æ­¥éª¤ å¯åŠ¨å®‰è£…ç¨‹åº è¿è¡Œsetup.exeï¼Œç‚¹å‡»â€œLoadRunnerå®Œæ•´å®‰è£…ç¨‹åºâ€ å®‰è£…ç»„ä»¶ å®‰è£…LoadRunner11æ—¶ï¼Œå®‰è£…ç¨‹åºä¼šè‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿæ‰€å®‰è£…çš„ç»„ä»¶æƒ…å†µï¼ŒLoadRunnerè¿è¡Œæ”¯æŒçš„ç»„ä»¶ï¼Œä¸€èˆ¬æ¯”è¾ƒé‡è¦çš„æ˜¯Visual C++ 2005 SP1å’Œ.Net Framework 3.5ã€‚å› ä¹‹å‰å®‰è£…äº†ä¸€ç»„ä»¶åœ¨è®¡ç®—æœºä¸­ï¼Œä¸‹å›¾ä¸­åªæ˜¾ç¤ºäº†2ä¸ªå¿…è¦çš„ç»„ä»¶(lrå®‰è£…åŒ…ä¸­å«æœ‰è¿™äº›ç»„ä»¶)ï¼Œå¦‚æœæ˜¯å…¨æ–°çš„ç³»ç»Ÿä¸€èˆ¬ä¼šæ˜¯5ä¸ªï¼Œç›´æ¥ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼Œå¦‚ä¸‹å›¾ï¼š å®‰è£…æ¬¢è¿ç•Œé¢ ç»„ä»¶å®‰è£…å®Œæˆåè¿›å…¥LoadRunnerä¸»ç¨‹åºçš„å®‰è£…ç•Œé¢ï¼Œç›´æ¥â€œä¸‹ä¸€æ­¥â€ï¼š è®¸å¯åè®® é€‰æ‹©â€œæˆ‘åŒæ„â€ï¼Œç„¶åç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼š ä¸ªäººä¿¡æ¯ è¾“å…¥ä¸ªäººç›¸å…³ä¿¡æ¯ï¼Œé€‰æ‹©â€œä¸‹ä¸€æ­¥â€ï¼š å®‰è£…è·¯å¾„ é€‰æ‹©LoadRunnerå®‰è£…è·¯å¾„ï¼Œæ³¨æ„å®‰è£…è·¯å¾„ä¸è¦æœ‰ä¸­æ–‡ï¼Œé€‰æ‹©â€œä¸‹ä¸€æ­¥â€ï¼š å®‰è£…åŠå®Œæˆ å®‰è£…å å®‰è£…å®Œæˆåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ‰“å¼€â€œLoadRunner License Informationâ€çª—å£ï¼š å¹¶æç¤ºä½ çš„Licenseåªæœ‰åå¤©çš„ä½¿ç”¨æœŸã€‚ æ­¤æ—¶ï¼Œå¯ä»¥å¯åŠ¨LoadRunneräº†ã€‚ ç ´è§£æ–¹æ³• æŠŠloadrunnerç›¸å…³ç¨‹åºå…¨éƒ¨é€€å‡ºï¼› è§£å‹æ–‡ä»¶: lrç ´è§£.zip ç”¨LR8.0ä¸­çš„mlr5lprg.dllã€lm70.dllè¦†ç›–LR9.5å®‰è£…ç›®å½•ä¸‹â€œbinâ€æ–‡ä»¶å¤¹ä¸­çš„å¯¹åº”æ–‡ä»¶ï¼›ä¸€èˆ¬æ˜¯C:\\Program Files\\Mercury\\LoadRunner\\bin. æ¸…ç†æ³¨å†Œè¡¨ï¼ˆä¸æ¸…ç†çš„è¯ï¼Œåœ¨æ·»åŠ licenceæ—¶ï¼Œä¼šæç¤ºâ€œLicense security violationâ€¦â€¦â€ï¼‰ å¯ä»¥ä¸‹è½½æ³¨å†Œè¡¨æ¸…ç†å™¨lr_Del_licenseï¼ˆLRç ´è§£åŒ…å†…æœ‰ï¼‰æˆ–è€…æ‰‹åŠ¨ä¿®æ”¹æ³¨å†Œè¡¨ï¼Œåˆ é™¤ä¸‹é¢å†…å®¹ï¼š [HKEY_LOCAL_MACHINE\\SOFTWARE\\Mercury Interactive\\LoadRunner\\License2] [HKEY_LOCAL_MACHINE\\SOFTWARE\\Mercury Interactive\\LoadRunner\\License2\\History]@=â€œAIBGEBFW-JVED-ZKEKEKEKEKEBDNQAF-KBRDNâ€=â€â€ [HKEY_LOCAL_MACHINE\\SOFTWARE\\Mercury Interactive\\LoadRunner\\License2\\PermanentLicense]@=â€AIBGEBFW-JVED-ZKEKEKEKEKEBDNQAF-KBRDNâ€â€lastâ€=â€AIBGEBFW-JVED-ZKEKEKEKEKEBDNQAF-KBRDNâ€ [HKEY_LOCAL_MACHINE\\SOFTWARE\\Mercury Interactive\\LoadRunner\\License2\\TemporaryLicense]@=â€AEBGEBFS-AKEKEKEKE-KAUCAâ€ [HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\Interface\\{87B3ADD4-21EB-11d5-93EF-00105AA0FD2D}]@=â€IControlâ€ æ·»åŠ ä¸‹é¢çš„licenceï¼Œå³å¯ä½¿ç”¨ï¼š global-100: AEAMAUIK-YAFEKEKJJKEEA-BCJGI web-10000: AEABEXFR-YTIEKEKJJMFKEKEKWBRAUNQJU-KBYGB golba-1000ï¼šAEACFSJI-YASEKJJKEAHJD-BCLBR æä¾›ä¸€ä¸ªè¶…çº§license æœ€é«˜æ”¯æŒ6.5wä¸ªå¹¶å‘ï¼šAEACFSJI-YJKJKJJKEJIJD-BCLBR (å¤‡æ³¨ï¼šç ´è§£åŒ8.1ã€9.5ä¸€æ ·) å®‰è£…è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ å®‰è£…è¿‡ç¨‹ä¸­ï¼Œæç¤ºï¼šå°‘äº†Microsoft Visual c++2005 sp1è¿è¡Œæ—¶ç»„ä»¶ï¼Œå®‰è£…æ—¶ä¼šæç¤ºå‘½ä»¤è¡Œé€‰é¡¹è¯­æ³•é”™è¯¯ï¼Œé”®å…¥â€œå‘½ä»¤/?â€å¯è·å–å¸®è‚‹ä¿¡æ¯ï¼Œæ— æ³•æ­£å¸¸å®‰è£…ï¼› è§£å†³æ–¹æ³•ï¼š è¿›å…¥loadrunner-11\\Additional Components\\IDE Add-Ins\\MS Visual Studio .NET å®‰è£…LRVS2005IDEAddInSetup.exe å†å®‰è£…loadrunner æ³¨æ„å¼€å¯ ï¼Œåœ¨å¼€å§‹èœå•ä¸‹é¢çš„HP LoadRunner\\Advanced Settings\\LoadRunner Agent Process.å¦‚æœä¸æ‰“å¼€æ­¤æœåŠ¡ä¼šå½±å“GUI Vusersã€ASPGUIè„šæœ¬å›æ”¾ã€‚ å®‰è£…æ—¶æç¤ºâ€the link file â€¦. may be corrupted or has illegated link stringâ€çš„é”™è¯¯ä¿¡æ¯æˆ–è€…æç¤ºCommand Line Option Syntax error.Type Command/? åŸå› ï¼šLoadRunnerçš„å®‰è£…æ–‡ä»¶å¤¹åŒ…å«ä¸­æ–‡ï¼ŒLoadRunnerçš„å®‰è£…è„šæœ¬æ— æ³•è¯†åˆ«è·¯å¾„ï¼Œæœ€ç»ˆå¯¼è‡´ä¸æ–­æœ‰è¿™æ ·çš„é”™è¯¯æç¤ºã€‚ è§£å†³æ–¹æ³•ï¼šæŠŠå®‰è£…æ–‡ä»¶çš„ç›®å½•åæ”¹ä¸ºä¸è¦æœ‰ä¸­æ–‡ï¼Œå®‰è£…ç›®å½•æœ€å¥½ä½¿ç”¨é»˜è®¤ã€‚ ç®¡ç†å‘˜æƒé™å®‰è£… LoadRunnerå½•åˆ¶è„šæœ¬ç»å¸¸é‡åˆ°ä¸èƒ½æ‰“å¼€æµè§ˆå™¨çš„æƒ…å†µï¼Œ(å½“ä¸€å°ä¸»æœºä¸Šå®‰è£…å¤šä¸ªæµè§ˆå™¨æ—¶ï¼Œ)å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•æ¥è§£å†³ã€‚ è§£å†³åŠæ³•ï¼šå¯åŠ¨æµè§ˆå™¨ï¼Œæ‰“å¼€Interneté€‰é¡¹å¯¹è¯æ¡†ï¼Œåˆ‡æ¢åˆ°é«˜çº§æ ‡ç­¾ï¼Œå»æ‰â€œå¯ç”¨ç¬¬ä¸‰æ–¹æµè§ˆå™¨æ‰©å±•(éœ€è¦é‡å¯åŠ¨)â€çš„å‹¾é€‰ï¼Œç„¶åå†æ¬¡è¿è¡ŒVuGenå³å¯; æç¤ºï¼šé€šå¸¸å®‰è£…Firefoxç­‰æµè§ˆå™¨åï¼Œéƒ½ä¼šå‹¾é€‰ä¸Šé¢å¾—é€‰é¡¹ï¼Œå¯¼è‡´ä¸èƒ½æ­£å¸¸å½•åˆ¶ã€‚å› æ­¤å»ºè®®è¿è¡ŒLoadRunnerå¾—ä¸»æœºä¸Šä¿æŒä¸€ä¸ªå¹²å‡€çš„æµ‹è¯•ç¯å¢ƒ å½•åˆ¶æ—¶å…³é—­é˜²ç«å¢™ï¼Œå…³é—­360ç›¸å…³ä¸œè¥¿ã€‚ loadrunneråœ¨æ‰“å¼€åœºæ™¯æ—¶ï¼Œæç¤ºâ€œè¯•å›¾æ‰§è¡Œç³»ç»Ÿä¸æ”¯æŒçš„æ“ä½œâ€ åŸå› ï¼šåœ¨å®‰è£…æ—¶ï¼Œ360æ€æ¯’è½¯ä»¶çš„é˜²å¾¡æç¤ºå…¨éƒ¨è®¾ä¸ºé˜»æ­¢äº†ã€‚ è§£å†³æ–¹æ³•ï¼šå¸è½½LoadRunnerï¼Œç„¶åæ‰‹åŠ¨åˆ é™¤å®‰è£…æ–‡ä»¶å’Œæ³¨å†Œè¡¨é‡Œé¢çš„ä¿¡æ¯ï¼Œé‡å¯åå®‰è£…ï¼Œæ€æ¯’è½¯ä»¶çš„é˜²å¾¡æç¤ºå…¨éƒ¨è®¾ä¸ºå…è®¸ï¼Œå°±OKäº† é‡è£…ç³»ç»Ÿåå®‰è£…LR,æç¤ºsetup has determined that a previous installation has not completedï¼Œé‡å¯æ— æ•ˆ ; è§£å†³æ–¹æ³•ï¼š è¿›å…¥æ³¨å†Œè¡¨ï¼šè¿è¡Œ/regedit; è¿›å…¥è·¯å¾„ï¼šKEY_LOCAL_MACHINE/SYSTEM/Contrl/SessionManager; åœ¨Session Managerå³ä¾§çš„ä¸»è¯•å›¾ä¸­ï¼ŒåŒå‡»PendingRenameOperationsï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼Œå°†ä¸´æ—¶æ–‡ä»¶åˆ é™¤ã€‚ é‡æ–°è¿è¡ŒLRå®‰è£…æ–‡ä»¶å³å¯ã€‚ å½“å®‰è£…æç¤º\"æ­¤è®¡ç®—æœºç¼ºå°‘ vc2005_sp1_with_atl_fix_redist\"ï¼Œæ€ä¹ˆåŠï¼Ÿ è§£å†³æ–¹æ³•ï¼šè¿è¡Œå®‰è£…ç¨‹åºè‡ªå¸¦çš„vcredist_x86.exeï¼ˆé»˜è®¤ä½ç½®åœ¨ â€œå®‰è£…åŒ…\\lrunner\\Chs\\prerequisites\\vc2005_sp1_redistâ€ï¼‰ï¼Œè®©ç”µè„‘å…ˆè£…åŸºç¡€ç¯å¢ƒåè£…LoadRunner 11å³å¯ã€‚ ","date":"2015-08-20","objectID":"/posts/edb65560/:0:0","tags":["tools","loadrunner"],"title":"LoadRunner 11 å®‰è£…åŠç ´è§£","uri":"/posts/edb65560/"},{"categories":["å®¹å™¨","Docker"],"content":"Docker ç®€ä»‹ Docker æœ€åˆæ˜¯ dotCloud å…¬å¸åˆ›å§‹äºº Solomon Hykes åœ¨æ³•å›½æœŸé—´å‘èµ·çš„ä¸€ä¸ªå…¬å¸å†…éƒ¨é¡¹ç›®ï¼Œå®ƒæ˜¯åŸºäº dotCloud å…¬å¸å¤šå¹´äº‘æœåŠ¡æŠ€æœ¯çš„ä¸€æ¬¡é©æ–°ï¼Œå¹¶äº 2013 å¹´ 3 æœˆä»¥ Apache 2.0 æˆæƒåè®®å¼€æºï¼Œä¸»è¦é¡¹ç›®ä»£ç åœ¨ GitHub ä¸Šè¿›è¡Œç»´æŠ¤ã€‚Docker é¡¹ç›®åæ¥è¿˜åŠ å…¥äº† Linux åŸºé‡‘ä¼šï¼Œå¹¶æˆç«‹æ¨åŠ¨ å¼€æ”¾å®¹å™¨è”ç›Ÿï¼ˆOCIï¼‰ã€‚ Docker è‡ªå¼€æºåå—åˆ°å¹¿æ³›çš„å…³æ³¨å’Œè®¨è®ºï¼Œè‡³ä»Šå…¶ GitHub é¡¹ç›® å·²ç»è¶…è¿‡ 5 ä¸‡ 7 åƒä¸ªæ˜Ÿæ ‡å’Œä¸€ä¸‡å¤šä¸ª forkã€‚ç”šè‡³ç”±äº Docker é¡¹ç›®çš„ç«çˆ†ï¼Œåœ¨ 2013 å¹´åº•ï¼ŒdotCloud å…¬å¸å†³å®šæ”¹åä¸º Dockerã€‚Docker æœ€åˆæ˜¯åœ¨ Ubuntu 12.04 ä¸Šå¼€å‘å®ç°çš„ï¼›Red Hat åˆ™ä» RHEL 6.5 å¼€å§‹å¯¹ Docker è¿›è¡Œæ”¯æŒï¼›Google ä¹Ÿåœ¨å…¶ PaaS äº§å“ä¸­å¹¿æ³›åº”ç”¨ Dockerã€‚ Docker ä½¿ç”¨ Google å…¬å¸æ¨å‡ºçš„ Go è¯­è¨€ è¿›è¡Œå¼€å‘å®ç°ï¼ŒåŸºäº Linux å†…æ ¸çš„ cgroupï¼Œnamespaceï¼Œä»¥åŠ OverlayFS ç±»çš„ Union FS ç­‰æŠ€æœ¯ï¼Œå¯¹è¿›ç¨‹è¿›è¡Œå°è£…éš”ç¦»ï¼Œå±äº æ“ä½œç³»ç»Ÿå±‚é¢çš„è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚ç”±äºéš”ç¦»çš„è¿›ç¨‹ç‹¬ç«‹äºå®¿ä¸»å’Œå…¶å®ƒçš„éš”ç¦»çš„è¿›ç¨‹ï¼Œå› æ­¤ä¹Ÿç§°å…¶ä¸ºå®¹å™¨ã€‚æœ€åˆå®ç°æ˜¯åŸºäº LXCï¼Œä» 0.7 ç‰ˆæœ¬ä»¥åå¼€å§‹å»é™¤ LXCï¼Œè½¬è€Œä½¿ç”¨è‡ªè¡Œå¼€å‘çš„ libcontainerï¼Œä» 1.11 å¼€å§‹ï¼Œåˆ™è¿›ä¸€æ­¥æ¼”è¿›ä¸ºä½¿ç”¨ runC å’Œ containerdã€‚ Docker ç‰¹æ€§ ä½œä¸ºä¸€ç§æ–°å…´çš„è™šæ‹ŸåŒ–æ–¹å¼ï¼ŒDocker è·Ÿä¼ ç»Ÿçš„è™šæ‹ŸåŒ–æ–¹å¼ç›¸æ¯”å…·æœ‰ä¼—å¤šçš„ä¼˜åŠ¿ã€‚ æ›´é«˜æ•ˆçš„åˆ©ç”¨ç³»ç»Ÿèµ„æº ç”±äºå®¹å™¨ä¸éœ€è¦è¿›è¡Œç¡¬ä»¶è™šæ‹Ÿä»¥åŠè¿è¡Œå®Œæ•´æ“ä½œç³»ç»Ÿç­‰é¢å¤–å¼€é”€ï¼ŒDocker å¯¹ç³»ç»Ÿèµ„æºçš„åˆ©ç”¨ç‡æ›´é«˜ã€‚æ— è®ºæ˜¯åº”ç”¨æ‰§è¡Œé€Ÿåº¦ã€å†…å­˜æŸè€—æˆ–è€…æ–‡ä»¶å­˜å‚¨é€Ÿåº¦ï¼Œéƒ½è¦æ¯”ä¼ ç»Ÿè™šæ‹ŸæœºæŠ€æœ¯æ›´é«˜æ•ˆã€‚å› æ­¤ï¼Œç›¸æ¯”è™šæ‹ŸæœºæŠ€æœ¯ï¼Œä¸€ä¸ªç›¸åŒé…ç½®çš„ä¸»æœºï¼Œå¾€å¾€å¯ä»¥è¿è¡Œæ›´å¤šæ•°é‡çš„åº”ç”¨ã€‚ æ›´å¿«é€Ÿçš„å¯åŠ¨æ—¶é—´ ä¼ ç»Ÿçš„è™šæ‹ŸæœºæŠ€æœ¯å¯åŠ¨åº”ç”¨æœåŠ¡å¾€å¾€éœ€è¦æ•°åˆ†é’Ÿï¼Œè€Œ Docker å®¹å™¨åº”ç”¨ï¼Œç”±äºç›´æ¥è¿è¡Œäºå®¿ä¸»å†…æ ¸ï¼Œæ— éœ€å¯åŠ¨å®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œå› æ­¤å¯ä»¥åšåˆ°ç§’çº§ã€ç”šè‡³æ¯«ç§’çº§çš„å¯åŠ¨æ—¶é—´ã€‚å¤§å¤§çš„èŠ‚çº¦äº†å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²çš„æ—¶é—´ã€‚ ä¸€è‡´çš„è¿è¡Œç¯å¢ƒ å¼€å‘è¿‡ç¨‹ä¸­ä¸€ä¸ªå¸¸è§çš„é—®é¢˜æ˜¯ç¯å¢ƒä¸€è‡´æ€§é—®é¢˜ã€‚ç”±äºå¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒä¸ä¸€è‡´ï¼Œå¯¼è‡´æœ‰äº› bug å¹¶æœªåœ¨å¼€å‘è¿‡ç¨‹ä¸­è¢«å‘ç°ã€‚è€Œ Docker çš„é•œåƒæä¾›äº†é™¤å†…æ ¸å¤–å®Œæ•´çš„è¿è¡Œæ—¶ç¯å¢ƒï¼Œç¡®ä¿äº†åº”ç”¨è¿è¡Œç¯å¢ƒä¸€è‡´æ€§ï¼Œä»è€Œä¸ä¼šå†å‡ºç° ã€Œè¿™æ®µä»£ç åœ¨æˆ‘æœºå™¨ä¸Šæ²¡é—®é¢˜å•Šã€ è¿™ç±»é—®é¢˜ã€‚ æŒç»­äº¤ä»˜å’Œéƒ¨ç½² å¯¹å¼€å‘å’Œè¿ç»´ï¼ˆDevOpsï¼‰äººå‘˜æ¥è¯´ï¼Œæœ€å¸Œæœ›çš„å°±æ˜¯ä¸€æ¬¡åˆ›å»ºæˆ–é…ç½®ï¼Œå¯ä»¥åœ¨ä»»æ„åœ°æ–¹æ­£å¸¸è¿è¡Œã€‚ ä½¿ç”¨ Docker å¯ä»¥é€šè¿‡å®šåˆ¶åº”ç”¨é•œåƒæ¥å®ç°æŒç»­é›†æˆã€æŒç»­äº¤ä»˜ã€éƒ¨ç½²ã€‚å¼€å‘äººå‘˜å¯ä»¥é€šè¿‡ Dockerfile æ¥è¿›è¡Œé•œåƒæ„å»ºï¼Œå¹¶ç»“åˆ æŒç»­é›†æˆ(Continuous Integration) ç³»ç»Ÿè¿›è¡Œé›†æˆæµ‹è¯•ï¼Œè€Œè¿ç»´äººå‘˜åˆ™å¯ä»¥ç›´æ¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¿«é€Ÿéƒ¨ç½²è¯¥é•œåƒï¼Œç”šè‡³ç»“åˆ æŒç»­éƒ¨ç½²(Continuous Delivery/Deployment) ç³»ç»Ÿè¿›è¡Œè‡ªåŠ¨éƒ¨ç½²ã€‚ è€Œä¸”ä½¿ç”¨ Dockerfile ä½¿é•œåƒæ„å»ºé€æ˜åŒ–ï¼Œä¸ä»…ä»…å¼€å‘å›¢é˜Ÿå¯ä»¥ç†è§£åº”ç”¨è¿è¡Œç¯å¢ƒï¼Œä¹Ÿæ–¹ä¾¿è¿ç»´å›¢é˜Ÿç†è§£åº”ç”¨è¿è¡Œæ‰€éœ€æ¡ä»¶ï¼Œå¸®åŠ©æ›´å¥½çš„ç”Ÿäº§ç¯å¢ƒä¸­éƒ¨ç½²è¯¥é•œåƒã€‚ æ›´è½»æ¾çš„è¿ç§» ç”±äº Docker ç¡®ä¿äº†æ‰§è¡Œç¯å¢ƒçš„ä¸€è‡´æ€§ï¼Œä½¿å¾—åº”ç”¨çš„è¿ç§»æ›´åŠ å®¹æ˜“ã€‚Docker å¯ä»¥åœ¨å¾ˆå¤šå¹³å°ä¸Šè¿è¡Œï¼Œæ— è®ºæ˜¯ç‰©ç†æœºã€è™šæ‹Ÿæœºã€å…¬æœ‰äº‘ã€ç§æœ‰äº‘ï¼Œç”šè‡³æ˜¯ç¬”è®°æœ¬ï¼Œå…¶è¿è¡Œç»“æœæ˜¯ä¸€è‡´çš„ã€‚å› æ­¤ç”¨æˆ·å¯ä»¥å¾ˆè½»æ˜“çš„å°†åœ¨ä¸€ä¸ªå¹³å°ä¸Šè¿è¡Œçš„åº”ç”¨ï¼Œè¿ç§»åˆ°å¦ä¸€ä¸ªå¹³å°ä¸Šï¼Œè€Œä¸ç”¨æ‹…å¿ƒè¿è¡Œç¯å¢ƒçš„å˜åŒ–å¯¼è‡´åº”ç”¨æ— æ³•æ­£å¸¸è¿è¡Œçš„æƒ…å†µã€‚ æ›´è½»æ¾çš„ç»´æŠ¤å’Œæ‰©å±• Docker ä½¿ç”¨çš„åˆ†å±‚å­˜å‚¨ä»¥åŠé•œåƒçš„æŠ€æœ¯ï¼Œä½¿å¾—åº”ç”¨é‡å¤éƒ¨åˆ†çš„å¤ç”¨æ›´ä¸ºå®¹æ˜“ï¼Œä¹Ÿä½¿å¾—åº”ç”¨çš„ç»´æŠ¤æ›´æ–°æ›´åŠ ç®€å•ï¼ŒåŸºäºåŸºç¡€é•œåƒè¿›ä¸€æ­¥æ‰©å±•é•œåƒä¹Ÿå˜å¾—éå¸¸ç®€å•ã€‚æ­¤å¤–ï¼ŒDocker å›¢é˜ŸåŒå„ä¸ªå¼€æºé¡¹ç›®å›¢é˜Ÿä¸€èµ·ç»´æŠ¤äº†ä¸€å¤§æ‰¹é«˜è´¨é‡çš„ å®˜æ–¹é•œåƒï¼Œæ—¢å¯ä»¥ç›´æ¥åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼Œåˆå¯ä»¥ä½œä¸ºåŸºç¡€è¿›ä¸€æ­¥å®šåˆ¶ï¼Œå¤§å¤§çš„é™ä½äº†åº”ç”¨æœåŠ¡çš„é•œåƒåˆ¶ä½œæˆæœ¬ã€‚ å¯¹æ¯”ä¼ ç»Ÿè™šæ‹Ÿæœº ç‰¹æ€§ å®¹å™¨ è™šæ‹Ÿæœº éƒ¨ç½²éš¾åº¦ éå¸¸ç®€å• ç›¸å¯¹å¤æ‚ å¯åŠ¨ ç§’çº§ åˆ†é’Ÿçº§ å­˜å‚¨ ä¸€èˆ¬ä¸ºMB ä¸€èˆ¬ä¸ºGB æ€§èƒ½ æ¥è¿‘åŸç”Ÿ å¼±äº ç³»ç»Ÿæ”¯æŒé‡ å•æœºæ”¯æŒä¸Šåƒä¸ªå®¹å™¨ ä¸€èˆ¬å‡ åä¸ª å¯ç§»æ¤æ€§ è½»é‡ã€çµæ´» ç¬¨é‡ã€ä¸è™šæ‹ŸåŒ–æŠ€æœ¯è€¦åˆåº¦é«˜ ä¸‹é¢çš„å›¾ç‰‡æ¯”è¾ƒäº† Docker å’Œä¼ ç»Ÿè™šæ‹ŸåŒ–æ–¹å¼çš„ä¸åŒä¹‹å¤„ã€‚ ä¼ ç»Ÿè™šæ‹ŸåŒ–æŠ€æœ¯æ˜¯è™šæ‹Ÿä¸€å¥—ç¡¬ä»¶åï¼Œç„¶åå®‰è£…è¿è¡Œä¸€ä¸ªå®Œæ•´æ“ä½œç³»ç»Ÿï¼Œåœ¨è¯¥ç³»ç»Ÿä¸Šå†è¿è¡Œæ‰€éœ€åº”ç”¨è¿›ç¨‹ï¼Œè€Œå®¹å™¨å†…çš„åº”ç”¨è¿›ç¨‹ç›´æ¥è¿è¡Œäºå®¿ä¸»çš„å†…æ ¸ï¼Œå®¹å™¨å†…æ²¡æœ‰è‡ªå·±çš„å†…æ ¸ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰è¿›è¡Œç¡¬ä»¶è™šæ‹Ÿã€‚å› æ­¤å®¹å™¨è¦æ¯”ä¼ ç»Ÿè™šæ‹Ÿæœºæ›´ä¸ºè½»ä¾¿ã€‚ Docker åŸºæœ¬æ¦‚å¿µ Docker åŒ…æ‹¬ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µ é•œåƒï¼ˆImageï¼‰ å®¹å™¨ï¼ˆContainerï¼‰ ä»“åº“ï¼ˆRepositoryï¼‰ ç†è§£äº†è¿™ä¸‰ä¸ªæ¦‚å¿µï¼Œå°±ç†è§£äº† Docker çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚ é•œåƒï¼ˆImageï¼‰ æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ“ä½œç³»ç»Ÿåˆ†ä¸ºå†…æ ¸å’Œç”¨æˆ·ç©ºé—´ã€‚å¯¹äº Linux è€Œè¨€ï¼Œå†…æ ¸å¯åŠ¨åï¼Œä¼šæŒ‚è½½ root æ–‡ä»¶ç³»ç»Ÿä¸ºå…¶æä¾›ç”¨æˆ·ç©ºé—´æ”¯æŒã€‚è€Œ Docker é•œåƒï¼ˆImageï¼‰ï¼Œå°±ç›¸å½“äºæ˜¯ä¸€ä¸ª root æ–‡ä»¶ç³»ç»Ÿã€‚æ¯”å¦‚å®˜æ–¹é•œåƒ ubuntu:18.04 å°±åŒ…å«äº†å®Œæ•´çš„ä¸€å¥— Ubuntu 18.04 æœ€å°ç³»ç»Ÿçš„ root æ–‡ä»¶ç³»ç»Ÿã€‚ Docker é•œåƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚é•œåƒä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚ å®¹å™¨ï¼ˆContainerï¼‰ é•œåƒï¼ˆImageï¼‰å’Œå®¹å™¨ï¼ˆContainerï¼‰çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ ç±» å’Œ å®ä¾‹ ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚ å®¹å™¨çš„å®è´¨æ˜¯è¿›ç¨‹ï¼Œä½†ä¸ç›´æ¥åœ¨å®¿ä¸»æ‰§è¡Œçš„è¿›ç¨‹ä¸åŒï¼Œå®¹å™¨è¿›ç¨‹è¿è¡Œäºå±äºè‡ªå·±çš„ç‹¬ç«‹çš„ å‘½åç©ºé—´ã€‚å› æ­¤å®¹å™¨å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„ root æ–‡ä»¶ç³»ç»Ÿã€è‡ªå·±çš„ç½‘ç»œé…ç½®ã€è‡ªå·±çš„è¿›ç¨‹ç©ºé—´ï¼Œç”šè‡³è‡ªå·±çš„ç”¨æˆ· ID ç©ºé—´ã€‚å®¹å™¨å†…çš„è¿›ç¨‹æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒé‡Œï¼Œä½¿ç”¨èµ·æ¥ï¼Œå°±å¥½åƒæ˜¯åœ¨ä¸€ä¸ªç‹¬ç«‹äºå®¿ä¸»çš„ç³»ç»Ÿä¸‹æ“ä½œä¸€æ ·ã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—å®¹å™¨å°è£…çš„åº”ç”¨æ¯”ç›´æ¥åœ¨å®¿ä¸»è¿è¡Œæ›´åŠ å®‰å…¨ã€‚ä¹Ÿå› ä¸ºè¿™ç§éš”ç¦»çš„ç‰¹æ€§ï¼Œå¾ˆå¤šäººåˆå­¦ Docker æ—¶å¸¸å¸¸ä¼šæ··æ·†å®¹å™¨å’Œè™šæ‹Ÿæœºã€‚ å‰é¢è®²è¿‡é•œåƒä½¿ç”¨çš„æ˜¯åˆ†å±‚å­˜å‚¨ï¼Œå®¹å™¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ¯ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶ï¼Œæ˜¯ä»¥é•œåƒä¸ºåŸºç¡€å±‚ï¼Œåœ¨å…¶ä¸Šåˆ›å»ºä¸€ä¸ªå½“å‰å®¹å™¨çš„å­˜å‚¨å±‚ï¼Œæˆ‘ä»¬å¯ä»¥ç§°è¿™ä¸ªä¸ºå®¹å™¨è¿è¡Œæ—¶è¯»å†™è€Œå‡†å¤‡çš„å­˜å‚¨å±‚ä¸º å®¹å™¨å­˜å‚¨å±‚ã€‚ å®¹å™¨å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨ä¸€æ ·ï¼Œå®¹å™¨æ¶ˆäº¡æ—¶ï¼Œå®¹å™¨å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ã€‚å› æ­¤ï¼Œä»»ä½•ä¿å­˜äºå®¹å™¨å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéšå®¹å™¨åˆ é™¤è€Œä¸¢å¤±ã€‚ æŒ‰ç…§ Docker æœ€ä½³å®è·µçš„è¦æ±‚ï¼Œå®¹å™¨ä¸åº”è¯¥å‘å…¶å­˜å‚¨å±‚å†…å†™å…¥ä»»ä½•æ•°æ®ï¼Œå®¹å™¨å­˜å‚¨å±‚è¦ä¿æŒæ— çŠ¶æ€åŒ–ã€‚æ‰€æœ‰çš„æ–‡ä»¶å†™å…¥æ“ä½œï¼Œéƒ½åº”è¯¥ä½¿ç”¨ æ•°æ®å·ï¼ˆVolumeï¼‰ã€æˆ–è€… ç»‘å®šå®¿ä¸»ç›®å½•ï¼Œåœ¨è¿™äº›ä½ç½®çš„è¯»å†™ä¼šè·³è¿‡å®¹å™¨å­˜å‚¨å±‚ï¼Œç›´æ¥å¯¹å®¿ä¸»ï¼ˆæˆ–ç½‘ç»œå­˜å‚¨ï¼‰å‘ç”Ÿè¯»å†™ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§æ›´é«˜ã€‚ æ•°æ®å·çš„ç”Ÿå­˜å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼Œå®¹å™¨æ¶ˆäº¡ï¼Œæ•°æ®å·ä¸ä¼šæ¶ˆäº¡ã€‚å› æ­¤ï¼Œä½¿ç”¨æ•°æ®å·åï¼Œå®¹å™¨åˆ é™¤æˆ–è€…é‡æ–°è¿è¡Œä¹‹åï¼Œæ•°æ®å´ä¸ä¼šä¸¢å¤±ã€‚ ä»“åº“ï¼ˆRepositoryï¼‰ é•œåƒæ„å»ºå®Œæˆåï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„åœ¨å½“å‰å®¿ä¸»æœºä¸Šè¿è¡Œï¼Œä½†æ˜¯ï¼Œå¦‚æœéœ€è¦åœ¨å…¶å®ƒæœåŠ¡å™¨ä¸Šä½¿ç”¨è¿™ä¸ªé•œåƒï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªé›†ä¸­çš„å­˜å‚¨ã€åˆ†å‘é•œåƒçš„æœåŠ¡ï¼ŒDocker Registry å°±æ˜¯è¿™æ ·çš„æœåŠ¡ã€‚ é€šå¸¸ï¼Œä¸€ä¸ªä»“åº“ä¼šåŒ…å«åŒä¸€ä¸ªè½¯ä»¶ä¸åŒç‰ˆæœ¬çš„é•œåƒï¼Œè€Œæ ‡ç­¾å°±å¸¸ç”¨äºå¯¹åº”è¯¥è½¯ä»¶çš„å„ä¸ªç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ \u003cä»“åº“å\u003e:\u003cæ ‡ç­¾\u003e çš„æ ¼å¼æ¥æŒ‡å®šå…·ä½“æ˜¯è¿™ä¸ªè½¯ä»¶å“ªä¸ªç‰ˆæœ¬çš„é•œåƒã€‚å¦‚æœä¸ç»™å‡ºæ ‡ç­¾ï¼Œå°†ä»¥ latest ä½œä¸ºé»˜è®¤æ ‡ç­¾ã€‚ ä»¥ Ubuntu é•œåƒ ä¸ºä¾‹ï¼Œubuntu æ˜¯ä»“åº“çš„åå­—ï¼Œå…¶å†…åŒ…å«æœ‰ä¸åŒçš„ç‰ˆæœ¬æ ‡ç­¾ï¼Œå¦‚ï¼Œ16.04, 18.04ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ ubuntu:16.04ï¼Œæˆ–è€… ubuntu:18.04 æ¥å…·ä½“æŒ‡å®šæ‰€éœ€å“ªä¸ªç‰ˆæœ¬çš„é•œåƒã€‚å¦‚æœå¿½ç•¥äº†æ ‡ç­¾ï¼Œæ¯”å¦‚ ubuntuï¼Œé‚£å°†è§†ä¸º ubuntu:latestã€‚ ","date":"2015-08-13","objectID":"/posts/557f44df/:0:0","tags":["docker"],"title":"Dockerç®€ä»‹æ¦‚è¿°","uri":"/posts/557f44df/"},{"categories":["Webç›¸å…³","Apache"],"content":"å½“å‰WEBæœåŠ¡å™¨ä¸­è”æ¥æ¬¡æ•°æœ€å¤šçš„ipåœ°å€ $ netstat -ntu |awk '{print $5}' |sort | uniq -c| sort -nr æŸ¥çœ‹æ—¥å¿—ä¸­è®¿é—®æ¬¡æ•°æœ€å¤šçš„å‰10ä¸ªIP $ cat access.log |cut -d ' ' -f 1 |sort |uniq -c | sort -nr | awk '{print $0 }' | head -n 10 |less æŸ¥çœ‹æ—¥å¿—ä¸­å‡ºç°100æ¬¡ä»¥ä¸Šçš„IP $ cat access.log |cut -d ' ' -f 1 |sort |uniq -c | awk '{if ($1 \u003e 100) print $0}'ï½œsort -nr |less æŸ¥çœ‹æœ€è¿‘è®¿é—®é‡æœ€é«˜çš„æ–‡ä»¶ $ cat access.log |tail -10000|awk '{print $7}'|sort|uniq -c|sort -nr|less æŸ¥çœ‹æ—¥å¿—ä¸­è®¿é—®è¶…è¿‡100æ¬¡çš„é¡µé¢ $ cat access.log | cut -d ' ' -f 7 | sort |uniq -c | awk '{if ($1 \u003e 100) print $0}' | less ç»Ÿè®¡æŸurlï¼Œä¸€å¤©çš„è®¿é—®æ¬¡æ•° $ cat access.log|grep '12/Aug/2009'|grep '/images/index/e1.gif'|wc|awk '{print $1}' å‰äº”å¤©çš„è®¿é—®æ¬¡æ•°æœ€å¤šçš„ç½‘é¡µ $ cat access.log|awk '{print $7}'|uniq -c |sort -n -r|head -20 ä»æ—¥å¿—é‡ŒæŸ¥çœ‹è¯¥ipåœ¨å¹²å˜› $ cat access.log | grep 218.66.36.119| awk '{print $1â€³\\tâ€$7}' | sort | uniq -c | sort -nr | less åˆ—å‡ºä¼ è¾“æ—¶é—´è¶…è¿‡ 30 ç§’çš„æ–‡ä»¶ $ cat access.log|awk '($NF \u003e 30){print $7}' |sort -n|uniq -c|sort -nr|head -20 åˆ—å‡ºæœ€æœ€è€—æ—¶çš„é¡µé¢(è¶…è¿‡60ç§’çš„) $ cat access.log |awk '($NF \u003e 60 \u0026\u0026 $7~/\\.php/){print $7}' |sort -n|uniq -c|sort -nr|head -100 ","date":"2015-08-12","objectID":"/posts/e3d0f43e/:0:0","tags":["apache","log"],"title":"Apacheè®¿é—®æ—¥å¿—åˆ†æ","uri":"/posts/e3d0f43e/"},{"categories":["Webç›¸å…³","Nginx"],"content":"åŸŸåé‡å†™ æˆ‘ä»¬å¯ä»¥åœ¨åŒä¸€ä¸ªserverä¸­ç»‘å®šåŸŸåwww.example.comå’Œexample.comä¸¤ä¸ªåŸŸåï¼š server { listen 80; server_name example.com www.example.com; } ä½†æ˜¯è¿™æ ·å¯¹æˆ‘ä»¬çš„SEOéå¸¸ä¸åˆ©ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨301ï¼ˆrewriteï¼‰å°†ä¸€ä¸ªåŸŸåé‡å®šå‘åˆ°å¦ä¸€ä¸ªï¼Œæ¯”å¦‚å°†exampleé‡å®šå‘åˆ°www.example.comã€‚è¿™é‡Œè¦ä¾èµ–äºæ­£åˆ™è¡¨è¾¾å¼çš„åˆ†ç»„ï¼ˆä½¿ç”¨$1æ¥å¼•ç”¨åˆ†ç»„ï¼‰ã€‚ server { listen 80; server_name example.com www.example.com; if($host!= 'www.example.com'){ rewrite ^/(.*)$ http://www.example.com/$1 permanent; }} httpé‡å†™åˆ°https å¦ä¸€ä¸ªéœ€æ±‚æ˜¯å°†ä¸¤ä¸ªåŸŸåçš„æ‰€æœ‰çš„httpè¯·æ±‚è½¬å‘åˆ°httpsä¸Šï¼Œæé«˜å®‰å…¨çº§åˆ«ï¼ŒåŒæ—¶å®ç°äºŒçº§åŸŸåè½¬å‘ä¸€çº§åŸŸåã€‚ server { listen 80; server_name www.debugo.com debugo.com; rewrite ^(.*)$ https://$host$1 permanent; } server { listen 443 ssl; ssl_certificate /etc/nginx/server.crt; ssl_certificate_key /etc/nginx/server.key; server_name www.debugo.com debugo.com; root /webrooot; index index.html index.htm; if ($host != 'debugo.com') { rewrite ^/(.*)$ https://debugo.com/$1 permanent; } #... } é™åŠ¨æ€åˆ†ç¦» æˆ‘ä»¬é€šå¸¸æœ‰è‡ªå·±çš„åŠ¨æ€è¯­è¨€æœåŠ¡å™¨ï¼ˆä¾‹å¦‚Python wsgiï¼ŒNode.JSï¼‰ï¼Œè€Œé™æ€æ–‡ä»¶æˆ‘ä»¬åˆå¸Œæœ›ä½¿ç”¨Nginxæ¥ç®¡ç†ï¼Œæä¾›ç¼“å­˜ç­‰åŠŸèƒ½ã€‚å°±è¦ä½¿ç”¨åˆ°ä¸‹é¢çš„é…ç½®ï¼š location ~ .*\\.(html|htm|gif|jpg|jpeg|bmp|png|ico|txt|js|css)$ { root /web/build; } location / { proxy_pass http://54.3.6.34:8000; proxy_redirect off; proxy_set_header HOST $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; client_max_body_size 10m; client_body_buffer_size 128k; proxy_connect_timeout 90; proxy_send_timeout 90; proxy_read_timeout 90; proxy_buffer_size 4k; proxy_buffers 4 32k; proxy_busy_buffers_size 64k; proxy_temp_file_write_size 64k; } } ","date":"2015-06-24","objectID":"/posts/bfc48fed/:0:0","tags":["nginx","tools"],"title":"Nginxé‡å®šå‘\u0026é™åŠ¨èµ„æºåˆ†ç¦»","uri":"/posts/bfc48fed/"},{"categories":["Linux/Unix"],"content":" é—®é¢˜ï¼š æˆ‘çš„ç¨‹åºåœ¨å…¶å†…éƒ¨åˆ›å»ºå¹¶æ‰§è¡Œäº†å¤šä¸ªçº¿ç¨‹ï¼Œæˆ‘æ€æ ·æ‰èƒ½åœ¨è¯¥ç¨‹åºåˆ›å»ºçº¿ç¨‹åç›‘æ§å…¶ä¸­å•ä¸ªçº¿ç¨‹ï¼Ÿæˆ‘æƒ³è¦çœ‹åˆ°å¸¦æœ‰å®ƒä»¬åç§°çš„å•ä¸ªçº¿ç¨‹è¯¦ç»†æƒ…å†µï¼ˆå¦‚ï¼ŒCPU/å†…å­˜ä½¿ç”¨ç‡ï¼‰ã€‚ çº¿ç¨‹æ˜¯ç°ä»£æ“ä½œç³»ç»Ÿä¸Šè¿›è¡Œå¹¶è¡Œæ‰§è¡Œçš„ä¸€ä¸ªæµè¡Œçš„ç¼–ç¨‹æ–¹é¢çš„æŠ½è±¡æ¦‚å¿µã€‚å½“ä¸€ä¸ªç¨‹åºå†…æœ‰å¤šä¸ªçº¿ç¨‹è¢«å‰åˆ†å‡ºç”¨ä»¥æ‰§è¡Œå¤šä¸ªæµæ—¶ï¼Œè¿™äº›çº¿ç¨‹å°±ä¼šåœ¨å®ƒä»¬ä¹‹é—´å…±äº«ç‰¹å®šçš„èµ„æºï¼ˆå¦‚ï¼Œå†…å­˜åœ°å€ç©ºé—´ã€æ‰“å¼€çš„æ–‡ä»¶ï¼‰ï¼Œä»¥ä½¿å‰åˆ†å¼€é”€æœ€å°åŒ–ï¼Œå¹¶é¿å…å¤§é‡é«˜æˆæœ¬çš„IPCï¼ˆè¿›ç¨‹é—´é€šä¿¡ï¼‰é€šé“ã€‚è¿™äº›åŠŸèƒ½è®©çº¿ç¨‹åœ¨å¹¶å‘æ‰§è¡Œæ—¶æˆä¸ºä¸€ä¸ªé«˜æ•ˆçš„æœºåˆ¶ã€‚ åœ¨Linuxä¸­ï¼Œç¨‹åºä¸­åˆ›å»ºçš„çº¿ç¨‹ï¼ˆä¹Ÿç§°ä¸ºè½»é‡çº§è¿›ç¨‹ï¼ŒLWPï¼‰ä¼šå…·æœ‰å’Œç¨‹åºçš„PIDç›¸åŒçš„â€œçº¿ç¨‹ç»„IDâ€ã€‚ç„¶åï¼Œå„ä¸ªçº¿ç¨‹ä¼šè·å¾—å…¶è‡ªèº«çš„çº¿ç¨‹IDï¼ˆTIDï¼‰ã€‚å¯¹äºLinuxå†…æ ¸è°ƒåº¦å™¨è€Œè¨€ï¼Œçº¿ç¨‹ä¸è¿‡æ˜¯æ°å¥½å…±äº«ç‰¹å®šèµ„æºçš„æ ‡å‡†çš„è¿›ç¨‹è€Œå·²ã€‚ç»å…¸çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¦‚psæˆ–topï¼Œéƒ½å¯ä»¥ç”¨æ¥æ˜¾ç¤ºçº¿ç¨‹çº§åˆ«çš„ä¿¡æ¯ï¼Œåªæ˜¯é»˜è®¤æƒ…å†µä¸‹å®ƒä»¬æ˜¾ç¤ºè¿›ç¨‹çº§åˆ«çš„ä¿¡æ¯ã€‚ è¿™é‡Œæä¾›äº†åœ¨Linuxä¸Šæ˜¾ç¤ºæŸä¸ªè¿›ç¨‹çš„çº¿ç¨‹çš„å‡ ç§æ–¹å¼ã€‚ æ–¹æ³•ä¸€ï¼šPS åœ¨pså‘½ä»¤ä¸­ï¼Œâ€œ-Tâ€é€‰é¡¹å¯ä»¥å¼€å¯çº¿ç¨‹æŸ¥çœ‹ã€‚ä¸‹é¢çš„å‘½ä»¤åˆ—å‡ºäº†ç”±è¿›ç¨‹å·ä¸ºçš„è¿›ç¨‹åˆ›å»ºçš„æ‰€æœ‰çº¿ç¨‹ã€‚ $ ps -T -p \u003cpid\u003e â€œSIDâ€æ è¡¨ç¤ºçº¿ç¨‹IDï¼Œè€Œâ€œCMDâ€æ åˆ™æ˜¾ç¤ºäº†çº¿ç¨‹åç§°ã€‚ æ–¹æ³•äºŒï¼š Top topå‘½ä»¤å¯ä»¥å®æ—¶æ˜¾ç¤ºå„ä¸ªçº¿ç¨‹æƒ…å†µã€‚è¦åœ¨topè¾“å‡ºä¸­å¼€å¯çº¿ç¨‹æŸ¥çœ‹ï¼Œè¯·è°ƒç”¨topå‘½ä»¤çš„â€œ-Hâ€é€‰é¡¹ï¼Œè¯¥é€‰é¡¹ä¼šåˆ—å‡ºæ‰€æœ‰Linuxçº¿ç¨‹ã€‚åœ¨topè¿è¡Œæ—¶ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡æŒ‰â€œHâ€é”®å°†çº¿ç¨‹æŸ¥çœ‹æ¨¡å¼åˆ‡æ¢ä¸ºå¼€æˆ–å…³ã€‚ $ top -H è¦è®©topè¾“å‡ºæŸä¸ªç‰¹å®šè¿›ç¨‹å¹¶æ£€æŸ¥è¯¥è¿›ç¨‹å†…è¿è¡Œçš„çº¿ç¨‹çŠ¶å†µï¼š $ top -H -p \u003cpid\u003e æ–¹æ³•ä¸‰ï¼š Htop ä¸€ä¸ªå¯¹ç”¨æˆ·æ›´åŠ å‹å¥½çš„æ–¹å¼æ˜¯ï¼Œé€šè¿‡htopæŸ¥çœ‹å•ä¸ªè¿›ç¨‹çš„çº¿ç¨‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŸºäºncursesçš„äº¤äº’è¿›ç¨‹æŸ¥çœ‹å™¨ã€‚è¯¥ç¨‹åºå…è®¸ä½ åœ¨æ ‘çŠ¶è§†å›¾ä¸­ç›‘æ§å•ä¸ªç‹¬ç«‹çº¿ç¨‹ã€‚ è¦åœ¨htopä¸­å¯ç”¨çº¿ç¨‹æŸ¥çœ‹ï¼Œè¯·å¼€å¯htopï¼Œç„¶åæŒ‰æ¥è¿›å…¥htopçš„è®¾ç½®èœå•ã€‚é€‰æ‹©â€œè®¾ç½®â€æ ä¸‹é¢çš„â€œæ˜¾ç¤ºé€‰é¡¹â€ï¼Œç„¶åå¼€å¯â€œæ ‘çŠ¶è§†å›¾â€å’Œâ€œæ˜¾ç¤ºè‡ªå®šä¹‰çº¿ç¨‹åâ€é€‰é¡¹ã€‚æŒ‰é€€å‡ºè®¾ç½®ã€‚ ç°åœ¨ï¼Œä½ å°±ä¼šçœ‹åˆ°ä¸‹é¢è¿™æ ·å•ä¸ªè¿›ç¨‹çš„çº¿ç¨‹è§†å›¾ã€‚ ","date":"2015-06-19","objectID":"/posts/8c6e7157/:0:0","tags":["linux","è¿›ç¨‹"],"title":"Linuxä¸Šå¦‚ä½•æŸ¥çœ‹æŸä¸ªè¿›ç¨‹çš„çº¿ç¨‹","uri":"/posts/8c6e7157/"},{"categories":["ç¼–ç¨‹è¯­è¨€"],"content":"å­¦ä¹ ä¸€é—¨æ–°çš„è¯­è¨€æ˜¯ä¸€ç§å†’é™©ã€‚æˆ‘æ€»æ˜¯çƒ­è¡·äºå°è¯•æ–°çš„ä¸œè¥¿â€”â€”å­¦ä¹ æ–°çš„è¯­æ³•ï¼Œäº†è§£ä¸åŒçš„æ¨¡å¼ï¼Œä¹ƒè‡³å½»åº•æ”¹å˜æ€ç»´æ–¹å¼ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè®¸å¤šå¼€å‘äººå‘˜å¯¹æ­¤ä¸ä»¥ä¸ºç„¶ï¼Œç”šè‡³å¯èƒ½æ˜¯æ·±æ¶ç—›ç»çš„â€”â€”å­¦ä¹ æ–°è¯­è¨€ï¼Œå°±å¾—èµ°å‡ºèˆ’é€‚åŒºï¼ŒèŠ±æ—¶é—´èŠ±ç²¾åŠ›æ¥å­¦ä¹ æ–°çš„ç†å¿µå’Œæ–¹æ³•ã€‚ è¿™æ®µæ—¥å­ï¼Œæˆ‘æ¯å¤©éƒ½è¦ç”¨å¤§çº¦5ç§ä¸åŒçš„è¯­è¨€æ¥å†™ä¸åŒçš„é¡¹ç›®ï¼ æˆ‘åº”è¯¥å…ˆå­¦å“ªç§è¯­è¨€ï¼Ÿ æœ‰å…³è¿™æ–¹é¢çš„è®¨è®ºçœŸå¯è°“æ•°ä¸èƒœæ•°ã€‚å¾ˆå¤šåˆšè¿›å…¥ç¼–ç¨‹ç¤¾åŒºçš„åˆå­¦è€…ï¼Œéƒ½ä¼šé—®è¿™ä¸ªé—®é¢˜ï¼Œç®€ç›´å°±æ˜¯å‰èµ´åç»§ã€‚æœ‰äº›äººå»ºè®®å…ˆå­¦ä¸è´¹åŠ›çš„ï¼Œå¦‚Pythonå’ŒRubyï¼Œä¹Ÿæœ‰çš„äººè®¤ä¸ºåº”è¯¥å…ˆå­¦ä¾‹å¦‚Cã€C++å’ŒGOè¿™ç±»éš¾ä¸€äº›çš„ä½å±‚æ¬¡çš„å†…å®¹ã€‚æˆ‘è¦è¯´çš„æ˜¯æˆ‘ä»¬åœ¨é€‰æ‹©æ–°çš„è¯­è¨€ä¹‹å‰ï¼Œåº”è¯¥æ³¨æ„ä»¥ä¸‹å‡ ä¸ªè¦ç‚¹ã€‚ ç±»å‹ç³»ç»Ÿ ä»æˆ‘çš„ç»éªŒå’Œå…ˆå‰çš„å­¦ä¹ è·¯å¾„çœ‹ï¼Œè¿™æ˜¯æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€ã€‚æˆ‘å¾ˆåº†å¹¸æˆ‘ä¸€å¼€å§‹å­¦çš„æ˜¯Cï¼Œæ¥ç€å°è¯•äº†C++ï¼Œä¸€æ®µæ—¶é—´ä¹‹åï¼Œæˆ‘åˆæŠ•å…¥äº†Javaçš„æ€€æŠ±ã€‚ç„¶åæ˜¯Scalaï¼Œä»¥åŠç°åœ¨æˆ‘å¼€å§‹ç©Rubyã€‚åŒæ—¶ï¼Œæˆ‘å¯¹Objective-Cã€Pythonã€ç”šè‡³æ˜¯OCamlä¹Ÿæœ‰æ‰€æ¶‰åŠã€‚å“¦ï¼Œå¯¹äº†ï¼Œæœ€è¿‘æˆ‘æ­£åœ¨æ£é¼“Swiftå’ŒCoffeeScriptã€‚ å¦‚æœæˆ‘ä¸€å¼€å§‹å­¦çš„æ˜¯JavaScriptã€Pythonæˆ–Rubyï¼Œé‚£ä¹ˆåé¢å»ç†è§£ä»€ä¹ˆæ˜¯ç±»å‹å’Œå˜é‡å°±ä¼šéå¸¸å›°éš¾ã€‚ç†è§£é™æ€å’ŒåŠ¨æ€ä»¥åŠå¼±ç±»å‹å’Œå¼ºç±»å‹ç³»ç»Ÿä¹‹é—´çš„åŒºåˆ«ï¼Œå¯¹äºé¢†æ‚Ÿè¯­è¨€çš„å·¥ä½œåŸç†æ˜¯è‡³å…³é‡è¦çš„ã€‚æˆ‘æ— æ³•æƒ³è±¡ï¼Œå¦‚æœæˆ‘ä¸€å¼€å§‹ä¸èƒ½æŒæ§ç±»å‹ï¼Œé‚£ä¹ˆåé¢æ¶‰åŠåˆ°çš„å£°æ˜ä¸å®šä¹‰ï¼Œä»¥åŠæ±‡ç¼–ä¸è§£é‡Šä¹‹é—´çš„å·®å¼‚ï¼Œä¼šæ˜¯è®©äººå¤šä¹ˆå¤´å¤§çš„ä¸€ä»¶äº‹ã€‚ ä¸è¿‡ï¼Œä¹Ÿæœ‰å¾ˆå¤šå¼€å‘äººå‘˜å¸Œæœ›èƒ½æœ‰ç«‹ç«¿è§å½±çš„æ•ˆæœï¼šæ—¢æƒ³å¿«é€Ÿçœ‹åˆ°ç»“æœï¼Œåˆä¸æ„¿æ„è¿‡å¤šåœ°äº†è§£ç»†èŠ‚ã€‚ä»–ä»¬å–œæ¬¢æ¥è½¨æ–°çš„åº”ç”¨ç¨‹åºã€‚æœ€å¥½æ˜¯ä¸ç”¨åŠ¨è„‘å­çš„è¯­è¨€ï¼Œç¢°åˆ°è¿™æ ·çš„ä»–ä»¬æœ€å¼€å¿ƒäº†ã€‚å› ä¸ºåœ¨ä»–ä»¬çœ¼ä¸­ï¼ŒæŒæ¡ integerã€stringå’Œbooleanæ˜¯å­¦ä¹ ç¼–ç¨‹çš„è¶…çº§å¤§éšœç¢ã€‚æœ€å¥½èƒ½å¤Ÿæ¯‹é¡»åˆ†è¾¨ç±»ã€å¯¹è±¡å’Œæ–¹æ³•ï¼Œç›´æ¥å†™ä»£ç ï¼š scala\u003e println(â€œHello World!â€) Hello World! \u003e\u003e\u003e print \"Hello World!\" Hello World! 2.2.1 :001 \u003e puts \"Hello World!\" Hello World! ä¸å¯å¦è®¤è¿™ç§é€”å¾„èƒ½å¤Ÿç»™äººä¿¡å¿ƒï¼Œè®©äººè§‰å¾—è‡ªå·±å­¦åˆ°äº†æ–°çš„ä¸œè¥¿ã€‚ é¦–å…ˆï¼Œè¯·æ˜ç¡®ä½ å±äºå“ªç§ç±»å‹ï¼Œæ‘†æ­£è‡ªå·±çš„ä½ç½®ã€‚ä½ æƒ³è¦æ¢ç©¶éšè—èµ·æ¥çš„å·¥ä½œåŸç†å—ï¼Œå–œæ¬¢æ·±å…¥ç ”ç©¶æœ¬åœ°æ‰§è¡Œå—ï¼Ÿæ„¿æ„å»ç†è§£è¯­è¨€ç»“æ„å—ï¼Ÿåˆæˆ–è€…ä½ åªåœ¨ä¹èƒ½æœ‰å¿«é€Ÿçš„ç»“æœï¼Œä¸æƒ³äº†è§£è™šæ‹Ÿæœºå’Œç¼–è¯‘å·¥ä½œï¼Œå¹¶ä¸”è¯­è¨€å†…éƒ¨æœºåˆ¶å¯¹ä½ è€Œè¨€ä¹Ÿä¸€ç‚¹éƒ½ä¸é‡è¦ï¼Ÿ ä»è‡ªå·±çš„åˆ©ç›Šè§’åº¦è€ƒè™‘ ä½ å¯èƒ½éœ€è¦å¤„ç†å“ªäº›æ•°æ®ï¼Ÿä½ æ‰“ç®—å†™å¤æ‚çš„ä¸šåŠ¡ç³»ç»Ÿè¿˜æ˜¯ç›¸å¯¹ç®€å•çš„CRUDåˆ›ä¸šå…¬å¸ï¼Ÿè¯·åŸºäºå¯èƒ½ä¼šè®©è‡ªå·±æ„Ÿå…´è¶£çš„å†…å®¹æ¥ç¡®å®šå·¥ä½œé¢†åŸŸã€‚ æ‰€ä»¥ï¼Œå¦‚æœä½ ç¡®å®šä½ æƒ³è¦å»ä¼ä¸šå·¥ä½œï¼Œé‚£ä¹ˆä½ å¯ä»¥è¯•è¯•Javaæˆ–è€….NETã€‚å¦‚æœä½ å€¾å‘äºé»‘å®¢å¹¶é«˜åº¦æ³¨é‡å®‰å…¨é—®é¢˜ï¼Œé‚£ä¹ˆä¸å¦¨å­¦ä¹ C/C ++æˆ–Bashã€‚å¦‚æœä½ æ¢¦æƒ³æˆä¸ºä¸€åWebå¼€å‘äººå‘˜ï¼Œé‚£ä¹ˆå…ˆæŒæ¡PHPã€JavaScriptæˆ–Rubyå§ã€‚å¦‚æœä½ æƒ³è¦ç¼–å†™ä¸€äº›æœºå™¨ã€æœºå™¨äººã€æ±½è½¦æˆ–å…¶ä»–ç”µå­æ–¹é¢çš„ç¨‹åºâ€”â€”ä¹Ÿè¡Œï¼Œå…ˆå­¦C ++æˆ–Pythonå§ã€‚ä½ å–œæ¬¢æ£é¼“ç§»åŠ¨è®¾å¤‡ï¼Ÿé‚£ä¹ˆJavaã€Swiftæˆ–Cï¼ƒå°±åº”è¯¥æ˜¯ä½ çš„é¦–é€‰ã€‚å¦‚æœä½ å–œæ¬¢æ•°å­¦å’Œç®—æ³•ï¼Œé‚£ä¹ˆLuaã€Erlangæˆ–Rå°±å¾ˆé€‚åˆä½ ã€‚ç­‰ç­‰ç­‰ç­‰ï¼Œä¸èƒœæšä¸¾ã€‚æ€»ä¹‹â€”â€”ä¸€åˆ‡å–å†³äºä½ çš„ç›®çš„å’Œçˆ±å¥½ã€‚ è¯­è¨€å†…éƒ¨æœºåˆ¶ ä½ æœ‰ç»„ç»‡åŒ–çš„å †æ ˆå†…å­˜å—ï¼Ÿä½ åœ¨ç¨‹åºä¸­ä¼ é€’å˜é‡æ—¶ä½¿ç”¨å¼•ç”¨ç±»å‹è¿˜æ˜¯åªä½¿ç”¨å€¼ç±»å‹ï¼Ÿä½ æ˜¯å¦åˆ©ç”¨æŒ‡é’ˆå’Œææ„å‡½æ•°æ¥æ§åˆ¶å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Ÿä½ æ˜¯è‡ªè¡Œæ¸…ç†å­˜å‚¨å™¨è¿˜æ˜¯ä½¿ç”¨ç›¸å…³çš„åƒåœ¾æ”¶é›†å™¨ï¼Ÿä½ æ˜¯å¦è®¡ç®—å’Œè·Ÿè¸ªå¼•ç”¨ç±»å‹å’Œå­ç±»ï¼Ÿ è¿™äº›éƒ½æ˜¯æˆ‘ä»¬å¹³æ—¶ä¸ä¼šå…³å¿ƒçš„é—®é¢˜ã€‚ä½†æ˜¯æœ‰æ—¶å€™ï¼Œå®ƒä»¬å´æ˜¯ä¸€äº›ä½ ä¸å¾—ä¸å¤„ç†çš„æ¦‚å¿µï¼Œæ‰€ä»¥ç†è§£å†…éƒ¨æœºåˆ¶å¾ˆé‡è¦ã€‚è™½ç„¶ç°åœ¨ä½ ä¼šè§‰å¾—è¿™äº›æ¦‚å¿µå¾ˆå¤æ‚ï¼Œç†è§£èµ·æ¥å¾ˆéš¾ï¼Œå› ä¸ºç»ˆæœ‰ä¸€å¤©ï¼Œä½ ä¼šåº†å¹¸è‡ªå·±ç°åœ¨çš„é€‰æ‹©ï¼Œæœ‰é“æ˜¯ï¼Œä¹¦åˆ°ç”¨æ—¶æ–¹æ¨å°‘ï¼Œä¸è¦åˆ°ç”¨çš„æ—¶å€™è¿½æ‚”è«åŠã€‚ æˆ‘åº”è¯¥å­¦ä¹ å“ªäº›è¯­è¨€ï¼Ÿ ç¤¾åŒºâ€”â€”StackOverflowã€Reddit ä¸‹é¢æ˜¯ä¸€äº›Redditä¸Šé¢æœ‰å…³äºé€šç”¨ç¼–ç¨‹çš„å†…å®¹ï¼š http://www.reddit.com/r/programmers http://www.reddit.com/r/cscareerquestions/ http://www.reddit.com/r/learnprogramming/ http://www.reddit.com/r/programming ä½ ä¹Ÿç‚¹å‡» http://stackoverflow.com/tags æˆ– http://www.reddit.com/subreddits åœ¨ç‰¹å®šçš„è¯­è¨€ç¤¾åŒºä¸­å¯»æ±‚å¸®åŠ©ã€‚è®¸å¤šä¹äºåŠ©äººçš„é«˜æ‰‹å°±åœ¨é‚£é‡Œç­‰ä½ ã€‚ å‡½æ•°åº“ å‡½æ•°åº“ä¹‹æ‰€ä»¥é‡è¦æ˜¯å› ä¸ºå®ƒèƒ½è®©ä½ æœ‰æ•ˆåˆ©ç”¨ç°æœ‰èµ„æºï¼Œè€Œä¸å¿…å†â€œé‡æ–°å‘æ˜è½®å­â€ã€‚æˆ‘ä»¬é€šå¸¸éœ€è¦è§£å†³ç‰¹å®šé—®é¢˜ï¼Œå®ç°ä¸šåŠ¡è§„åˆ™ï¼Œå¤„ç†é‡è¦è¿›ç¨‹ï¼Œä»æ•°ç»„ä¸­æ‰¾å‡ºæ‰€éœ€å…ƒç´ ï¼Œåˆ©ç”¨ç»™å®šå­—ç¬¦ä¸²ï¼Œè¿‡æ»¤ç‰¹å®šé›†åˆç­‰ç­‰ã€‚æœ€å¥½è¯­è¨€æœ¬èº«æˆ–è€…ç¬¬ä¸‰æ–¹å‡½æ•°åº“èƒ½å¤Ÿæä¾›ä¸€äº›å¯ä»¥åŠ å¿«å¼€å‘è¿›ç¨‹çš„å®ç”¨ç¨‹åºã€è¾…åŠ©å·¥å…·å’Œæ•°æ®ç»“æ„ã€‚ ä¸‹é¢æ˜¯ä¸€äº›ä¸åŒè¯­è¨€çš„ç¤¾åŒºå‡½æ•°åº“ä»£ç ä»“åº“ï¼š iOSï¼šhttps://cocoapods.org/ Androidï¼šhttps://android-arsenal.com/ Javaã€Scalaã€Groovyï¼šhttps://search.maven.org/ Haskellï¼šhttps://hackage.haskell.org/packages/ GOï¼šhttp://golang.org/pkg/ Rubyï¼šhttps://rubygems.org/ Pythonï¼šhttps://pypi.python.org/pypi .NETï¼šhttps://www.nuget.org/packages JavaScriptï¼šhttps://www.npmjs.com/ ä¿æŒå¯¹ç¬¬ä¸‰æ–¹æ”¯æŒå¯æ‰©å±•æ€§ã€å¼€æ”¾æ€§å’Œæ˜“äºé›†æˆç­‰æ–¹é¢çš„å®¡æŸ¥ã€‚ ä»åˆ›é€ è€…/ç»´æŠ¤äººå‘˜é‚£å„¿è·å¾—æ–‡æ¡£å’Œæ”¯æŒ ä½ é˜…è¯»æ–‡æ¡£å—ï¼Ÿæ–‡æ¡£æ˜¯ä¸æ˜¯æ˜“äºç†è§£çš„ï¼Œå…¨é¢çš„ï¼Œæœ€æ–°çš„ï¼Ÿæ›´æ–°é¢‘ç‡å¦‚ä½•ï¼Ÿæœ‰å¤šå°‘ç»´æŠ¤äººå‘˜ï¼Œæ˜¯å¦ä¹Ÿåœ¨ç¤¾åŒºä¸­ï¼Ÿä»æ–‡æ¡£ä¸­ä½ èƒ½æå–å¤šå°‘ä¿¡æ¯ï¼Ÿä½ èƒ½å¦è½»æ¾é©¾é©­ä¸åŒçš„éƒ¨åˆ†ï¼Ÿ è¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰æ•ˆçš„è§‚å¯ŸæŠ¥å‘Šã€‚åªè¦æœ‰åˆ›é€ è€…æä¾›æœ‰åŠ©äºå­¦ä¹ å’Œç†è§£è¯­è¨€çš„æ–‡æ¡£ï¼Œå…¶ä»–çš„å…¶å®æ— æ‰€è°“ã€‚ä¾‹å¦‚ï¼ŒRubyå°±æœ‰ä¸å°‘æä¾›æ–‡æ¡£çš„ç½‘ç«™ï¼Œå¦‚ï¼šhttps://www.omniref.com/ï¼Œhttp://ruby-doc.org/ã€‚ Scalaä¹Ÿæœ‰ç›¸å½“ä¸é”™çš„APIè¯´æ˜ä¹¦http://www.scala-lang.org/api/current/ã€‚ è¯­è¨€çš„åˆ›é€ è€…å¯¹å¾…ç¤¾åŒºçš„æ€åº¦ä¹Ÿå¾ˆé‡è¦ã€‚ä»–èƒ½å¦åƒRubyåˆ›å§‹äººMatzä¸€æ ·æ„¿æ„æ¥å—å’Œå€¾å¬åé¦ˆï¼Ÿä»–æ˜¯å¦åƒScalaä¹‹çˆ¶Martin Oderskyä¸€æ ·æœ‰ç€çº¯ç²¹çš„ç»è¥æ–¹é’ˆï¼Ÿåˆæˆ–è€…ä»–æ˜¯å¦ä¼šåƒClojureçš„å‘æ˜è€…ä¸€æ ·é¼“åŠ±ç¤¾åŒºå‘å±•ï¼Ÿ èµ„æºå’Œå®ä¾‹â€”â€”åšå®¢ã€GitHubä»£ç ä»“åº“ ä¸‹é¢æ˜¯ä¸€äº›å¯ä½œä¸ºèµ·æ­¥æŒ‡å¯¼çš„å¥½ä¾‹å­ï¼š http://docs.scala-lang.org/overviews/ https://www.ruby-lang.org/en/documentation/ https://developer.apple.com/library/ios/documentation/Swift/Conceptual/-Swift_Programming_Language/index.html http://arcturo.github.io/library/coffeescript/,http://autotelicum.github.io/Smooth-CoffeeScript/ è‡³äºç½‘ä¸Šæ•™ç¨‹ï¼Œä¸‹é¢è¿™äº›æ˜¯å¾ˆä¸é”™çš„é—¨æˆ·ç½‘ç«™ï¼Œå¦‚ï¼š https://www.codeschool.com/ http://www.codecademy.com/ http://www.pluralsight.com/ http://teamtreehouse.com/ http://tutsplus.com/ http://www.lynda.com/ https://www.udemy.com/ ä¸å¦¨å»çœ‹ä¸€çœ‹ã€‚ èµ„é‡‘ æ²¡é”™ï¼Œå‰é¢æˆ‘ä»¬è°ˆè®ºäº†æ€æƒ³ã€æ¿€æƒ…ï¼Œä»¥åŠä¸€äº›æŠ½è±¡çš„æ¦‚å¿µï¼Œä½†æ˜¯æœ€åæ‰€æœ‰è¿™ä¸€åˆ‡éƒ½å½’ç»“åˆ°èµ„é‡‘ï¼Œä¹Ÿå°±æ˜¯é‡‘é’±ã€‚åœ¨é€‰æ‹©è¯­è¨€ä¹‹å‰æœ€å¥½å…ˆææ¸…æ¥šå“ªç§è–ªé…¬/éœ€æ±‚ç›¸å¯¹æ¯”è¾ƒé«˜ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥çº¯ç²¹æ˜¯å› ä¸ºå¥½ç©è€Œé€‰æ‹©å®ƒã€‚æ–°äº‹ç‰©æ€»åœ¨ä¸æ–­åœ°å‡ºç°å’Œå‘å±•ï¼Œè™½ç„¶è¿™å¯ä»¥æ‹“å®½æˆ‘ä»¬çš„è§†é‡ï¼Œä½†å­¦ä¸€äº›æœ‰ç”¨çš„ä¸œè¥¿è¿˜æ˜¯éå¸¸é‡è¦çš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ä½ æœ‰ä»¥ä¸‹ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š å­¦ä¹ å½“å‰å¸‚åœºä¸Šæœ€æµè¡Œ/éœ€æ±‚é‡æœ€å¤§çš„è¯­è¨€/æŠ€æœ¯/æ¡†æ¶ã€‚è¿™èƒ½ç¡®ä¿ä½ ä¸ä½†èƒ½æ‰¾åˆ°å·¥ä½œï¼Œè¿˜èƒ½è·å¾—ä¼˜æ¸¥çš„æŠ¥é…¬ã€‚ æŒ‰ç…§è‡ªå·±çš„è§‚ç‚¹å­¦ä¹ ã€‚è¿™å¯èƒ½æœ‰ç‚¹éš¾ä»¥æƒ³è±¡ã€‚å› ä¸ºè°ä¹Ÿä¸èƒ½æ‰“åŒ…ç¥¨è¯´ä¸‹ä¸€ä¸ªæµè¡Œçš„å°±ä¸€å®šæ˜¯è¿™ç§ç¼–ç¨‹è¯­è¨€ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œ10å¹´å‰ä½ è¦æ˜¯è¯´Rubyä¼šæˆä¸ºå½“å‰ç¤¾ä¼šçš„å® å„¿ï¼Œè°ä¼šç›¸ä¿¡ã€‚è¿˜æœ‰Scalaå’ŒGOï¼Œæ²¡äººçŸ¥é“ä¹‹åï¼Œæ¯”å¦‚è¯´ï¼Œ5å¹´ä»¥åå®ƒä»¬ä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–ã€‚å¦‚æœä½ ç°åœ¨é€‰æ‹©äº†å®ƒä»¬â€”â€”é‚£ä¹ˆï¼Œè¦ä¹ˆä½ å°†æˆä¸ºé«˜è–ªä¸“å®¶ï¼Œå› ä¸ºä»¥åä¼šå˜å¾—éå¸¸æ™®åŠï¼›è¦ä¹ˆä½ åªæ˜¯æŒæ¡äº†ä¸€ç§æ²¡ç”¨çš„ï¼Œè¢«æ·˜æ±°çš„è¯­è¨€ã€‚ ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹å¸‚åœºåˆ†æï¼šhttps://gooroo.io/analyticsã€‚ æˆ‘è¦ä¸è¦ä¸€æ¬¡å­¦ä¹ å¤šç§ç¼–ç¨‹è¯­è¨€ï¼Ÿ åˆšå¼€å§‹â€”â€”ä¸è¦è¿™ä¹ˆåšã€‚ä»é•¿è¿œæ¥çœ‹â€”â€”æ˜¯çš„ï¼Œä½ åº”è¯¥å­¦ä¹ å¤šç§ç¼–ç¨‹è¯­è¨€ã€‚ å½“ä½ åˆšè¸ä¸Šç¼–ç¨‹ä¹‹æ—…æ—¶ï¼Œä½ åº”è¯¥åªä¸“æ³¨äºä¸€ç§è¯­è¨€ã€‚ä½ éœ€è¦æŒæ¡æ‰€æœ‰çš„æ¦‚å¿µï¼Œå…¨ç¥è´¯æ³¨äºå­¦ä¹ æŸä¸ªç‰¹å®šåŒºåŸŸã€‚ å½“ä½ å·²ç»æ˜¯ä¸€ä¸ªæœ‰ä¸€å®šç»éªŒçš„ç¨‹åºå‘˜ï¼Œé‚£æƒ…å†µå°±æœ‰æ‰€ä¸åŒäº†ã€‚ç”±äºä½ å·²ç»çŸ¥é“å†…éƒ¨æœºåˆ¶å’Œç¨‹åºçš„å·¥ä½œåŸç†ï¼Œè¿™æ—¶ä½ éœ€è¦åšçš„å°±æ˜¯å­¦ä¹ æ–°çš„è¯­æ³•å’Œæ–°çš„èŒƒå¼ï¼Œå› ä¸ºå¾ˆå¤šæ¦‚å¿µåœ¨ä¸åŒè¯­è¨€é‡Œé¢éƒ½æ˜¯ç›¸é€šçš„ã€‚ ä¸‡äº‹å¼€å¤´éš¾ï¼Œä¸€æ—¦æ­£ç¡®èµ·æ­¥ä¹‹åï¼Œå°±ä¼šåƒæ»šé›ªçƒä¸€æ ·è¶Šæ»šè¶Šé¡ºã€‚ æ€»ç»“ é‚£ä¹ˆå½’æ ¹ç©¶åº•æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å­¦ä¹ æ–°çš„è¯­è¨€å‘¢ï¼Ÿå› ä¸ºæ²¡æœ‰å“ªç§å·¥å…·æ˜¯é€‚ç”¨äºæ‰€æœ‰ç›®æ ‡çš„ã€‚è€Œæˆ‘ä»¬æœ‰","date":"2015-06-19","objectID":"/posts/fdca3c9c/:0:0","tags":["ç¼–ç¨‹","ç¨‹åºå‘˜"],"title":"å¦‚ä½•æˆä¸ºä¸€ä¸ªé€šæ™“å¤šç§ç¼–ç¨‹è¯­è¨€çš„ç¨‹åºå‘˜","uri":"/posts/fdca3c9c/"},{"categories":["Webç›¸å…³","Nginx"],"content":"Nginxä¸­upstreamæœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š è½®è¯¢(weight=1) é»˜è®¤é€‰é¡¹ï¼Œå½“weightä¸æŒ‡å®šæ—¶ï¼Œå„æœåŠ¡å™¨weightç›¸åŒï¼Œ æ¯ä¸ªè¯·æ±‚æŒ‰æ—¶é—´é¡ºåºé€ä¸€åˆ†é…åˆ°ä¸åŒçš„åç«¯æœåŠ¡å™¨ï¼Œå¦‚æœåç«¯æœåŠ¡å™¨downæ‰ï¼Œèƒ½è‡ªåŠ¨å‰”é™¤ã€‚ upstream bakend { server 192.168.1.10; server 192.168.1.11; } weight æŒ‡å®šè½®è¯¢å‡ ç‡ï¼Œweightå’Œè®¿é—®æ¯”ç‡æˆæ­£æ¯”ï¼Œç”¨äºåç«¯æœåŠ¡å™¨æ€§èƒ½ä¸å‡çš„æƒ…å†µã€‚ å¦‚æœåç«¯æœåŠ¡å™¨downæ‰ï¼Œèƒ½è‡ªåŠ¨å‰”é™¤ã€‚ æ¯”å¦‚ä¸‹é¢é…ç½®ï¼Œåˆ™1.11æœåŠ¡å™¨çš„è®¿é—®é‡ä¸º1.10æœåŠ¡å™¨çš„ä¸¤å€ã€‚ upstream bakend { server 192.168.1.10 weight=1; server 192.168.1.11 weight=2; } ip_hash æ¯ä¸ªè¯·æ±‚æŒ‰è®¿é—®ipçš„hashç»“æœåˆ†é…ï¼Œè¿™æ ·æ¯ä¸ªè®¿å®¢å›ºå®šè®¿é—®ä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥è§£å†³sessionä¸èƒ½è·¨æœåŠ¡å™¨çš„é—®é¢˜ã€‚ å¦‚æœåç«¯æœåŠ¡å™¨downæ‰ï¼Œè¦æ‰‹å·¥downæ‰ã€‚ upstream resinserver{ ip_hash; server 192.168.1.10:8080; server 192.168.1.11:8080; } fairï¼ˆç¬¬ä¸‰æ–¹æ’ä»¶ï¼‰ æŒ‰åç«¯æœåŠ¡å™¨çš„å“åº”æ—¶é—´æ¥åˆ†é…è¯·æ±‚ï¼Œå“åº”æ—¶é—´çŸ­çš„ä¼˜å…ˆåˆ†é…ã€‚ upstream resinserver{ server 192.168.1.10:8080; server 192.168.1.11:8080; fair; } url_hashï¼ˆç¬¬ä¸‰æ–¹æ’ä»¶ï¼‰ æŒ‰è®¿é—®urlçš„hashç»“æœæ¥åˆ†é…è¯·æ±‚ï¼Œä½¿æ¯ä¸ªurlå®šå‘åˆ°åŒä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œåç«¯æœåŠ¡å™¨ä¸ºç¼“å­˜æœåŠ¡å™¨æ—¶æ¯”è¾ƒæœ‰æ•ˆã€‚ åœ¨upstreamä¸­åŠ å…¥hashè¯­å¥ï¼Œhash_methodæ˜¯ä½¿ç”¨çš„hashç®—æ³• upstream resinserver{ server 192.168.1.10:8080; server 192.168.1.11:8080; hash $request_uri; hash_method crc32; } è®¾å¤‡çš„çŠ¶æ€æœ‰: down è¡¨ç¤ºå•å‰çš„serveræš‚æ—¶ä¸å‚ä¸è´Ÿè½½ weight æƒé‡,é»˜è®¤ä¸º1ã€‚ weightè¶Šå¤§ï¼Œè´Ÿè½½çš„æƒé‡å°±è¶Šå¤§ã€‚ max_fails å…è®¸è¯·æ±‚å¤±è´¥çš„æ¬¡æ•°é»˜è®¤ä¸º1ã€‚å½“è¶…è¿‡æœ€å¤§æ¬¡æ•°æ—¶ï¼Œè¿”å›proxy_next_upstream æ¨¡å—å®šä¹‰çš„é”™è¯¯ fail_timeout max_failsæ¬¡å¤±è´¥åï¼Œæš‚åœçš„æ—¶é—´ã€‚ backup å¤‡ç”¨æœåŠ¡å™¨, å…¶å®ƒæ‰€æœ‰çš„ébackupæœºå™¨downæˆ–è€…å¿™çš„æ—¶å€™ï¼Œè¯·æ±‚backupæœºå™¨ã€‚æ‰€ä»¥è¿™å°æœºå™¨å‹åŠ›ä¼šæœ€è½»ã€‚ ","date":"2015-06-14","objectID":"/posts/1d31b1f3/:0:0","tags":["nginx"],"title":"Nginxä¸­çš„upstreamè½®è¯¢æœºåˆ¶ä»‹ç»","uri":"/posts/1d31b1f3/"},{"categories":["ç¼–ç¨‹è¯­è¨€","Python"],"content":"APScheduleræ˜¯ä¸€ä¸ªPythonå®šæ—¶ä»»åŠ¡æ¡†æ¶ï¼Œä½¿ç”¨èµ·æ¥ååˆ†æ–¹ä¾¿ã€‚æä¾›äº†åŸºäºæ—¥æœŸã€å›ºå®šæ—¶é—´é—´éš”ä»¥åŠcrontabç±»å‹çš„ä»»åŠ¡ï¼Œå¹¶ä¸”å¯ä»¥æŒä¹…åŒ–ä»»åŠ¡ã€å¹¶ä»¥daemonæ–¹å¼è¿è¡Œåº”ç”¨ã€‚ç›®å‰æœ€æ–°ç‰ˆæœ¬ä¸º3.0.xã€‚ åœ¨APSchedulerä¸­æœ‰å››ä¸ªç»„ä»¶ï¼š **è§¦å‘å™¨(trigger)**åŒ…å«è°ƒåº¦é€»è¾‘ï¼Œæ¯ä¸€ä¸ªä½œä¸šæœ‰å®ƒè‡ªå·±çš„è§¦å‘å™¨ï¼Œç”¨äºå†³å®šæ¥ä¸‹æ¥å“ªä¸€ä¸ªä½œä¸šä¼šè¿è¡Œã€‚é™¤äº†ä»–ä»¬è‡ªå·±åˆå§‹é…ç½®æ„å¤–ï¼Œè§¦å‘å™¨å®Œå…¨æ˜¯æ— çŠ¶æ€çš„ã€‚ **ä½œä¸šå­˜å‚¨(job store)**å­˜å‚¨è¢«è°ƒåº¦çš„ä½œä¸šï¼Œé»˜è®¤çš„ä½œä¸šå­˜å‚¨æ˜¯ç®€å•åœ°æŠŠä½œä¸šä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå…¶ä»–çš„ä½œä¸šå­˜å‚¨æ˜¯å°†ä½œä¸šä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚ä¸€ä¸ªä½œä¸šçš„æ•°æ®è®²åœ¨ä¿å­˜åœ¨æŒä¹…åŒ–ä½œä¸šå­˜å‚¨æ—¶è¢«åºåˆ—åŒ–ï¼Œå¹¶åœ¨åŠ è½½æ—¶è¢«ååºåˆ—åŒ–ã€‚è°ƒåº¦å™¨ä¸èƒ½åˆ†äº«åŒä¸€ä¸ªä½œä¸šå­˜å‚¨ã€‚ **æ‰§è¡Œå™¨(executor)**å¤„ç†ä½œä¸šçš„è¿è¡Œï¼Œä»–ä»¬é€šå¸¸é€šè¿‡åœ¨ä½œä¸šä¸­æäº¤åˆ¶å®šçš„å¯è°ƒç”¨å¯¹è±¡åˆ°ä¸€ä¸ªçº¿ç¨‹æˆ–è€…è¿›åŸæ± æ¥è¿›è¡Œã€‚å½“ä½œä¸šå®Œæˆæ—¶ï¼Œæ‰§è¡Œå™¨å°†ä¼šé€šçŸ¥è°ƒåº¦å™¨ã€‚ **è°ƒåº¦å™¨(scheduler)**æ˜¯å…¶ä»–çš„ç»„æˆéƒ¨åˆ†ã€‚ä½ é€šå¸¸åœ¨åº”ç”¨åªæœ‰ä¸€ä¸ªè°ƒåº¦å™¨ï¼Œåº”ç”¨çš„å¼€å‘è€…é€šå¸¸ä¸ä¼šç›´æ¥å¤„ç†ä½œä¸šå­˜å‚¨ã€è°ƒåº¦å™¨å’Œè§¦å‘å™¨ï¼Œç›¸åï¼Œè°ƒåº¦å™¨æä¾›äº†å¤„ç†è¿™äº›çš„åˆé€‚çš„æ¥å£ã€‚é…ç½®ä½œä¸šå­˜å‚¨å’Œæ‰§è¡Œå™¨å¯ä»¥åœ¨è°ƒåº¦å™¨ä¸­å®Œæˆï¼Œä¾‹å¦‚æ·»åŠ ã€ä¿®æ”¹å’Œç§»é™¤ä½œä¸šã€‚ ä½ éœ€è¦é€‰æ‹©åˆé€‚çš„è°ƒåº¦å™¨ï¼Œè¿™å–å†³äºä½ çš„åº”ç”¨ç¯å¢ƒå’Œä½ ä½¿ç”¨APSchedulerçš„ç›®çš„ã€‚é€šå¸¸æœ€å¸¸ç”¨çš„ä¸¤ä¸ªï¼š BlockingScheduler: å½“è°ƒåº¦å™¨æ˜¯ä½ åº”ç”¨ä¸­å”¯ä¸€è¦è¿è¡Œçš„ä¸œè¥¿æ—¶ä½¿ç”¨ã€‚ BackgroundScheduler: å½“ä½ ä¸è¿è¡Œä»»ä½•å…¶ä»–æ¡†æ¶æ—¶ä½¿ç”¨ï¼Œå¹¶å¸Œæœ›è°ƒåº¦å™¨åœ¨ä½ åº”ç”¨çš„åå°æ‰§è¡Œã€‚ å®‰è£…APScheduleréå¸¸ç®€å•ï¼š pip install apscheduler é€‰æ‹©åˆé€‚çš„ä½œä¸šå­˜å‚¨ï¼Œä½ éœ€è¦å†³å®šæ˜¯å¦éœ€è¦ä½œä¸šæŒä¹…åŒ–ã€‚å¦‚æœä½ æ€»æ˜¯åœ¨åº”ç”¨å¼€å§‹æ—¶é‡å»ºjobï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨é»˜è®¤çš„ä½œä¸šå­˜å‚¨ï¼ˆMemoryJobStore).ä½†æ˜¯å¦‚æœä½ éœ€è¦å°†ä½ çš„ä½œä¸šæŒä¹…åŒ–ï¼Œä»¥é¿å…åº”ç”¨å´©æºƒå’Œè°ƒåº¦å™¨é‡å¯æ—¶ï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„åº”ç”¨ç¯å¢ƒæ¥é€‰æ‹©å…·ä½“çš„ä½œä¸šå­˜å‚¨ã€‚ä¾‹å¦‚ï¼šä½¿ç”¨Mongoæˆ–è€…SQLAlchemyJobStore ï¼ˆç”¨äºæ”¯æŒå¤§å¤šæ•°RDBMSï¼‰ ç„¶è€Œï¼Œè°ƒåº¦å™¨çš„é€‰æ‹©é€šå¸¸æ˜¯ä¸ºä½ å¦‚æœä½ ä½¿ç”¨ä¸Šé¢çš„æ¡†æ¶ä¹‹ä¸€ã€‚ç„¶è€Œï¼Œé»˜è®¤çš„ThreadPoolExecutor é€šå¸¸ç”¨äºå¤§å¤šæ•°ç”¨é€”ã€‚å¦‚æœä½ çš„å·¥ä½œè´Ÿè½½ä¸­æœ‰è¾ƒå¤§çš„CPUå¯†é›†å‹æ“ä½œï¼Œä½ å¯ä»¥è€ƒè™‘ç”¨ProcessPoolExecutoræ¥ä½¿ç”¨æ›´å¤šçš„CPUæ ¸ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨åŒä¸€æ—¶é—´ä½¿ç”¨ä¸¤è€…ï¼Œå°†è¿›ç¨‹æ± è°ƒåº¦å™¨ä½œä¸ºç¬¬äºŒæ‰§è¡Œå™¨ã€‚ é…ç½®è°ƒåº¦å™¨ APScheduleræä¾›äº†è®¸å¤šä¸åŒçš„æ–¹å¼æ¥é…ç½®è°ƒåº¦å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé…ç½®å­—å…¸æˆ–è€…ä½œä¸ºå‚æ•°å…³é”®å­—çš„æ–¹å¼ä¼ å…¥ã€‚ä½ ä¹Ÿå¯ä»¥å…ˆåˆ›å»ºè°ƒåº¦å™¨ï¼Œå†é…ç½®å’Œæ·»åŠ ä½œä¸šï¼Œè¿™æ ·ä½ å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­å¾—åˆ°æ›´å¤§çš„çµæ´»æ€§ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•ä½¿ç”¨BlockingSchedulerï¼Œå¹¶ä½¿ç”¨é»˜è®¤å†…å­˜å­˜å‚¨å’Œé»˜è®¤æ‰§è¡Œå™¨ã€‚(é»˜è®¤é€‰é¡¹åˆ†åˆ«æ˜¯MemoryJobStoreå’ŒThreadPoolExecutorï¼Œå…¶ä¸­çº¿ç¨‹æ± çš„æœ€å¤§çº¿ç¨‹æ•°ä¸º10)ã€‚é…ç½®å®Œæˆåä½¿ç”¨start()æ–¹æ³•æ¥å¯åŠ¨ã€‚ from apscheduler.schedulers.blocking import BlockingScheduler def my_job(): print 'hello world' sched = BlockingScheduler() sched.add_job(my_job, 'interval', seconds=5) sched.start() åœ¨è¿è¡Œç¨‹åº5ç§’åï¼Œå°†ä¼šè¾“å‡ºç¬¬ä¸€ä¸ªHello worldã€‚ ä¸‹é¢è¿›è¡Œä¸€ä¸ªæ›´å¤æ‚çš„é…ç½®ï¼Œä½¿ç”¨ä¸¤ä¸ªä½œä¸šå­˜å‚¨å’Œä¸¤ä¸ªè°ƒåº¦å™¨ã€‚åœ¨è¿™ä¸ªé…ç½®ä¸­ï¼Œä½œä¸šå°†ä½¿ç”¨mongoä½œä¸šå­˜å‚¨ï¼Œä¿¡æ¯å†™å…¥åˆ°MongoDBä¸­ã€‚ from pymongo import MongoClient from apscheduler.schedulers.blocking import BlockingScheduler from apscheduler.jobstores.mongodb import MongoDBJobStore from apscheduler.jobstores.memory import MemoryJobStore from apscheduler.executors.pool import ThreadPoolExecutor, ProcessPoolExecutor def my_job(): print 'hello world' host = '127.0.0.1' port = 27017 client = MongoClient(host, port) jobstores = { 'mongo': MongoDBJobStore(collection='job', database='test', client=client), 'default': MemoryJobStore() } executors = { 'default': ThreadPoolExecutor(10), 'processpool': ProcessPoolExecutor(3) } job_defaults = { 'coalesce': False, 'max_instances': 3 } scheduler = BlockingScheduler(jobstores=jobstores, executors=executors, job_defaults=job_defaults) scheduler.add_job(my_job, 'interval', seconds=5) try: scheduler.start() except SystemExit: client.close() æŸ¥è¯¢MongoDBå¯ä»¥çœ‹åˆ°ä½œä¸šçš„è¿è¡Œæƒ…å†µå¦‚ä¸‹ï¼š { \"_id\" : \"55ca54ee4bb744f8a5ab08cc4319bc24\", \"next_run_time\" : 1434017278.797, \"job_state\" : new BinData(0, \"gAJ9cQEoVQRhcmdzcQIpVQhleGVjdXRvcnEDVQdkZWZhdWx0cQRVDW1heF9pbnN0YW5jZXNxBUsDVQRmdW5jcQZVD19fbWFpbl9fOm15X2pvYnEHVQJpZHEIVSA1NWNhNTRlZTRiYjc0NGY4YTVhYjA4Y2M0MzE5YmMyNHEJVQ1uZXh0X3J1bl90aW1lcQpjZGF0ZXRpbWUKZGF0ZXRpbWUKcQtVCgffBgsSBzoMKUhjcHl0egpfcApxDChVDUFzaWEvU2hhbmdoYWlxDU2AcEsAVQNDU1RxDnRScQ+GUnEQVQRuYW1lcRFVBm15X2pvYnESVRJtaXNmaXJlX2dyYWNlX3RpbWVxE0sBVQd0cmlnZ2VycRRjYXBzY2hlZHVsZXIudHJpZ2dlcnMuaW50ZXJ2YWwKSW50ZXJ2YWxUcmlnZ2VyCnEVKYFxFn1xF1UPaW50ZXJ2YWxfbGVuZ3RocRhHQBQAAAAAAABzfXEZKFUIdGltZXpvbmVxGmgMKGgNTehxSwBVA0xNVHEbdFJxHFUIaW50ZXJ2YWxxHWNkYXRldGltZQp0aW1lZGVsdGEKcR5LAEsFSwCHUnEfVQpzdGFydF9kYXRlcSBoC1UKB98GCxIHIQwpSGgPhlJxIVUIZW5kX2RhdGVxIk51hmJVCGNvYWxlc2NlcSOJVQd2ZXJzaW9ucSRLAVUGa3dhcmdzcSV9cSZ1Lg==\") } æ“ä½œä½œä¸š æ·»åŠ ä½œä¸š ä¸Šé¢æ˜¯é€šè¿‡add_job()æ¥æ·»åŠ ä½œä¸šï¼Œå¦å¤–è¿˜æœ‰ä¸€ç§æ–¹å¼æ˜¯é€šè¿‡scheduled_job()ä¿®é¥°å™¨æ¥ä¿®é¥°å‡½æ•° @sched.scheduled_job('cron', id='my_job_id', day='last sun') def some_decorated_task(): print(\"I am printed at 00:00:00 on the last Sunday of every month!\") ç§»é™¤ä½œä¸š job = scheduler.add_job(myfunc, 'interval', minutes=2) job.remove() Same, using an explicit job ID: scheduler.add_job(myfunc, 'interval', minutes=2, id='my_job_id') scheduler.remove_job('my_job_id') æš‚åœå’Œæ¢å¤ä½œä¸š æš‚åœä½œä¸š: â€“ apscheduler.job.Job.pause() â€“ apscheduler.schedulers.base.BaseScheduler.pause_job() æ¢å¤ä½œä¸š: â€“ apscheduler.job.Job.resume() â€“ apscheduler.schedulers.base.BaseScheduler.resume_job() è·å¾—jobåˆ—è¡¨ è·å¾—è°ƒåº¦ä½œä¸šçš„åˆ—è¡¨ï¼Œå¯ä»¥ä½¿ç”¨get_jobs()æ¥å®Œæˆï¼Œå®ƒä¼šè¿”å›æ‰€æœ‰çš„jobå®ä¾‹ã€‚æˆ–è€…ä½¿ç”¨print_jobs()æ¥è¾“å‡ºæ‰€æœ‰æ ¼å¼åŒ–çš„ä½œä¸šåˆ—è¡¨ã€‚ ä¿®æ”¹ä½œä¸š def some_decorated_task(): print(\"I am printed at ","date":"2015-06-11","objectID":"/posts/961db27e/:0:0","tags":["python","APScheduler"],"title":"Pythonä»»åŠ¡è°ƒåº¦æ¨¡å— â€“ APScheduler","uri":"/posts/961db27e/"},{"categories":["Linux/Unix"],"content":"æºæœåŠ¡å™¨åç§°å¯èƒ½ä¸å¤ªå‡†ç¡®ï¼Œæ„æ€æ˜¯åˆ›å»ºå†…ç½‘è‡ªå·±çš„ç§æœï¼Œè¿™æ ·åªè¦æœ‰Ubuntué€šè¿‡è¯¥ç§æœä¸‹è½½å®‰è£…è¿‡è½¯ä»¶ï¼Œç§æœéƒ½ä¼šç¼“å­˜ï¼Œä¸‹ä¸€ä¸ªUbuntuçš„è¯·æ±‚å°±ç›´æ¥ä»ç¼“å­˜ä¸­è·å–ã€‚ æœ€è¿‘UbuntuæºæœåŠ¡å™¨å¤ªæ…¢äº†ï¼ŒåŒ—äº¬çš„ç½‘ç»œä¹Ÿå¤Ÿçƒ‚çš„ã€‚é€¼ä¸å¾—å·²ï¼ é¦–å…ˆå®‰è£…apt-cacher apt-get install apt-cacher è£…çš„è¿‡ç¨‹ä¸­é€‰æ‹©Daemonæ–¹å¼ã€‚ è£…å®Œåï¼Œ/etc/default/apt-cacher æ–‡ä»¶å†…å®¹åº”è¯¥å¦‚ä¸‹ï¼š AUTOSTART=1 æ‰€ä»¥æœåŠ¡åº”è¯¥å·²ç»å¯åŠ¨äº†ã€‚ åˆ°/etc/apt-cacher/apt-cacher.confæ–‡ä»¶ä¸­ä¿®æ”¹ä¸€è¡Œé…ç½®ï¼Œå…è®¸ä»»ä½•å®¢æˆ·ç«¯è®¿é—®ï¼š allowed_hosts = * é‡å¯æœåŠ¡ service apt-cacher restart ç„¶åæ‰“å¼€ç½‘é¡µï¼šhttp://your_ip:3142/apt-cacher çœ‹åˆ°é¡µé¢å°±è¯´æ˜æœåŠ¡å™¨æ­£å¸¸å¯åŠ¨äº†ã€‚ åœ¨/etc/hostsæ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œï¼Œå¯ä»¥å¸®åŠ©æ‰¾åˆ°chromeä¾èµ–çš„dl.google.com 203.208.45.206 dl.google.com åœ¨å®¢æˆ·ç«¯çš„ubuntuæœºå™¨ä¸Šï¼Œåˆ›å»ºæ–‡ä»¶ /etc/apt/apt.confæ–‡ä»¶æˆ–è€…/etc/apt/apt.conf.d/01proxyæ–‡ä»¶ å†…å®¹å¦‚ä¸‹ï¼š Acquire::http::Proxy \"http://your_server:3142\"; ç„¶åè¿è¡Œapt-get update, ä¸ºäº†ç¡®è®¤çœŸçš„èµ·ä½œç”¨ã€‚å¯ä»¥æŸ¥çœ‹apt-cacherçš„æ—¥å¿—ï¼Œåˆ°æœåŠ¡å™¨ä¸ŠæŸ¥çœ‹ç›®å½•ä¸‹çš„æ—¥å¿—æ–‡ä»¶ /var/log/apt-cache,ç¼“å­˜å­˜æ”¾åœ°å€ /var/cahe/apt-cacher/ ","date":"2015-05-18","objectID":"/posts/f67f52f9/:0:0","tags":["ubuntu","apt-cacher"],"title":"æ¶è®¾Ubuntu apt-cacheræœåŠ¡","uri":"/posts/f67f52f9/"},{"categories":["ç¼–ç¨‹è¯­è¨€","Python"],"content":"cx_Freezeæ˜¯ä¸€ä¸ªæ‰“åŒ…Pythonåº”ç”¨çš„å·¥å…·ï¼Œé€šè¿‡cx_Freezeï¼Œå¯ä»¥åˆ¶ä½œWindowså¹³å°ã€MacOSå¹³å°ã€ä»¥åŠLinuxå¹³å°çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œç¨‹åºï¼Œä½¿å¾—Pythonåº”ç”¨èƒ½å¤Ÿåœ¨æ²¡æœ‰å®‰è£…Pythonç¯å¢ƒçš„æœºå™¨ä¸Šè¿è¡Œã€‚ cx_Freezeçš„å®‰è£… åŒå¾ˆå¤šPythonçš„ç¬¬ä¸‰æ–¹åº“ç±»ä¼¼ï¼Œcx_Freezeä¹Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š pip install cx_Freeze æˆ–è€…ä»å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…ï¼Œè§£å‹åï¼Œåˆ‡æ¢ç›®å½•è‡³è§£å‹åçš„æ ¹ç›®å½•ï¼Œè¿è¡Œå‘½ä»¤å³å¯ python setup.py install æ³¨æ„ï¼šåœ¨Windowså¹³å°ä¸Šå®‰è£…cx_Freezeæ—¶ï¼Œä¹Ÿå¯ä»¥æ ¹æ®å®˜ç½‘æä¾›çš„é“¾æ¥ï¼Œä»SourceForgeä¸Šä¸‹è½½äºŒè¿›åˆ¶å®‰è£…åŒ…ç›´æ¥å®‰è£…ï¼Œä½†ä¸€å®šè¦æ³¨æ„Pythonçš„ç‰ˆæœ¬é—®é¢˜ï¼Œå¦åˆ™ï¼Œæ‰“åŒ…çš„åº”ç”¨ç¨‹åºå¯èƒ½ä¼šå› ä¸ºPython.dllçš„ç‰ˆæœ¬é—®é¢˜è€Œæ— æ³•æ­£å¸¸è¿è¡Œã€‚ cx_Freezeçš„ä½¿ç”¨(Windowså¹³å°) å…¸å‹çš„setupè„šæœ¬çš„å†™æ³• #! /usr/bin/env python # -*- coding: utf-8 -*- from cx_Freeze import setup, Executable base = None # base = 'Console' # base = 'ConsoleKeepPath' # base = 'Win32GUI' # base = 'Win32Service' executables = [ Executable('main.py', base = base) ] setup(name = 'main app', version = '1.0', description = 'main app', executables = executables ) åœ¨Windowså¹³å°ä¸Šï¼Œbaseçš„å¯é€‰å€¼æœ‰ï¼š None æ™®é€šçš„Pythonç¨‹åºã€‚ä¹Ÿå¯ä»¥ä¸æŒ‡å®šï¼Œåœ¨Executableä¸­å¿½ç•¥baseå‚æ•°å³å¯ã€‚ Console Consoleåº”ç”¨ç¨‹åºï¼ˆæ§åˆ¶å°åº”ç”¨ç¨‹åºï¼‰ã€‚ ConsoleKeepPath ä¿æŒç›¸å¯¹è·¯å¾„çš„Consoleåº”ç”¨ç¨‹åºã€‚ Win32GUI GUIåº”ç”¨ç¨‹åºã€‚åŸºäºtkinterã€wxPythonã€PyQtçš„Python GUIåº”ç”¨ç¨‹åºéœ€è¦å°†baseå‚æ•°çš„å€¼è®¾ä¸ºâ€™Win32GUIâ€™ã€‚ Win32Service WindowsæœåŠ¡ç¨‹åºã€‚ æ„å»ºå‘½ä»¤é€‰é¡¹ æ„å»ºæ—¶ï¼Œåªéœ€è¦è¿è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯ï¼š python setup.py option åœ¨Windowså¹³å°ä¸Šï¼Œoption æœ‰ä»¥ä¸‹å‡ ç§å¯é€‰å€¼ï¼š build cx_Freezeçš„æ ‡å‡†æ„å»ºå‘½ä»¤ã€‚ build_exe æ„å»ºä¸€ç³»åˆ—çš„å¯æ‰§è¡Œç¨‹åºã€‚ bdist_msi æ„å»ºWindowså¹³å°ä¸Šçš„msiå®‰è£…åŒ…ã€‚ æ³¨æ„ï¼šåœ¨Windowså¹³å°ä¸Šï¼Œå­˜æ”¾ä»£ç è·¯å¾„ä¸€å®šä¸è¦æœ‰ä¸­æ–‡ï¼Œå¦åˆ™ï¼Œåœ¨æ‰§è¡Œpython setup.py bdist_msiæ—¶å¯èƒ½ä¼šé‡åˆ°FCI Errorã€‚ è‡ªå®šä¹‰å›¾æ ‡ é€šè¿‡ Executable çš„ icon å‚æ•°å¯ä»¥æŒ‡å®šåº”ç”¨ç¨‹åºçš„å›¾æ ‡ï¼Œé»˜è®¤ä¸ºâ€™Tcl/Tkâ€™çš„å›¾æ ‡ã€‚ å¦‚ä¸‹ä¾‹ï¼š executables = [ Executable('main.py', base = base, icon = 'main.ico') ] ç¨‹åºèµ„æºæ–‡ä»¶ å¯¹äºåº”ç”¨ç¨‹åºç”¨åˆ°çš„å›¾ç‰‡ä»¥åŠå…¶ä»–ç´ æ, ç‰¹åˆ«æ˜¯GUIç¨‹åºä¸­ç”¨åˆ°å›¾ç‰‡ç­‰èµ„æºæ–‡ä»¶ï¼Œå¯ä»¥åœ¨æˆåŠŸæ„å»ºå¯æ‰§è¡Œç¨‹åºåæ‰‹åŠ¨æ‹·è´åˆ°å¯æ‰§è¡Œç¨‹åºçš„ç›®å½•ï¼Œä¿æŒç›¸å¯¹è·¯å¾„ä¸å˜å³å¯ã€‚ä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹æ„å»ºæ–‡ä»¶ä¸­çš„include_fileså‚æ•°ï¼Œç›´æ¥æ‰“åŒ…ã€‚å¦‚ä¸‹ä¾‹ï¼š build_exe_options = { 'include_files' = ['...', '...'], ... } setup( ... options = {'build_exe': build_exe_options} å¤æ‚åº”ç”¨ç¨‹åºçš„æ‰“åŒ… é€šè¿‡Executableçš„includes, excludes, ä»¥åŠ packages ä¸‰ä¸ªé€‰é¡¹å¯ä»¥æœ‰æ•ˆåœ°æ§åˆ¶åº”ç”¨ç¨‹åºåŒ…å«å’Œæ’é™¤çš„æ¨¡å—ä»¥åŠåŒ…ä¾èµ–å…³ç³»ã€‚ ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®setupå‡½æ•°çš„optionsé€‰é¡¹æ¥è§£å†³ä¾èµ–é—®é¢˜ã€‚å¦‚ä¸‹ä¾‹ï¼š build_exe_options = { 'packages': ['os', 'sys'], 'includes': ['tkinter'], 'excludes': ['django'], ... } setup( ... options = {'build_exe': build_exe_options} ) å…¶ä»–å¹³å° åœ¨å…¶ä»–å¹³å°ä¸Šï¼Œæœ‰å¦‚ä¸‹æ„å»ºé€‰é¡¹å¯ä»¥æ„å»ºå¯¹åº”å¹³å°çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼š bdist_rpm æ„å»ºrpmå®‰è£…åŒ…ã€‚ bdist_mac æ„å»ºMac OSç³»ç»Ÿçš„ç¨‹åºå®‰è£…åŒ…ã€‚ bdist_dmg æ„å»ºMac OSç³»ç»Ÿçš„ç¨‹åºå®‰è£…åŒ…ã€‚ è¯´æ˜ æœ¬æ–‡æ‰€ç»™ä»£ç å‡åœ¨Python34 for Windows, cx_Freeze release 4.3.4 ä¸Šè¿è¡Œé€šè¿‡ã€‚ å‚è€ƒ cx_Freeze Documentation ","date":"2015-05-17","objectID":"/posts/550b75c7/:0:0","tags":["cx_freeze","python"],"title":"cx_Freezeæ‰“åŒ…Pythonåº”ç”¨ç¨‹åº","uri":"/posts/550b75c7/"},{"categories":["è™šæ‹ŸåŒ–","OpenStack"],"content":"å®‰è£…å®Œ OpenStack Nova ä»¥åè¿‡æ®µæ—¶é—´å°±å¾ˆå®¹æ˜“å¿˜è®°è‡ªå·±è£…çš„æ˜¯å“ªä¸ªç‰ˆæœ¬ï¼ŒOpenStack å¼€å‘è¿›åº¦å¾ˆå¿«ï¼Œé‡åˆ°é—®é¢˜åˆ° mailing list å¯»æ±‚å¸®åŠ©çš„æ—¶å€™æœ€å¥½å¸¦ä¸Š Nova çš„ç‰ˆæœ¬å·ã€‚å¦‚ä½•çŸ¥é“è‡ªå·±å®‰è£…çš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„ OpenStack Nova å‘¢ï¼Ÿ æ—§ç‰ˆæœ¬çš„ OpenStack Nova æä¾›äº† version çš„æ¥å£ï¼Œä¸è¿‡åªæ˜¯é’ˆå¯¹å¼€å‘äººå‘˜ï¼Œå‘½ä»¤è¡Œå·¥å…·æ²¡æœ‰é¢å‘ç³»ç»Ÿç®¡ç†å‘˜çš„æ¥å£ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡ python è°ƒå– nava API æ¥è·å¾—version ä¿¡æ¯ï¼š # nova-manage shell python Python 2.7.1+ (r271:86832, Apr 11 2011, 18:13:53) [GCC 4.5.2] on linux2 Type \"help\", \"copyright\", \"credits\" or \"license\" for more information. (InteractiveConsole) \u003e\u003e\u003e from nova import version \u003e\u003e\u003e version.version_string() '2011.2' \u003e\u003e\u003e version.version_string_with_vcs() u'2011.2-workspace:tarmac-20110415024701-a9bdb77vaatk99lh' \u003e\u003e\u003e æ–°ç‰ˆæœ¬çš„ OpenStack Nova æä¾›äº†ç®€å•çš„ç®¡ç†å‘˜æ¥å£ï¼Œä¸å†éœ€è¦é€šè¿‡ API è°ƒç”¨äº†ï¼š # nova-manage version list 2011.3-dev (2011.3-workspace:tarmac-20110428165803-elcz2wp2syfzvxm8) ","date":"2015-05-15","objectID":"/posts/a1022384/:0:0","tags":["openstack","nova"],"title":"å¦‚ä½•çŸ¥é“ OpenStack Nova çš„å®‰è£…ç‰ˆæœ¬å·ï¼Ÿ","uri":"/posts/a1022384/"},{"categories":["æ¸—é€æµ‹è¯•","Kali Linux"],"content":"æ¨èçš„æ›´æ–°æº åœ¨å®‰è£…å®ŒKaliåï¼Œéœ€è¦å¯¹è½¯ä»¶åŠç³»ç»Ÿè¿›è¡Œæ›´æ–°ï¼Œé€‰æ‹©æ›´æ–°æºæ˜¯æ˜¯ååˆ†é‡è¦çš„ï¼Œè™½ç„¶ç½‘ä¸Šå­˜åœ¨å„ç§æ›´æ–°æºï¼Œä½†æ˜¯å¦‚æœæ˜¯ä¸€ä¸ªæ–°æ‰‹çš„è¯ï¼Œå»ºè®®åªé€‰æ‹©å®˜æ–¹çš„æ›´æ–°æºï¼Œå¯ä»¥é¿å…å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°ä¸€äº›ä¸å¿…è¦çš„éº»çƒ¦ï¼Œè€Œä¸”ç›®å‰å®˜æ–¹æºæ›´æ–°ä¸‹è½½çš„é€Ÿåº¦ä¹Ÿæ˜¯å¾ˆå¿«çš„ã€‚ å®˜æ–¹æºï¼š deb http://http.kali.org/kali kali-rolling main non-free contrib ä¸­ç§‘å¤§æºï¼š deb http://mirrors.ustc.edu.cn/kali kali-rolling main non-free contrib æ·»åŠ æ›´æ–°æº æ›´æ–°æºè·¯å¾„ï¼š /etc/apt/sources.list å¾€ sources. list ä¸­æ·»åŠ å®˜æ–¹æºï¼Œä¿å­˜ã€‚ å¸¸ç”¨æ›´æ–°å‘½ä»¤ apt update //æ£€æµ‹å¯æ›´æ–°çš„è½¯ä»¶ apt upgrade //è‡ªåŠ¨æ›´æ–°å¹¶å®‰è£…è½¯ä»¶ apt dist-upgrade //æ£€æµ‹å¹¶è¿›è¡Œç³»ç»Ÿå‡çº§ å¸¸ç”¨æ¸…ç†å‘½ä»¤ apt autoremove //å¸è½½è¿‡æœŸçš„è½¯ä»¶åŒ… apt autosudo //æ¸…ç†æ— ç”¨çš„è½¯ä»¶åŒ… apt autoclean //æ¸…ç†ç¼“å­˜ apt clean //å¼ºåˆ¶æ¸…ç†ç¼“å­˜ éœ€è¦æ³¨æ„çš„é—®é¢˜ åœ¨ä¸‹è½½è¿‡ç¨‹ä¸­å¦‚æœå‡ºç°Hashæ£€éªŒå€¼ä¸ç¬¦ä¸ä¼šè½¯ä»¶æ˜¯ä¸ä¼šå®‰è£…çš„ å¯èƒ½ä¼šå‡ºç° ç­¾åæ— æ•ˆï¼ŒGPGé”™è¯¯ çš„æç¤º æ‰§è¡Œå‘½ä»¤ï¼šapt-key adv --keyserver hkp://keys.gnupg.net --recv-keys 7D8D0BF6 ç„¶åå°±å¯ä»¥æ­£å¸¸æ›´æ–°äº†ã€‚ ","date":"2015-04-24","objectID":"/posts/5dbca548/:0:0","tags":["linux","kali"],"title":"Kali Linuxçš„æ›´æ–°åŠæ¸…ç†","uri":"/posts/5dbca548/"},{"categories":["Linux/Unix"],"content":"æˆ‘ä»¬ç»å¸¸éœ€è¦åˆ°æ£€æŸ¥å®¶é‡Œä¸åŠå…¬å®¤ä¹‹é—´çš„ç½‘ç»œæ˜¯å¦è¿é€šï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦æ€ä¹ˆåšå‘¢ï¼Ÿæ‰“å¼€ç½‘ç«™Speedtest.netç„¶åå¼€å§‹æµ‹è¯•ã€‚ç½‘ç«™æ˜¯é€šè¿‡åŠ è½½æµè§ˆå™¨ä¸­çš„JavaScriptè„šæœ¬ç„¶åé€‰æ‹©æœ€ä½³çš„æœåŠ¡å™¨æµ‹é€Ÿç„¶åç”¨Flashäº§ç”Ÿå›¾å½¢åŒ–çš„ç»“æœã€‚ é‚£ä¹ˆè¿œç¨‹æœåŠ¡å™¨å‘¢ï¼Ÿè¦çŸ¥é“å¤§å¤šæ•°è¿œç¨‹æœåŠ¡å™¨æ˜¯æ²¡æœ‰æµè§ˆå™¨å¯ä»¥æ‰“å¼€webé¡µé¢çš„ã€‚ç”¨æµè§ˆå™¨æ‰“å¼€ç½‘é¡µæµ‹é€Ÿçš„ç“¶é¢ˆå°±åœ¨æ­¤ï¼Œä½ ä¸èƒ½æŒ‰è®¡åˆ’çš„å¯¹æœåŠ¡å™¨è¿›è¡Œå®šæœŸçš„å¸¸è§„æµ‹è¯•ã€‚è¿™æ—¶éœ€è¦åˆ°ä¸€ä¸ªåä¸ºSpeedtest-cliçš„è½¯ä»¶æ¥æ‰“ç ´è¿™ä¸ªç“¶é¢ˆï¼Œå®ƒèƒ½è®©ä½ é€šè¿‡å‘½ä»¤è¡Œæ¥æµ‹è¯•äº’è”ç½‘è¿æ¥çš„é€Ÿåº¦ã€‚ Speedtest-cliæ˜¯ä»€ä¹ˆ æ­¤ç¨‹åºæ˜¯åŸºäºPythonå¼€å‘çš„è„šæœ¬ç¨‹åºï¼Œåˆ©ç”¨äº†speedtest.netçš„æœåŠ¡æ¥æµ‹é‡å‡ºä¸Šä¸‹è¡Œçš„å®½å¸¦ã€‚Speedtest-clièƒ½æ ¹æ®æœºæˆ¿ç¦»æµ‹é€ŸæœåŠ¡å™¨çš„ç‰©ç†è·ç¦»æ¥åˆ—å‡ºæµ‹é€ŸæœåŠ¡å™¨ï¼Œæˆ–è€…é’ˆå¯¹æŸä¸€æœåŠ¡å™¨è¿›è¡Œæµ‹é€Ÿï¼ŒåŒæ—¶è¿˜èƒ½ä¸ºä½ ç”Ÿæˆä¸€ä¸ªURLä»¥ä¾¿ä½ åˆ†äº«ä½ çš„æµ‹é€Ÿç»“æœã€‚ è¦åœ¨Linuxä¸Šå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„speedtest-cliï¼Œä½ å¿…é¡»å®‰è£…2.4-3.4æˆ–è€…æ›´é«˜ç‰ˆæœ¬çš„Pythonã€‚ åœ¨Linuxä¸Šå®‰è£…speedtest-cli æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å®‰è£…speedtest-cliã€‚ç¬¬ä¸€ç§æ–¹æ³•éœ€è¦ç”¨åˆ°python-pipåŒ…ç®¡ç†å™¨ï¼Œç¬¬äºŒç§æ–¹æ³•éœ€è¦å®‰è£…Pythonè„šæœ¬ï¼Œç”Ÿæˆå®‰è£…æ–‡ä»¶ç„¶åè¿è¡Œï¼Œè¿™é‡Œæˆ‘ä»¬åˆ†åˆ«ä»‹ç»ä¸¤ç§æ–¹æ³•ï¼š ä½¿ç”¨pythin-pipå®‰è£…speedtest-cli é¦–å…ˆä½ éœ€è¦å®‰è£…python-pipåŒ…ç®¡ç†å™¨ï¼Œä¹‹åä½ å°±å¯ä»¥ç”¨pipå‘½ä»¤æ¥å®‰è£…speedtest-cli $ sudo apt-get install python-pip $ sudo pip install speedtest-cli å¦‚æœè¦æŠŠspeedtest-cliå‡çº§è‡³æœ€æ–°ç‰ˆæœ¬ï¼Œä½ éœ€è¦è¾“å…¥ä»¥ä¸‹å‘½ä»¤ $ sudo pip install speedtest-cli --upgrade é€šè¿‡Pyhtonè„šæœ¬æ¥å®‰è£…speedtest-cli é¦–å…ˆè¦ç”¨wgetå‘½ä»¤ä»githubä¸Šä¸‹æ¥Pythonè„šæœ¬ï¼Œç„¶åè§£å‹æå–ä¸‹è½½çš„æ–‡ä»¶ï¼ˆmaster.zip) $ wget https://github.com/sivel/speedtest-cli/archive/master.zip $ unzip master.zip æå–å‡ºæ–‡ä»¶åï¼Œè¿›å…¥æå–å‡ºçš„ç›®å½•speedtest-cli-masterç„¶åä½¿è„šæœ¬å¯ä»¥æ‰§è¡Œã€‚ $ cd speedtest-cli-master/ $ chmod 755 speedtest_cli.py ä¸‹ä¸€æ­¥ï¼ŒæŠŠå¯æ‰§è¡Œçš„è„šæœ¬ç§»åŠ¨åˆ°/usr/binæ–‡ä»¶å¤¹ï¼Œè¿™æ ·ä½ å°±ä¸ç”¨æ¯æ¬¡éƒ½è¾“å…¥å®Œæ•´çš„è„šæœ¬è·¯å¾„äº†ã€‚ $ sudo mv speedtest_cli.py /usr/bin/ ç”¨speedtest-cliæµ‹è¯•äº’è”ç½‘è¿é€šé€Ÿåº¦ è¦æµ‹è¯•ä½ çš„ä¸‹è½½ä¸ä¸Šä¼ é€Ÿåº¦ï¼Œåªéœ€è¦è¿è¡Œspeedtest-cliå‘½ä»¤ï¼Œä¸éœ€è¦å¸¦å‚æ•°ã€‚ $ speedtest_cli.py åœ¨Linuxä¸‹æµ‹è¯•ä¸Šä¼ ä¸‹è½½é€Ÿåº¦ æµ‹è¯•ä¸Šä¼ ä¸‹è½½çš„é€Ÿåº¦ï¼ˆä»¥å­—èŠ‚è®¡ç®—ï¼‰ $ speedtest_cli.py --bytes æµ‹è¯•bytesçš„é€Ÿåº¦ å·¥å…·æä¾›ä¸€ä¸ªé“¾æ¥æ¥ä¸‹è½½ç”±ä½ çš„å®½å¸¦æµ‹è¯•ç»“æœç”Ÿæˆçš„å›¾ç‰‡ï¼Œä½ å¯ä»¥åˆ†äº«ç»™ä½ çš„å®¶äººæœ‹å‹ã€‚ åˆ†äº«æµ‹é€Ÿç»“æœ ä¸‹é¢çš„å›¾ç‰‡å°±æ˜¯ä½ é€šè¿‡ä»¥ä¸Šçš„å‘½ä»¤è¡Œæµ‹é€Ÿè€Œç”Ÿæˆçš„å›¾ç‰‡ æµ‹é€Ÿç»“æœ å¦‚æœä½ ä»…ä»…éœ€è¦Pingï¼Œä¸Šä¼ ï¼Œä¸‹è½½çš„ç»“æœï¼Œå°±è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š $ speedtest_cli.py --simple æµ‹è¯•Pingï¼Œä¸Šä¼ ï¼Œä¸‹è½½çš„é€Ÿåº¦ åˆ—å‡ºspeedtest.netæ‰€æœ‰çš„æœåŠ¡å™¨è·ç¦»ä½ çš„ç‰©ç†è·ç¦»ï¼Œå•ä½æ˜¯åƒç±³ï¼ˆkmï¼‰ $ speedtest_cli.py --list åˆ—å‡ºSpeedtest.netçš„æœåŠ¡å™¨ å½“è·å¾—ä¸€ä¸ªéå¸¸é•¿çš„æœåŠ¡å™¨åˆ—è¡¨ä¹‹åï¼Œæ€ä¹ˆåˆ—å‡ºæˆ‘æƒ³è¦çš„æŸä¸ªæœåŠ¡å™¨ï¼Ÿå¦‚æœæˆ‘è¦åœ¨speedtest.netæœåŠ¡å™¨åˆ—è¡¨ä¸­æ‰¾å‡ºä½äºMumbaiï¼ˆå°åº¦ï¼‰çš„æœåŠ¡å™¨å‘¢ï¼Ÿ $ speedtest_cli.py --list | grep -i Mumbai åˆ—å‡ºæœ€è¿‘çš„æœåŠ¡å™¨ å¯¹æŒ‡å®šçš„æœåŠ¡å™¨è¿›è¡Œæµ‹é€Ÿã€‚æˆ‘ä»¬ä½¿ç”¨ä¸Šé¢ä¾‹å­5å’Œä¾‹å­6ä¸­è·å–çš„æœåŠ¡å™¨ID: $ speedtest_cli.py --server [server ID] $ speedtest_cli.py --server [5060] ## è¿™é‡Œä½¿ç”¨æœåŠ¡å™¨IDä¸º5060ä½œä¸ºä¾‹å­ å¯¹æŒ‡å®šçš„æœåŠ¡å™¨è¿›è¡Œæµ‹é€Ÿ è¾“å‡ºspeedtest-cliçš„ç‰ˆæœ¬ä¿¡æ¯å’Œå¸®åŠ©æ–‡æ¡£ $ speedtest_cli.py --version è¾“å‡ºç‰ˆæœ¬å· $ speedtest_cli.py --help è¾“å‡ºå¸®åŠ©æ–‡æ¡£ æé†’ æŠ¥å‘Šä¸­çš„å»¶è¿Ÿå¹¶ä¸æ˜¯ç¡®åˆ‡çš„ç»“æœï¼Œä¸åº”è¯¥è¿‡äºä¾èµ–å®ƒï¼›è¿™ä¸ªæ•°å€¼å¯ä»¥å½“ä½œç›¸å¯¹å»¶è¿Ÿï¼Œè¿™å¯¹ä½ é€‰æ‹©æŸä¸€æµ‹è¯•æœåŠ¡å™¨æ¥è¯´æ˜¯å¯é çš„ã€‚åŒæ—¶ï¼ŒCPUå’Œå†…å­˜çš„å®¹é‡ä¼šå½±å“ç»“æœçš„å‡†ç¡®åº¦ã€‚ ç»“è®º ç³»ç»Ÿç®¡ç†å‘˜å’Œå¼€å‘è€…åº”è¯¥å¿…å¤‡è¿™ä¸ªç®€å•çš„è„šæœ¬å·¥å…·ï¼Œè¿™ä¸ªè½»é‡çº§çš„å·¥å…·åŠŸèƒ½é½å…¨ï¼ŒçœŸæ˜¯å¤ªèµäº†ã€‚æˆ‘ä¸å–œæ¬¢Speedtest.netçš„åŸå› æ˜¯å®ƒä½¿ç”¨æ¥flashï¼Œç›¸åspeedtest-cliåˆšå¥½æˆ³ä¸­äº†æˆ‘çš„ç—›ç‚¹ã€‚ speedtest_cliæ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹å·¥å…·ï¼Œä¹Ÿä¸èƒ½è‡ªåŠ¨åœ°è®°å½•ä¸‹å®½å¸¦é€Ÿåº¦ã€‚Speedtest.netæ‹¥æœ‰ä¸Šç™¾ä¸‡çš„ç”¨æˆ·ï¼Œä½ å¯ä»¥è‡ªå·±é…åˆ¶ä¸€ä¸ªå°å‹çš„æµ‹é€ŸæœåŠ¡å™¨ã€‚ ","date":"2015-03-19","objectID":"/posts/d388be37/:0:0","tags":["linux","speedtest-cli"],"title":"ç”¨å‘½ä»¤è¡Œå·¥å…· speedtest-cli æ¥æµ‹è¯•ä½ çš„ç½‘é€Ÿ","uri":"/posts/d388be37/"},{"categories":["ç¼–ç¨‹è¯­è¨€","Python"],"content":"åœ¨è®¸å¤šç¼–ç¨‹è¯­è¨€ä¸­éƒ½åŒ…å«æœ‰æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„åŠŸèƒ½ï¼Œæ¯”å¦‚Cå’ŒFortranè¯­è¨€ä¸­çš„æ ¼å¼åŒ–è¾“å…¥è¾“å‡ºã€‚Pythonä¸­å†…ç½®æœ‰å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ ¼å¼åŒ–çš„æ“ä½œ%ã€‚ æ¨¡æ¿ æ ¼å¼åŒ–å­—ç¬¦ä¸²æ—¶ï¼ŒPythonä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºæ¨¡æ¿ ã€‚æ¨¡æ¿ä¸­æœ‰æ ¼å¼ç¬¦ï¼Œè¿™äº›æ ¼å¼ç¬¦ä¸ºçœŸå®å€¼é¢„ç•™ä½ç½®ï¼Œå¹¶è¯´æ˜çœŸå®æ•°å€¼åº”è¯¥å‘ˆç°çš„æ ¼å¼ã€‚Pythonç”¨ä¸€ä¸ªtupleå°†å¤šä¸ªå€¼ä¼ é€’ç»™æ¨¡æ¿ï¼Œæ¯ä¸ªå€¼å¯¹åº”ä¸€ä¸ªæ ¼å¼ç¬¦ã€‚ æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š print(\"I'm %s. I'm %d year old\" % ('Vamei', 99)) ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œâ€œIâ€™m %s. Iâ€™m %d year oldâ€ ä¸ºæˆ‘ä»¬çš„æ¨¡æ¿ã€‚ %sä¸ºç¬¬ä¸€ä¸ªæ ¼å¼ç¬¦ï¼Œè¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ %dä¸ºç¬¬äºŒä¸ªæ ¼å¼ç¬¦ï¼Œè¡¨ç¤ºä¸€ä¸ªæ•´æ•°ã€‚ (â€˜Vameiâ€™, 99)çš„ä¸¤ä¸ªå…ƒç´ â€™Vameiâ€™å’Œ99ä¸ºæ›¿æ¢%så’Œ%dçš„çœŸå®å€¼ã€‚ åœ¨æ¨¡æ¿å’Œtupleä¹‹é—´ï¼Œæœ‰ä¸€ä¸ª%å·åˆ†éš”ï¼Œå®ƒä»£è¡¨äº†æ ¼å¼åŒ–æ“ä½œã€‚ æ•´ä¸ªâ€Iâ€™m %s. Iâ€™m %d year oldâ€ % (â€˜Vameiâ€™, 99) å®é™…ä¸Šæ„æˆä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼ã€‚æˆ‘ä»¬å¯ä»¥åƒä¸€ä¸ªæ­£å¸¸çš„å­—ç¬¦ä¸²é‚£æ ·ï¼Œå°†å®ƒèµ‹å€¼ç»™æŸä¸ªå˜é‡ã€‚æ¯”å¦‚: a = \"I'm %s. I'm %d year old\" % ('Vamei', 99) print(a) æˆ‘ä»¬è¿˜å¯ä»¥ç”¨è¯å…¸æ¥ä¼ é€’çœŸå®å€¼ã€‚å¦‚ä¸‹ï¼š print(\"I'm %(name)s. I'm %(age)d year old\" % {'name':'Vamei', 'age':99}) å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å¯¹ä¸¤ä¸ªæ ¼å¼ç¬¦è¿›è¡Œäº†å‘½åã€‚å‘½åä½¿ç”¨()æ‹¬èµ·æ¥ã€‚æ¯ä¸ªå‘½åå¯¹åº”è¯å…¸çš„ä¸€ä¸ªkeyã€‚ æ ¼å¼ç¬¦ æ ¼å¼ç¬¦ä¸ºçœŸå®å€¼é¢„ç•™ä½ç½®ï¼Œå¹¶æ§åˆ¶æ˜¾ç¤ºçš„æ ¼å¼ã€‚æ ¼å¼ç¬¦å¯ä»¥åŒ…å«æœ‰ä¸€ä¸ªç±»å‹ç ï¼Œç”¨ä»¥æ§åˆ¶æ˜¾ç¤ºçš„ç±»å‹ï¼Œå¦‚ä¸‹: æ ¼å¼ç¬¦ æè¿° %s å­—ç¬¦ä¸² (é‡‡ç”¨str()çš„æ˜¾ç¤º) %r å­—ç¬¦ä¸² (é‡‡ç”¨repr()çš„æ˜¾ç¤º) %c å•ä¸ªå­—ç¬¦ %b äºŒè¿›åˆ¶æ•´æ•° %d åè¿›åˆ¶æ•´æ•° %i åè¿›åˆ¶æ•´æ•° %o å…«è¿›åˆ¶æ•´æ•° %x åå…­è¿›åˆ¶æ•´æ•° %e æŒ‡æ•° (åŸºåº•å†™ä¸ºe) %E æŒ‡æ•° (åŸºåº•å†™ä¸ºE) %f æµ®ç‚¹æ•° %F æµ®ç‚¹æ•°ï¼Œä¸ä¸Šç›¸åŒ %g æŒ‡æ•°(e)æˆ–æµ®ç‚¹æ•° (æ ¹æ®æ˜¾ç¤ºé•¿åº¦) %G æŒ‡æ•°(E)æˆ–æµ®ç‚¹æ•° (æ ¹æ®æ˜¾ç¤ºé•¿åº¦) %% å­—ç¬¦â€%â€ å¯ä»¥ç”¨å¦‚ä¸‹çš„æ–¹å¼ï¼Œå¯¹æ ¼å¼è¿›è¡Œè¿›ä¸€æ­¥çš„æ§åˆ¶ï¼š %[(name)][flags][width].[precision]typecode (name)ä¸ºå‘½å flagså¯ä»¥æœ‰+,-,â€™ â€˜æˆ–0ã€‚+è¡¨ç¤ºå³å¯¹é½ã€‚-è¡¨ç¤ºå·¦å¯¹é½ã€‚â€™ â€˜ä¸ºä¸€ä¸ªç©ºæ ¼ï¼Œè¡¨ç¤ºåœ¨æ­£æ•°çš„å·¦ä¾§å¡«å……ä¸€ä¸ªç©ºæ ¼ï¼Œä»è€Œä¸è´Ÿæ•°å¯¹é½ã€‚0è¡¨ç¤ºä½¿ç”¨0å¡«å……ã€‚ widthè¡¨ç¤ºæ˜¾ç¤ºå®½åº¦ precisionè¡¨ç¤ºå°æ•°ç‚¹åç²¾åº¦ æ¯”å¦‚ï¼š print(\"%+10x\" % 10) print(\"%04d\" % 5) print(\"%6.3f\" % 2.3) ä¸Šé¢çš„width, precisionä¸ºä¸¤ä¸ªæ•´æ•°ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨*ï¼Œæ¥åŠ¨æ€ä»£å…¥è¿™ä¸¤ä¸ªé‡ã€‚æ¯”å¦‚ï¼š print(\"%.*f\" % (4, 1.2)) Pythonå®é™…ä¸Šç”¨4æ¥æ›¿æ¢*ã€‚æ‰€ä»¥å®é™…çš„æ¨¡æ¿ä¸ºâ€%.4fâ€ã€‚ æ€»ç»“ Pythonä¸­å†…ç½®çš„%æ“ä½œç¬¦å¯ç”¨äºæ ¼å¼åŒ–å­—ç¬¦ä¸²æ“ä½œï¼Œæ§åˆ¶å­—ç¬¦ä¸²çš„å‘ˆç°æ ¼å¼ã€‚Pythonä¸­è¿˜æœ‰å…¶ä»–çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„æ–¹å¼ï¼Œä½†%æ“ä½œç¬¦çš„ä½¿ç”¨æ˜¯æœ€æ–¹ä¾¿çš„ã€‚ ","date":"2015-01-31","objectID":"/posts/7ebc6f83/:0:0","tags":["python"],"title":"Python æ ¼å¼åŒ–å­—ç¬¦ä¸² (%æ“ä½œç¬¦)","uri":"/posts/7ebc6f83/"},{"categories":["Linux/Unix"],"content":"åœ¨æˆ‘ä»¬è¿›è¡Œè¿œç¨‹æ–‡ä»¶æ“ä½œçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå‡ºç°æ–‡ä»¶æœåŠ¡å‡ºç°å¸è½½æ‰å“¦æƒ…å†µã€‚ umount /mnt/ umount: /mnt/: device is busy. (In some cases useful info about processes that use the device is found by lsof(8) or fuser(1)) è§£å†³æ–¹æ³•: æŸ¥æ‰¾ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶çš„è¿›ç¨‹å’Œå‘½ä»¤ï¼Œå…·ä½“çš„æ“ä½œä»£ç  [root@localhost ~]# lsof |grep /mnt/ lsof: WARNING: can't stat() cifs file system /mnt/ Output information may be incomplete. bash 18841 root cwd unknown /mnt/TDDOWNLOAD/è½¯ä»¶ (stat: No such device) ç„¶åæ‰§è¡Œpså‘½ä»¤å¯ä»¥æŸ¥æ‰¾æ‰§è¡Œæ­¤è¿›ç¨‹çš„å‘½ä»¤ [root@localhost ~]# ps -ef|grep 18841 root 18841 18839 0 Nov29 pts/2 00:00:00 /bin/bash -l root 29496 25604 0 16:26 pts/0 00:00:00 grep 18841 å¼ºè¡Œç»“æŸæ— å…³è¿›ç¨‹ [root@localhost ~]# kill -9 18841 ç„¶åå¸è½½ç›¸å…³æŒ‚è½½ [root@localhost ~]# umount /mnt/net1 ç„¶åå¯ä»¥å†é€šè¿‡mountå‘½ä»¤è¿›è¡ŒæŸ¥çœ‹ã€‚ ","date":"2015-01-31","objectID":"/posts/d4af459a/:0:0","tags":["umount","linux"],"title":"è§£å†³Linuxä¸‹å–æ¶ˆæŒ‚è½½æç¤º:device is busy","uri":"/posts/d4af459a/"},{"categories":["Linux/Unix"],"content":"ä»Šå¤©ç»™Centosé€šè¿‡rpm -Uvhè£…äº†ä¸ªepelçš„æ‰©å±•åï¼Œæ‰§è¡Œyum listå°±å¼€å§‹æŠ¥é”™ï¼š Error: Cannot retrieve metalink for repository: epel. Please verify its path and try again åœ¨ç½‘ä¸ŠæŸ¥äº†æŸ¥ï¼Œè§£å†³åŠæ³•æ˜¯ç¼–è¾‘/etc/yum.repos.d/epel.repoï¼ŒæŠŠåŸºç¡€çš„æ¢å¤ï¼Œé•œåƒçš„åœ°å€æ³¨é‡Šæ‰ #baseurl mirrorlist æ”¹æˆ baseurl #mirrorlist æ³¨æ„ï¼š å®‰è£…epelæ—¶åŒºåˆ†i386 \\ x86_64ï¼Œå¯¹åº”å®‰è£…è½¯ä»¶åŒ…ï¼Œåˆ«å¿˜äº†æ£€æŸ¥æ“ä½œç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬,å¦‚æœè£…é”™åŒ…äº†ä¹Ÿä¼šæŠ¥é”™ï¼ å“å‘€ï¼Œå¿˜è®°æŠŠæŠ¥é”™ä¿¡æ¯ç«™å‡ºæ¥äº†ã€‚ä¸‹æ¬¡æŠŠæŠ¥é”™ä¿¡æ¯è¡¥ä¸Šã€‚ ","date":"2015-01-27","objectID":"/posts/d3fa1f95/:0:0","tags":["epel","yum","Cobbler"],"title":"è¿è¡ŒyumæŠ¥é”™Error: Cannot retrieve metalink for repository: epel","uri":"/posts/d3fa1f95/"},{"categories":["Windows","Office"],"content":" å…ˆå¸è½½åŸæœ‰officeï¼Œå†å®‰è£…office2010.è¿˜ä¸è¡Œä½¿ç”¨ä¸‹é¢æ–¹æ³•æ˜¯ä¸€ä¸‹ï¼š ä½¿ç”¨ç»„åˆé”® Win+R æ‰“å¼€â€œè¿è¡Œâ€å¯¹è¯æ¡†ï¼Œè¾“å…¥ regedit å¹¶å›è½¦ï¼ˆå¯èƒ½éœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰ æ‰¾åˆ°è¿™ä¸ªé”®å€¼ HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Installer\\UserData å³å‡»â€œUserDataâ€ é€‰æ‹©â€œæƒé™(P)â€¦â€ ç‚¹å‡»â€œé«˜çº§(V)â€æŒ‰é’® é€‰å®šâ€œAdministratorsâ€¦â€¦â€ï¼Œå‹¾é€‰â€œæ›¿æ¢å­å®¹å™¨å’Œå¯¹è±¡çš„æ‰€æœ‰è€…(R)â€ï¼Œç‚¹å‡»â€œåº”ç”¨(A)â€ï¼Œå°†â€œå½“å‰æ‰€æœ‰è€…(C)ï¼šâ€æ›´æ”¹ä¸ºâ€œAdministratorsâ€¦â€¦â€ â€œæƒé™é¡¹ç›®(T)ï¼šâ€é€‰å®šâ€œAdministratorsâ€¦â€¦â€ï¼Œå‹¾é€‰â€œä½¿ç”¨å¯ä»æ­¤å¯¹è±¡ç»§æ‰¿çš„æƒé™æ›¿æ¢æ‰€æœ‰å­å¯¹è±¡æƒé™(P)â€ï¼Œç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’® ","date":"2015-01-14","objectID":"/posts/d14dfb/:0:0","tags":["office",1042],"title":"è§£å†³Office 2010å®‰è£…é”™è¯¯:1402","uri":"/posts/d14dfb/"},{"categories":["DevOps","Ansible"],"content":"å‰è¨€ AnsibleWorksæˆç«‹äº2012å¹´ï¼Œç”±è‡ªåŠ¨åŒ–å·¥å…·CobbleråŠFuncçš„å¼€å‘è€…Michael DeHaanåˆ›å»ºã€‚å…¶Ansibleå¹³å°æ˜¯ä¸€ä¸ªå¼€æºçš„é…ç½®åŠè®¡ç®—æœºç®¡ç†å¹³å°ã€‚å¯å®ç°å¤šèŠ‚ç‚¹çš„è½¯ä»¶éƒ¨ç½²ï¼Œæ‰§è¡Œç‰¹å®šä»»åŠ¡å¹¶è¿›è¡Œé…ç½®ç®¡ç†ã€‚ Ansible è·Ÿå…¶ä»–ITè‡ªåŠ¨åŒ–æŠ€æœ¯çš„åŒºåˆ«åœ¨äºå…¶å…³æ³¨ç‚¹å¹¶éé…ç½®ç®¡ç†ã€åº”ç”¨éƒ¨ç½²æˆ–ITæµç¨‹å·¥ä½œæµï¼Œè€Œæ˜¯æä¾›ä¸€ä¸ªç»Ÿä¸€çš„ç•Œé¢æ¥åè°ƒæ‰€æœ‰çš„ITè‡ªåŠ¨åŒ–åŠŸèƒ½ï¼Œå› æ­¤ Ansibleçš„ç³»ç»Ÿæ›´åŠ æ˜“ç”¨ï¼Œéƒ¨ç½²æ›´å¿«ã€‚å—ç®¡ç†çš„èŠ‚ç‚¹æ— éœ€å®‰è£…é¢å¤–çš„è¿œç¨‹æ§åˆ¶è½¯ä»¶ï¼Œç”±å¹³å°é€šè¿‡SSHï¼ˆSecure SHellï¼‰å¯¹å…¶è¿›è¡Œç®¡ç†ï¼Œå› æ­¤ååˆ†æ–¹ä¾¿ã€‚å…¶æ¨¡å—æ”¯æŒJSONç­‰æ ‡å‡†è¾“å‡ºæ ¼å¼ï¼Œå¯é‡‡ç”¨ä»»ä½•ç¼–ç¨‹è¯­è¨€é‡å†™ã€‚ Ansibleå¯ä»¥è®©ç”¨æˆ·é¿å…ç¼–å†™è„šæœ¬æˆ–ä»£ç æ¥ç®¡ç†åº”ç”¨ï¼ŒåŒæ—¶è¿˜èƒ½æ­å»ºå·¥ä½œæµå®ç°ITä»»åŠ¡çš„è‡ªåŠ¨åŒ–æ‰§è¡Œã€‚ITè‡ªåŠ¨åŒ–å¯ä»¥é™ä½æŠ€æœ¯é—¨æ§›åŠå¯¹ä¼ ç»ŸITçš„ä¾èµ–ï¼Œä»è€ŒåŠ å¿«é¡¹ç›®çš„äº¤ä»˜é€Ÿåº¦ã€‚ Ansibleæœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š è½»é‡çº§ï¼Œä»–ä¸éœ€è¦å»å®¢æˆ·ç«¯å®‰è£…agentï¼Œæ›´æ–°æ—¶ï¼Œåªéœ€è¦åœ¨æ“ä½œæœºä¸Šè¿›è¡Œä¸€æ¬¡æ›´æ–°å³å¯ æ‰¹é‡ä»»åŠ¡æ‰§è¡Œå¯ä»¥å†™æˆè„šæœ¬ï¼Œè€Œä¸”ä¸ç”¨åˆ†å‘åˆ°è¿œç¨‹å°±å¯ä»¥æ‰§è¡Œ ä½¿ç”¨pythonç¼–å†™çš„ï¼Œç»´æŠ¤æ›´ç®€å• æ”¯æŒsudo å®‰è£…Ansible åˆ›å»ºansibleç”¨æˆ· [root@node1 ~]# useradd ansible [root@node1 ~]# passwd ansible æ›´æ”¹ç”¨æˆ· ansible çš„å¯†ç  ã€‚ æ–°çš„ å¯†ç ï¼š é‡æ–°è¾“å…¥æ–°çš„ å¯†ç ï¼š passwdï¼š æ‰€æœ‰çš„èº«ä»½éªŒè¯ä»¤ç‰Œå·²ç»æˆåŠŸæ›´æ–°ã€‚ å…è®¸æ‰§è¡Œsudo [root@node1 ~]# vi /etc/sudoers # Defaults requiretty //è¡¨ç¤ºä¸éœ€è¦æ§åˆ¶ç»ˆç«¯ ansible ALL=(ALL) NOPASSWD:ALL å®‰è£…ansible [root@node1 ~]# yum install PyYAML.x86_64 python-paramiko.noarch python-jinja2.x86_64 python-devel -y [root@node1 ~]# wget https://pypi.python.org/packages/source/s/setuptools/setuptools-7.0.tar.gz [root@node1 ~]# tar zxvf setuptools-7.0.tar.gz [root@node1 ~]# cd setuptools-7.0 [root@node1 setuptools-7.0]# python setup.py install [root@node1 setuptools-7.0]# cd .. [root@node1 ~]# wget https://pypi.python.org/packages/source/a/ansible/ansible-1.7.2.tar.gz [root@node1 ~]# tar zxvf ansible-1.7.2.tar.gz [root@node1 ~]# cd ansible-1.7.2 [root@node1 ansible-1.7.2]# python setup.py build [root@node1 ansible-1.7.2]# python setup.py install [root@node1 ansible-1.7.2]# mkdir /etc/ansible [root@node1 ansible-1.7.2]# cp examples/ansible.cfg /etc/ansible/ [root@node1 ansible-1.7.2]# cp examples/hosts /etc/ansible/ ä¿®æ”¹é…ç½®æ–‡ä»¶ [root@node1 ansible-1.7.2]# vi /etc/ansible/ansible.cfg hostfile = /etc/ansible/hosts library = /usr/share/ansible remote_tmp = $HOME/.ansible/tmp pattern = * forks = 5 poll_interval = 15 sudo_user = ansible #ask_sudo_pass = True #ask_pass = True transport = smart remote_port = 22 module_lang = C [root@node1 ansible-1.7.2]# vi /etc/ansible/hosts #server [localhost] 127.0.0.1 #client [client] 172.16.0.112 sshäº’ä¿¡ [root@node1 ansible-1.7.2]# su - ansible [ansible@node1 ~]$ [ansible@node1 ~]$ ssh-keygen -t rsa Generating public/private rsa key pair. Enter file in which to save the key (/home/ansible/.ssh/id_rsa): Created directory '/home/ansible/.ssh'. Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /home/ansible/.ssh/id_rsa. Your public key has been saved in /home/ansible/.ssh/id_rsa.pub. The key fingerprint is: dc:c9:ac:d8:46:81:37:72:08:f3:77:06:98:33:cb:5f ansible@node1 The key's randomart image is: +--[ RSA 2048]----+ | o o. | | +=o . | | .=+* o | | o* OE. | | .S.= | | +.. | | . + | | . | | | +-----------------+ [ansible@node1 ~]$ [ansible@node1 ~]$ ssh-keygen -t dsa Generating public/private dsa key pair. Enter file in which to save the key (/home/ansible/.ssh/id_dsa): Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /home/ansible/.ssh/id_dsa. Your public key has been saved in /home/ansible/.ssh/id_dsa.pub. The key fingerprint is: b3:a6:94:bf:5c:21:a3:c5:8b:74:b8:a5:8c:62:34:d2 ansible@node1 The key's randomart image is: +--[ DSA 1024]----+ | | | | | | | . o | |. E o S . | | o . + X * . | | o . O + . | | . . . = . | | . +. | +-----------------+ [ansible@node1 ~]$ [ansible@node1 ~]$ cd .ssh/ [ansible@node1 .ssh]$ cat *.pub \u003e authorized_keys [ansible@node1 .ssh]$ chmod -R 700 . #æµ‹è¯•æœ¬æœºäº’ä¿¡ [ansible@node1 .ssh]$ ssh 127.0.0.1 The authenticity of host '127.0.0.1 (127.0.0.1)' can't be established. RSA key fingerprint is fa:73:59:f5:08:95:b2:2e:7f:3e:52:91:8a:e6:47:1f. Are you sure you want to continue connecting (yes/no)? yes Warning: Permanently added '127.0.0.1' (RSA) to the list of known hosts. [ansible@node1 ~]$ exit logout Connection to 127.0.0.1 closed. è¿œç¨‹sshäº’ä¿¡é…ç½®æµ‹è¯• [ansible@node1 .ssh]$ scp authorized_keys ansible@172.16.0.112: The authenticity of host '172.16.0.112 (172.16.0.112)' can't be established. RSA key fingerprint is fa:73:59:f5:08:95:b2:2e:7f:3e:52:91:8","date":"2014-11-22","objectID":"/posts/7b524d8e/:0:0","tags":["devops","ansible"],"title":"Ansibleå®‰è£…åŠä½¿ç”¨","uri":"/posts/7b524d8e/"},{"categories":["è™šæ‹ŸåŒ–","VMWare"],"content":"åœ¨ç”µè„‘é‡Œè£…äº†VMwareåï¼Œå†è¦è£…xamppï¼Œåæœ‰å…«ä¹å°±ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼š 10:21:18 [Apache] Problem detected! 10:21:18 [Apache] Port 443 in use by \"\"d:\\Program Files (x86)\\VM\\vmware-hostd.exe\" -u \"C:\\ProgramData\\VMware\\hostd\\config.xml\"\" with PID 2764! 10:21:18 [Apache] Apache WILL NOT start without the configured ports free! 10:21:18 [Apache] You need to uninstall/disable/reconfigure the blocking application 10:21:18 [Apache] or reconfigure Apache and the Control Panel to listen on a different port è¿™ä¸ªé—®é¢˜æ˜¯å¤„åœ¨VMwareä¸Šï¼ŒVMwareå°†443ç«¯å£å ç”¨äº†ï¼Œè€Œapacheä¹Ÿéœ€è¦443ç«¯å£ã€‚æ‰€ä»¥ï¼Œæƒ³è¦å¼€å¯apacheçš„æœåŠ¡ï¼Œå¿…é¡»è¦å°†VMwareç«¯å£æ”¹å˜ã€‚ æ“ä½œå¦‚ä¸‹ï¼š æ‰“å¼€èœå• ç¼–è¾‘â†’å‚æ•°ï¼ˆEditâ€“\u003e Preferencesï¼‰ï¼Œå¦‚ä¸‹å›¾ï¼š é€‰æ‹© å…±äº«è™šæ‹Ÿæœºï¼ˆShared VMsï¼‰ï¼Œç‚¹å‡»ç¦ç”¨å…±äº«ã€‚è¿™é‡Œçš„HTTPSç«¯å£æ˜¯443ï¼Œæ­£æ˜¯apacheéœ€è¦çš„ã€‚ ä¸ºäº†æ–¹ä¾¿vmwareçš„ä½¿ç”¨,æˆ‘ä»¬æŠŠ443ä¿®æ”¹æˆä»»æ„ä¸€ä¸ªç©ºé—²ç«¯å£å³å¯ï¼Œå¦‚ä¸‹å›¾ï¼š æ¥ä¸‹æ¥å¯ç”¨å…±äº«ï¼Œåœ¨å¼€å¯apacheï¼Œæ˜¯ä¸æ˜¯é—®é¢˜å°±è§£å†³äº†å‘¢ï¼Ÿ ","date":"2014-11-14","objectID":"/posts/3123c592/:0:0","tags":[443,"vmware","xampp"],"title":"XAMPP å’Œ VMWare çš„ç«¯å£443å†²çªçš„è§£å†³","uri":"/posts/3123c592/"},{"categories":["Linux/Unix","LVM"],"content":"é€»è¾‘å·ç®¡ç†LVMæ˜¯ä¸€ä¸ªå¤šæ‰å¤šè‰ºçš„ç¡¬ç›˜ç³»ç»Ÿå·¥å…·ã€‚æ— è®ºåœ¨Linuxæˆ–è€…å…¶ä»–ç±»ä¼¼çš„ç³»ç»Ÿï¼Œéƒ½æ˜¯éå¸¸çš„å¥½ç”¨ã€‚ä¼ ç»Ÿåˆ†åŒºä½¿ç”¨å›ºå®šå¤§å°åˆ†åŒºï¼Œé‡æ–°è°ƒæ•´å¤§å°ååˆ†éº»çƒ¦ã€‚ä½†æ˜¯ï¼ŒLVMå¯ä»¥åˆ›å»ºå’Œç®¡ç†â€œé€»è¾‘â€å·ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ç‰©ç†ç¡¬ç›˜ã€‚å¯ä»¥è®©ç®¡ç†å‘˜å¼¹æ€§çš„ç®¡ç†é€»è¾‘å·çš„æ‰©å¤§ç¼©å°ï¼Œæ“ä½œç®€å•ï¼Œè€Œä¸æŸåå·²å­˜å‚¨çš„æ•°æ®ã€‚å¯ä»¥éšæ„å°†æ–°çš„ç¡¬ç›˜æ·»åŠ åˆ°LVMï¼Œä»¥ç›´æ¥æ‰©å±•å·²ç»å­˜åœ¨çš„é€»è¾‘å·ã€‚LVMå¹¶ä¸éœ€è¦é‡å¯å°±å¯ä»¥è®©å†…æ ¸çŸ¥é“åˆ†åŒºçš„å­˜åœ¨ã€‚ LVMä½¿ç”¨åˆ†å±‚ç»“æ„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å›¾ä¸­é¡¶éƒ¨ï¼Œé¦–å…ˆæ˜¯å®é™…çš„ç‰©ç†ç£ç›˜åŠå…¶åˆ’åˆ†çš„åˆ†åŒºå’Œå…¶ä¸Šçš„ç‰©ç†å·ï¼ˆPVï¼‰ã€‚ä¸€ä¸ªæˆ–å¤šä¸ªç‰©ç†å·å¯ä»¥ç”¨æ¥åˆ›å»ºå·ç»„ï¼ˆVGï¼‰ã€‚ç„¶ååŸºäºå·ç»„å¯ä»¥åˆ›å»ºé€»è¾‘å·ï¼ˆLV)ã€‚åªè¦åœ¨å·ç»„ä¸­æœ‰å¯ç”¨ç©ºé—´ï¼Œå°±å¯ä»¥éšå¿ƒæ‰€æ¬²çš„åˆ›å»ºé€»è¾‘å·ã€‚æ–‡ä»¶ç³»ç»Ÿå°±æ˜¯åœ¨é€»è¾‘å·ä¸Šåˆ›å»ºçš„ï¼Œç„¶åå¯ä»¥åœ¨æ“ä½œç³»ç»ŸæŒ‚è½½å’Œè®¿é—®ã€‚ LVMæµ‹è¯•è¯´æ˜ æœ¬æ–‡å°†ä»‹ç»æ€ä¹ˆåœ¨linuxä¸­åˆ›å»ºå’Œç®¡ç†LVMå·ã€‚æˆ‘ä»¬å°†ä¼šåˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ã€‚ç¬¬ä¸€ä¸ªéƒ¨åˆ†ï¼Œæˆ‘ä»¬é¦–å…ˆè¦åœ¨ä¸€ä¸ªç¡¬ç›˜ä¸Šåˆ›å»ºå¤šä¸ªé€»è¾‘å·ï¼Œç„¶åå°†å®ƒä»¬æŒ‚è½½åœ¨/lvm-mountç›®å½•ã€‚ç„¶åæˆ‘ä»¬å°†è¦å¯¹åˆ›å»ºå¥½çš„å·è°ƒæ•´å¤§å°ã€‚è€Œç¬¬äºŒéƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†ä¼šä»å¦å¤–ä¸€å—ç¡¬ç›˜å¢åŠ é¢å¤–çš„å·åˆ°LVMä¸­ã€‚ å‡†å¤‡ç£ç›˜åˆ†åŒº é€šè¿‡ä½¿ç”¨fdiskï¼Œåˆ›å»ºç£ç›˜åˆ†åŒºã€‚æˆ‘ä»¬éœ€è¦åˆ›å»º3ä¸ª1Gåˆ†åŒºï¼Œæ³¨æ„ï¼Œå¹¶ä¸è¦æ±‚åˆ†åŒºçš„å¤§å°ä¸€è‡´ã€‚åŒæ ·ï¼Œåˆ†åŒºéœ€è¦ä½¿ç”¨â€˜8eâ€™ç±»å‹æ¥ä½¿ä»–ä»¬å¯ç”¨äºLVMã€‚ # fdisk /dev/sdb Command (m for help): n ## æ–°å»º Command action e extended p primary partition (1-4) p ## ä¸»åˆ†åŒº Partition number (1-4): 1 ## åˆ†åŒºå· First cylinder (1-1044, default 1): ## å›è½¦ç”¨é»˜è®¤çš„1 Last cylinder, +cylinders or +size{K,M,G} (1-1044, default 1044): +1G ## å¤§å° Command (m for help): t ## æ”¹å˜ç±»å‹ Selected partition 1 Hex code (type L to list codes): 8e ## LVM çš„åˆ†åŒºä»£ç  Changed system type of partition 1 to 8e (Linux LVM) é‡å¤ä¸Šé¢çš„æ“ä½œæ¥åˆ›å»ºå…¶ä»–ä¸¤ä¸ªåˆ†åŒºã€‚åˆ†åŒºåˆ›å»ºå®Œæˆåï¼Œæˆ‘ä»¬åº”è¯¥æœ‰ç±»ä¼¼å¦‚ä¸‹çš„è¾“å‡ºï¼š # fdisk -l Device Boot Start End Blocks Id System /dev/sdb1 1 132 1060258+ 8e Linux LVM /dev/sdb2 133 264 1060290 8e Linux LVM /dev/sdb3 265 396 1060290 8e Linux LVM å‡†å¤‡ç‰©ç†å·(PV) åˆšåˆ›å»ºçš„åˆ†åŒºæ˜¯ç”¨æ¥å‚¨å­˜ç‰©ç†å·çš„ã€‚LVMå¯ä»¥ä½¿ç”¨ä¸åŒå¤§å°çš„ç‰©ç†å·ã€‚ # pvcreate /dev/sdb1 # pvcreate /dev/sdb2 # pvcreate /dev/sdb3 ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤æ£€æŸ¥ç‰©ç†å·çš„åˆ›å»ºæƒ…å†µã€‚ä¸‹é¢æˆªå–éƒ¨åˆ†è¾“å‡ºã€‚\"/dev/sdb2\"æ˜¯ä¸€ä¸ªæ–°çš„\"1.01 GiB\"ç‰©ç†å·ã€‚ # pvdisplay --- NEW Physical volume --- PV Name /dev/sdb2 VG Name PV Size 1.01 GiB Allocatable NO PE Size 0 Total PE 0 Free PE 0 Allocated PE 0 PV UUID jszvzz-ENA2-g5Pd-irhV-T9wi-ZfA3-0xo092 ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤å¯ä»¥åˆ é™¤ç‰©ç†å·ã€‚ # pvremove /dev/sdb1 å‡†å¤‡å·ç»„(VG) ä¸‹åˆ—å‘½ä»¤ç”¨æ¥åˆ›å»ºåä¸ºâ€™volume-group1â€™çš„å·ç»„ï¼Œä½¿ç”¨/dev/sdb1, /dev/sdb2 å’Œ /dev/sdb3åˆ›å»ºã€‚ # vgcreate volume-group1 /dev/sdb1 /dev/sdb2 /dev/sdb3 ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤å¯ä»¥æ¥éªŒè¯å·ç»„ã€‚ # vgdisplay --- Volume group --- VG Name volume-group1 System ID Format lvm2 Metadata Areas 3 Metadata Sequence No 1 VG Access read/write VG Status resizable MAX LV 0 Cur LV 0 Open LV 0 Max PV 0 Cur PV 3 Act PV 3 VG Size 3.02 GiB PE Size 4.00 MiB Total PE 774 Alloc PE / Size 0 / 0 Free PE / Size 774 / 3.02 GiB VG UUID bwd2pS-fkAz-lGVZ-qc7C-TaKv-fFUC-IzGNBK ä»è¾“å‡ºä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹è§å·ç»„çš„ä½¿ç”¨é‡/æ€»é‡ã€‚ç‰©ç†å·ç»™å·ç»„æä¾›ç©ºé—´ã€‚åªè¦åœ¨è¿™ä¸ªå·ç»„ä¸­è¿˜æœ‰å¯ç”¨ç©ºé—´ï¼Œæˆ‘ä»¬å°±å¯ä»¥éšæ„åˆ›å»ºé€»è¾‘å·ã€‚ ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤åˆ é™¤å·ç»„ã€‚ # vgremove volume-group1 åˆ›å»ºé€»è¾‘å·(LV) ä¸‹åˆ—å‘½ä»¤åˆ›å»ºä¸€ä¸ªåä¸º'1v1â€™ã€å¤§å°ä¸º100MBçš„é€»è¾‘å·ã€‚æˆ‘ä»¬ä½¿ç”¨å°åˆ†åŒºå‡å°‘æ‰§è¡Œæ—¶é—´ã€‚è¿™ä¸ªé€»è¾‘å·ä½¿ç”¨ä¹‹å‰åˆ›å»ºçš„å·ç»„çš„ç©ºé—´ã€‚ # lvcreate -L 100M -n lv1 volume-group1 é€»è¾‘å·å¯ä½¿ç”¨lvdisplayå‘½ä»¤æŸ¥çœ‹ã€‚ # lvdisplay --- Logical volume --- LV Name /dev/volume-group1/lv1 VG Name volume-group1 LV UUID YNQ1aa-QVt1-hEj6-ArJX-I1Q4-y1h1-OFEtlW LV Write Access read/write LV Status available # open 0 LV Size 100.00 MiB Current LE 25 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 256 Block device 253:2 ç°åœ¨é€»è¾‘å·å·²ç»å‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥æ ¼å¼åŒ–å’ŒæŒ‚è½½é€»è¾‘å·ï¼Œå°±åƒå…¶å®ƒext2/3/4åˆ†åŒºä¸€æ ·ï¼ # mkfs.ext4 /dev/volume-group1/lv1 # mkdir /lvm-mount # mount /dev/volume-group1/lv1 /lvm-mount/ ä¸€æ—¦é€»è¾‘å·æŒ‚è½½ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ°æŒ‚è½½ç‚¹ /lvm-mount/ ä¸Šè¯»å†™äº†ã€‚è¦åˆ›å»ºå’ŒæŒ‚è½½å…¶å®ƒçš„é€»è¾‘å·ï¼Œæˆ‘ä»¬é‡å¤è¿™ä¸ªè¿‡ç¨‹ã€‚ æœ€åï¼Œä½¿ç”¨lvremoveæˆ‘ä»¬å¯ä»¥åˆ é™¤é€»è¾‘å·ã€‚ # umount /lvm-mount/ # lvremove /dev/volume-group1/lv1 æ‰©å±•ä¸€ä¸ªLVMå· è°ƒæ•´é€»è¾‘å·å¤§å°çš„åŠŸèƒ½æ˜¯LVMæœ€æœ‰ç”¨çš„åŠŸèƒ½ã€‚è¿™ä¸ªéƒ¨åˆ†ä¼šè®¨è®ºæˆ‘ä»¬æ€ä¹ˆæ ·æ‰©å±•ä¸€ä¸ªå­˜åœ¨çš„é€»è¾‘å·ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å°†ä¼šæ‰©å±•å…ˆå‰åˆ›å»ºçš„é€»è¾‘å·â€˜lv1â€™æ‰©å¤§åˆ°200MBã€‚ æ³¨æ„ï¼Œè°ƒæ•´é€»è¾‘å·å¤§å°ä¹‹åï¼Œä¹Ÿéœ€è¦å¯¹æ–‡ä»¶ç³»ç»Ÿè°ƒæ•´å¤§å°è¿›è¡ŒåŒ¹é…ã€‚è¿™ä¸ªé¢å¤–çš„æ­¥éª¤å„ä¸ç›¸åŒï¼Œå–å†³äºåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿçš„ç±»å‹ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨â€™lv1â€™åˆ›å»ºäº†ext4ç±»å‹çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€ä»¥è¿™é‡Œçš„æ“ä½œæ˜¯é’ˆå¯¹ext4æ–‡ä»¶ç³»ç»Ÿçš„ã€‚ï¼ˆext2/3æ–‡ä»¶ç³»ç»Ÿä¹Ÿç±»åŒï¼‰ã€‚å‘½ä»¤çš„æ‰§è¡Œé¡ºåºæ˜¯å¾ˆé‡è¦çš„ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬å¸è½½æ‰lv1å· # umount /lvm-mount/ ç„¶åï¼Œè®¾ç½®å·çš„å¤§å°ä¸º200M # lvresize -L 200M /dev/volume-group1/lv1 æ¥ä¸‹æ¥ï¼Œæ£€æŸ¥ç£ç›˜é”™è¯¯ # e2fsck -f /dev/volume-group1/lv1 è¿è¡Œä»¥ä¸‹å‘½ä»¤æ‰©å±•æ–‡ä»¶ç³»ç»Ÿä»¥åï¼Œext4ä¿¡æ¯å°±æ›´æ–°äº†ã€‚ # resize2fs /dev/volume-group1/lv1 ç°åœ¨ï¼Œè¿™ä¸ªé€»è¾‘å·åº”è¯¥å·²ç»æ‰©å±•åˆ°200MBäº†ã€‚æˆ‘ä»¬æ£€æŸ¥LVçš„çŠ¶æ€æ¥éªŒè¯ã€‚ # lvdisplay --- Logical volume --- LV Name /dev/volume-group1/lv1 VG Name volume-group1 LV UUID 9RtmMY-0RIZ-Dq40-ySjU-vmrj-f1es-7rXBwa LV Write Access read/write LV Status available # open 0 LV Size 200.00 MiB Current LE 50 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 256 Block device 253:2 ç°åœ¨ï¼Œè¿™ä¸ªé€»è¾‘å·å¯ä»¥å†æ¬¡æŒ‚è½½ï¼ŒåŒæ ·è¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ç”¨äºå…¶ä»–åˆ†åŒºã€‚ ç¼©å‡ä¸€ä¸ªLVMå· è¿™ç« èŠ‚ä»‹ç»ç¼©å‡LVMå·å¤§å°çš„æ–¹æ³•ã€‚å‘½ä»¤çš„é¡ºåºåŒæ ·é‡è¦ã€‚å¹¶ä¸”ï¼Œä¸‹åˆ—å‘½ä»¤å¯¹ext2/3/4æ–‡ä»¶ç³»ç»ŸåŒæ ·æœ‰æ•ˆã€‚ æ³¨æ„å‡å°‘é€»è¾‘å·çš„å¤§å°å€¼è‹¥å°äºå‚¨å­˜çš„æ•°æ®å¤§å°ï¼Œå­˜å‚¨åœ¨åé¢çš„æ•°æ®ä¼šä¸¢å¤±ã€‚ é¦–å…ˆï¼Œå¸è½½æ‰å·ã€‚ # umount /dev/volume-group1/lv1 ç„¶åï¼Œæ£€æµ‹ç£ç›˜é”™è¯¯ã€‚ # e2fsck -f /dev/volume-group1/lv1 æ¥ä¸‹æ¥ç¼©å°æ–‡ä»¶ç³»ç»Ÿï¼Œæ›´æ–°ext4ä¿¡æ¯ã€‚ # resize2fs /dev/volume-group1/lv1 100M å®Œæˆä»¥åï¼Œå‡å°‘é€»è¾‘å·å¤§å° # lvresize -L 100M /dev/volume-gro","date":"2014-06-18","objectID":"/posts/50158b3/:0:0","tags":["LVM","åˆ†åŒº","ç£ç›˜"],"title":"Linux LVMç®€æ˜æ•™ç¨‹","uri":"/posts/50158b3/"},{"categories":["Linux/Unix"],"content":"Linuxæ˜¯ä¸€ç§è‡ªç”±å’Œå¼€æ”¾æºä»£ç çš„ç±»UNIXæ“ä½œç³»ç»Ÿ.è¯¥æ“ä½œç³»ç»Ÿçš„å†…æ ¸ç”±æ—çº³æ–¯Â·æ‰˜ç“¦å…¹åœ¨1991å¹´10æœˆ5æ—¥é¦–æ¬¡å‘å¸ƒã€‚åœ¨åŠ ä¸Šç”¨æˆ·ç©ºé—´çš„åº”ç”¨ç¨‹åºä¹‹åï¼Œæˆä¸ºLinuxæ“ä½œç³»ç»Ÿã€‚Linuxä¹Ÿæ˜¯è‡ªç”±è½¯ä»¶å’Œå¼€æ”¾æºä»£ç è½¯ä»¶å‘å±•ä¸­æœ€è‘—åçš„ä¾‹å­ã€‚åªè¦éµå¾ªGNUé€šç”¨å…¬å…±è®¸å¯è¯ï¼Œä»»ä½•ä¸ªäººå’Œæœºæ„éƒ½å¯ä»¥è‡ªç”±åœ°ä½¿ç”¨Linuxçš„æ‰€æœ‰åº•å±‚æºä»£ç ï¼Œä¹Ÿå¯ä»¥è‡ªç”±åœ°ä¿®æ”¹å’Œå†å‘å¸ƒã€‚å¤§å¤šæ•°Linuxç³»ç»Ÿè¿˜åŒ…æ‹¬åƒæä¾›GUIçš„X Windowä¹‹ç±»çš„ç¨‹åºã€‚é™¤äº†ä¸€éƒ¨åˆ†ä¸“å®¶ä¹‹å¤–ï¼Œå¤§å¤šæ•°äººéƒ½æ˜¯ç›´æ¥ä½¿ç”¨Linuxå‘è¡Œç‰ˆï¼Œè€Œä¸æ˜¯è‡ªå·±é€‰æ‹©æ¯ä¸€æ ·ç»„ä»¶æˆ–è‡ªè¡Œè®¾ç½®ã€‚ Linuxè¯ç”Ÿ 1991å¹´ï¼Œåœ¨èµ«å°”è¾›åŸºï¼ŒLinus Torvaldså¼€å§‹é‚£ä¸ªåé¢æˆä¸ºäº†Linuxå†…æ ¸çš„é¡¹ç›®ã€‚æœ€åˆå®ƒåªæ˜¯ä¸€ä¸ªTorvaldsç”¨æ¥è®¿é—®å¤§å­¦é‡Œçš„å¤§å‹çš„UnixæœåŠ¡å™¨çš„è™šæ‹Ÿç»ˆç«¯ã€‚ä»–ä¸“é—¨å†™äº†ä¸€ä¸ªç”¨äºä»–å½“æ—¶æ­£åœ¨ç”¨çš„ç¡¬ä»¶çš„ï¼Œä¸æ“ä½œç³»ç»Ÿæ— å…³çš„ç¨‹åºï¼Œå› ä¸ºä»–è¦ç”¨ä»–é‚£ç”¨80386å¤„ç†å™¨çš„æ–°PCæœºçš„åŠŸèƒ½ã€‚å¼€å‘æ˜¯åœ¨Minixä¸Šï¼Œç”¨è‡³ä»Šä»ä¸ºé¦–é€‰çš„ç¼–è¯‘å™¨â€”â€”GCCâ€”â€”æ¥å®Œæˆçš„ã€‚ 2002å¹´çš„Linus Torvalds 1996å¹´ï¼ŒTorvaldsä¸ºLinuxé€‰å®šäº†ä¼é¹…ä½œä¸ºå®ƒçš„å‰ç¥¥ç‰©ã€‚Larry Ewingæä¾›äº†å‰ç¥¥ç‰©çš„åˆç¨¿ã€‚ç°åœ¨æ­£åœ¨ä½¿ç”¨çš„è‘—åçš„å‰ç¥¥ç‰©å°±æ˜¯åŸºäºè¿™ä»½åˆç¨¿çš„ã€‚James Hughesæ ¹æ®â€œTorvaldsâ€™s Unixâ€ä¸ºå®ƒå–äº†åå­—Tuxã€‚ Tuxå‰ç¥¥ç‰© ä¸€äº›ç›¸å…³æœ¯è¯­ FSFï¼šFree Software Foundationè‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šã€‚ GPLï¼šGeneral Public Licenseé€šç”¨å…¬å…±è®¸å¯ã€‚æ˜¯å¹¿æ³›ä½¿ç”¨çš„å…è´¹è½¯ä»¶è®¸å¯è¯ï¼Œå¯ä»¥ä¿è¯ç»ˆç«¯ç”¨æˆ·å¾—è‡ªç”±è¿è¡Œï¼Œå­¦ä¹ ï¼Œå…±äº«å’Œä¿®æ”¹è½¯ä»¶ã€‚GPLæä¾›çš„Copyleftå¯¹äºåŸºäºLinuxçš„ç³»ç»Ÿçš„æˆåŠŸè‡³å…³é‡è¦ï¼Œç»™äºˆå‘å†…æ ¸è´¡çŒ®çš„ç¨‹åºå‘˜ä¿è¯ä»–ä»¬çš„å·¥ä½œå°†æœ‰ç›Šäºæ•´ä¸ªä¸–ç•Œå¹¶ä¿æŒè‡ªç”±ï¼Œè€Œä¸è‡³äºè¢«ä¸æä¾›å›é¦ˆç»™ç¤¾åŒºçš„ä¸è‚–è½¯ä»¶å…¬å¸æ‰€å‰¥å‰Šã€‚é€šä¿—åœ°è®²ï¼Œå°±æ˜¯è½¯ä»¶è¡Œä¸šçš„å…±äº§ä¸»ä¹‰è¿åŠ¨ç« ç¨‹ï¼Œç›®çš„ä¿æŒå¼€æºè½¯ä»¶æœ€å¤§è‡ªç”±ã€‚ BSDï¼šBerkeley Software Distributionä¼¯å…‹åˆ©è½¯ä»¶å¥—ä»¶ GNUï¼šGNUâ€™s Not Unix! GNUæ“ä½œç³»ç»Ÿèµ·æºäºGNUè®¡åˆ’ï¼Œç”±ç†æŸ¥Â·æ–¯æ‰˜æ›¼åœ¨MITäººå·¥æ™ºèƒ½å®éªŒå®¤å‘èµ·ï¼Œå¸Œæœ›å‘å±•å‡ºä¸€å¥—å®Œæ•´çš„å¼€æ”¾æºä»£ç æ“ä½œç³»ç»Ÿæ¥å–ä»£Unixï¼Œè®¡åˆ’ä¸­çš„æ“ä½œç³»ç»Ÿï¼Œåä¸ºGNUã€‚ ASFï¼šApache Software Foundation Apacheè½¯ä»¶åŸºé‡‘ä¼š Linuxå‘è¡Œç‰ˆ åŸºäºDpkg (Debianç³») Debian GNU / Linuxæ˜¯ä¸€ç§å¼ºè°ƒä½¿ç”¨è‡ªç”±è½¯ä»¶çš„å‘è¡Œç‰ˆã€‚å®ƒæ”¯æŒå¤šç§ç¡¬ä»¶å¹³å°ã€‚DebianåŠå…¶æ´¾ç”Ÿå‘è¡Œç‰ˆä½¿ç”¨debè½¯ä»¶åŒ…æ ¼å¼ï¼Œå¹¶ä½¿ç”¨dpkgåŠå…¶å‰ç«¯ä½œä¸ºåŒ…ç®¡ç†å™¨ã€‚ å•†ä¸šå‘è¡Œç‰ˆ Ubuntuï¼Œä¸€ä¸ªéå¸¸æµè¡Œçš„æ¡Œé¢å‘è¡Œç‰ˆï¼Œç”±Canonicalç»´æŠ¤ã€‚ ç¤¾åŒºå‘è¡Œç‰ˆ Debianï¼Œä¸€ä¸ªå¼ºçƒˆä¿¡å¥‰è‡ªç”±è½¯ä»¶ï¼Œå¹¶ç”±å¿—æ„¿è€…ç»´æŠ¤çš„ç³»ç»Ÿã€‚ Kubuntu, ä½¿ç”¨KDEæ¡Œé¢çš„Ubuntuã€‚ Linux Mintï¼Œä»Ubuntuæ´¾ç”Ÿå¹¶ä¸Ubuntuå…¼å®¹çš„ç³»ç»Ÿã€‚ Knoppixï¼Œç¬¬ä¸€ä¸ªLive CDå‘è¡Œç‰ˆï¼Œå¯ä»¥ä»å¯ç§»åŠ¨ä»‹è´¨è¿è¡Œï¼ŒDebiançš„æ´¾ç”Ÿç‰ˆã€‚ OpenGEUï¼ŒUbuntuçš„æ´¾ç”Ÿç‰ˆã€‚ Elementary OSï¼šåŸºäºUbuntuï¼Œæ¥å£é…·ä¼¼Mac OS Xã€‚ gOSå’Œå…¶ä»–ä¸Šç½‘æœ¬ç”¨çš„ç³»ç»Ÿã€‚ åŸºäºRPM (Red Hatç³») Red Hat Linuxå’ŒSUSE Linuxæ˜¯æœ€æ—©ä½¿ç”¨RPMæ ¼å¼è½¯ä»¶åŒ…çš„å‘è¡Œç‰ˆï¼Œå¦‚ä»ŠRPMæ ¼å¼å·²å¹¿æ³›è¿ç”¨äºä¼—å¤šçš„å‘è¡Œç‰ˆã€‚è¿™ä¸¤ç§å‘è¡Œç‰ˆåæ¥éƒ½åˆ†ä¸ºå•†ä¸šç‰ˆæœ¬å’Œç¤¾åŒºæ”¯æŒç‰ˆæœ¬ã€‚Red Hat Linuxçš„ç¤¾åŒºæ”¯æŒç‰ˆæœ¬ç°ç§°ä¸ºFedoraï¼Œå•†ä¸šç‰ˆæœ¬åˆ™ç§°ä¸ºRed Hat Enterprise Linuxã€‚ å•†ä¸šå‘è¡Œç‰ˆ Red Hat Enterprise Linuxï¼ŒFedoraçš„å•†ä¸šç‰ˆï¼Œç”±Red Hatç»´æŠ¤å’Œæä¾›æŠ€æœ¯æ”¯æŒã€‚ Mandrivaï¼Œæœ€åˆä¸ºRed Hatçš„æ´¾ç”Ÿç‰ˆï¼Œç°åœ¨ç”±æ³•å›½ä¸€ä¸ªåŒåçš„å…¬å¸ç»´æŠ¤ã€‚ openSUSEï¼Œæœ€åˆç”±Slackwareåˆ†ç¦»å‡ºæ¥ï¼Œç°åœ¨ç”±Novellç»´æŠ¤ã€‚ ç¤¾åŒºå‘è¡Œç‰ˆ Fedoraï¼Œæ˜¯Red Hatçš„ç¤¾åŒºç‰ˆï¼Œä¼šç»å¸¸å¼•å…¥æ–°ç‰¹æ€§è¿›è¡Œæµ‹è¯•ã€‚ PCLinuxOSï¼ŒMandrivaçš„æ´¾ç”Ÿç‰ˆæœ¬ï¼Œç”±ç¤¾åŒºç»´æŠ¤çš„éå¸¸æµè¡Œçš„å‘è¡Œç‰ˆã€‚ CentOSï¼Œä»Red Hatå‘å±•è€Œæ¥çš„å‘è¡Œç‰ˆï¼Œç”±å¿—æ„¿è€…ç»´æŠ¤ï¼Œæ—¨åœ¨æä¾›å¼€æºçš„ï¼Œå¹¶ä¸Red Hat 100%å…¼å®¹çš„ç³»ç»Ÿã€‚ åŸºäºå…¶ä»–åŒ…æ ¼å¼ ArchLinuxï¼Œä¸€ä¸ªåŸºäºKISSï¼ˆKeep It Simple and Stupidï¼‰çš„æ»šåŠ¨æ›´æ–°çš„æ“ä½œç³»ç»Ÿã€‚ Chakraï¼Œä¸€ä¸ªä»ArchLinuxæ´¾ç”Ÿå‡ºæ¥ï¼Œåªä½¿ç”¨KDEæ¡Œé¢çš„åŠæ»šåŠ¨æ›´æ–°å‘è¡Œç‰ˆã€‚ Gentooï¼Œä¸€ä¸ªé¢å‘é«˜çº§ç”¨æˆ·çš„å‘è¡Œç‰ˆï¼Œæ‰€æœ‰è½¯ä»¶çš„æºä»£ç éœ€è¦è‡ªè¡Œç¼–è¯‘ã€‚ Slackwareï¼Œæœ€æ—©çš„å‘è¡Œç‰ˆä¹‹ä¸€ï¼Œ1993å¹´åˆ›å»ºï¼Œç”±Patrick J. Volkerdingç»´æŠ¤ã€‚ åœ¨DistroWatchç½‘ç«™å¯ä»¥çœ‹åˆ°å¾ˆå¤šå‘è¡Œç‰ˆçš„æ’åå’Œä¿¡æ¯ã€‚ LinuxåŒ…ç®¡ç† æœ€å—æ¬¢è¿çš„å››ä¸ªlinuxå‘è¡Œç‰ˆçš„è½¯ä»¶åŒ…ç®¡ç†æ–¹å¼ã€‚ Debianï¼ˆåŒ…æ‹¬ Ubuntu, Linux Mint, elementary OS, Zorin OS å’Œå…¶ä»–Debianè¡ç”Ÿç‰ˆæœ¬ï¼‰ OpenSUSE Fedoraï¼ˆåŒ…æ‹¬ Red Hat Enterprise Linux, CentOS, Scientific Linux å’Œ åŸºäºFedoraçš„å‘è¡Œç‰ˆï¼‰ Mageia å’Œ OpenMandriva åœ¨åŸºäºFedoraçš„å‘è¡Œç‰ˆä¸­ï¼ŒyumåŒ…ç®¡ç†å™¨åœ¨2015å¹´çš„æŸä¸ªæ—¶é—´ç‚¹è¢«æ›¿æ¢ä¸ºdnfï¼ˆä»Fedora 22å¼€å§‹ï¼‰ï¼Œä½†ç›®å‰çœ‹æ¥å¤§éƒ¨åˆ†dnfè½¯ä»¶åŒ…ç®¡ç†å‘½ä»¤ä¸yumå‘½ä»¤ä¿æŒä¸€è‡´ï¼ˆä¾‹å¤–æƒ…å†µæ˜¯â€œlocalinstallâ€ï¼Œå®ƒå°šæœªåœ¨dnfä¸­å®ç°ï¼Œå’Œâ€œupdateâ€ï¼Œè¿™å·²è¢«å¼ƒç”¨ï¼Œä»¥æ”¯æŒâ€œupgradeâ€ï¼‰ã€‚ Ubuntuçš„å½“å‰ç‰ˆæœ¬ä½¿ç”¨aptæ¥æ“ä½œdebåŒ…ã€‚ä½†æ˜¯ï¼ŒUbuntuçš„å®éªŒç‰ˆæœ¬ä½¿ç”¨æ–°çš„snapåŒ…ç®¡ç†å™¨ã€‚ å‚è€ƒï¼šhttps://distrowatch.com/dwres.php?resource=package-management ä»»åŠ¡ apt (deb) Debian, Ubuntu zypp (rpm) openSUSE yum/dnf (rpm) Fedora, CentOS urpmi (rpm) Mandriva, Mageia ç®¡ç†è½¯ä»¶ ä»è½¯ä»¶åŒ…å­˜å‚¨åº“å®‰è£…æ–°è½¯ä»¶ apt-get install pkg zypper install pkg yum install pkg urpmi pkg ä»è½¯ä»¶åŒ…æ–‡ä»¶å®‰è£…æ–°è½¯ä»¶ dpkg -i pkg zypper install pkg yum localinstall pkg urpmi pkg æ›´æ–°ç°æœ‰è½¯ä»¶ apt-get install pkg zypper update -t package pkg yum update pkg urpmi pkg åˆ é™¤ä¸éœ€è¦çš„è½¯ä»¶ apt-get remove pkg zypper remove pkg yum erase pkg urpme pkg æ›´æ–°ç³»ç»Ÿ æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨ apt-get updateaptitude update zypper refresh yum check-update urpmi.update -a æ›´æ–°ç³»ç»Ÿ apt-get upgradeaptitude safe-upgrade zypper update yum update urpmi â€“auto-select æœç´¢è½¯ä»¶åŒ… æŒ‰åŒ…åæœç´¢ apt-cache search pkg zypper search pkg yum list pkg urpmq pkg æŒ‰æ¨¡å¼æœç´¢ apt-cache search pattern zypper search -t pattern pattern yum search pattern urpmq â€“fuzzy pkg æŒ‰æ–‡ä»¶åæœç´¢ apt-file search path zypper wp file yum provides file urpmf file åˆ—å‡ºå·²å®‰è£…çš„åŒ… dpkg -l zypper search -is rpm -qa rpm -qa é…ç½®å¯¹è½¯ä»¶å­˜å‚¨åº“çš„è®¿é—® åˆ—å‡ºå­˜å‚¨åº“ cat /etc/apt/sources.list zypper repos yum repolist urpmq â€“list-media æ·»åŠ å­˜å‚¨åº“ (edit /etc/apt/sources.list) zypper addrepo path name (add repo to /etc/yum.repos.d/) urpmi.addmedia name path ç§»é™¤å­˜å‚¨åº“ (edit /etc/apt/sources.list) zypper removerepo name (remove repo from /etc/yum.repos.d/) urpmi.removemedia media Linuxå‘å±•æ—¶é—´çº¿ å¦‚æœæƒ³è¦çœ‹åˆ°æ›´è¯¦ç»†çš„Linuxå‘å±•ç‰ˆæœ¬åŠå‘å±•åˆ†æ”¯ã€‚å¯ä»¥è®¿é—® http://futurist.se/gldt ","date":"2014-04-27","objectID":"/posts/735e3e61/:0:0","tags":["linux"],"title":"Linuxå‘è¡Œç‰ˆä¸åŒºåˆ«","uri":"/posts/735e3e61/"},{"categories":["Linux/Unix"],"content":"è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿä¸Šéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œæ‰€æœ‰ç³»ç»Ÿä¸Šé¢è·‘çš„æ•°æ®éƒ½ä¼šä»¥è¿›ç¨‹çš„ç±»å‹å­˜åœ¨ã€‚åœ¨ Linux ç³»ç»Ÿå½“ä¸­ï¼šè§¦å‘ä»»ä½•ä¸€ä¸ªäº‹ä»¶æ—¶ï¼Œç³»ç»Ÿéƒ½ä¼šå°†å®ƒå®šä¹‰æˆä¸ºä¸€ä¸ªè¿›ç¨‹ï¼Œå¹¶ä¸”ç»™äºˆè¿™ä¸ªè¿›ç¨‹ä¸€ä¸ª IDï¼Œç§°ä¸º PIDï¼ŒåŒæ—¶æ ¹æ®è§¦å‘è¿™ä¸ªè¿›ç¨‹çš„ç”¨æˆ·ï¼Œç»™äºˆè¿™ä¸ª PID ä¸€ç»„æœ‰æ•ˆçš„æƒé™è®¾ç½®ã€‚ è¿›ç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ ç¨‹åºè¿è¡Œèµ·æ¥åï¼Œæˆ‘ä»¬çœ‹ä¸åˆ°ä¹Ÿæ‘¸ä¸ç€ã€‚å› æ­¤ Linux ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç³»åˆ—æ–¹ä¾¿çš„å‘½åæ¥æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ã€‚é¦–å…ˆæ˜¯ ps å‘½ä»¤ï¼Œæ¯”å¦‚ ps -lå‘½ä»¤èƒ½æŸ¥çœ‹å½“å‰ bash ä¸‹çš„ç›¸å…³è¿›ç¨‹å…¨éƒ¨ä¿¡æ¯ã€‚å¦‚ä¸‹ï¼š $ ps -l F S UID PID PPID C PRI NI ADDR SZ WCHAN TTY TIME CMD 0 S 1000 2552 2538 0 80 0 - 1945 wait pts/0 00:00:00 bash 0 S 1000 9352 2552 0 80 0 - 1926 wait pts/0 00:00:00 bash 0 R 1000 9478 9352 0 80 0 - 1598 - pts/0 00:00:00 ps å¦å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨ pstree å‘½ä»¤æ¥æ˜¾ç¤ºæ•´æ£µè¿›ç¨‹æ ‘ã€‚ å¯ä»¥çœ‹åˆ°è¿™é‡Œ init è¿›ç¨‹æ˜¯æ‰€æœ‰è¿›ç¨‹çš„æ ¹èŠ‚ç‚¹ï¼Œä½¿ç”¨pså‘½ä»¤è¿˜èƒ½çœ‹åˆ° init çš„ PID ä¸º 1 ã€‚å½“Linuxå¯åŠ¨çš„æ—¶å€™ï¼Œinit æ˜¯ç³»ç»Ÿåˆ›å»ºçš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼Œè¿™ä¸€è¿›ç¨‹ä¼šä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°æˆ‘ä»¬å…³é—­è®¡ç®—æœºã€‚æ‰€æœ‰å…¶ä»–çš„è¿›ç¨‹éƒ½æ˜¯ç”± init è¿›ç¨‹è¡ç”Ÿå‡ºæ¥çš„ã€‚ çˆ¶è¿›ç¨‹ \u0026 å­è¿›ç¨‹ ä¸Šé¢æåˆ°æ‰€è°“çš„â€œè¡ç”Ÿå‡ºæ¥çš„è¿›ç¨‹â€æ­£æ˜¯ Linux çš„çˆ¶å­è¿›ç¨‹çš„æ¦‚å¿µã€‚å½“æˆ‘ä»¬ç™»å½•ç³»ç»Ÿåï¼Œä¼šå–å¾—ä¸€ä¸ª bash shellï¼Œç„¶åæˆ‘ä»¬åˆ©ç”¨è¿™ä¸ª bash æä¾›çš„æ¥å£å»æ‰§è¡Œå¦ä¸€ä¸ªå‘½ä»¤ï¼Œä¾‹å¦‚ bash æˆ–è€… ps ç­‰ã€‚é‚£äº›å¦å¤–æ‰§è¡Œçš„å‘½ä»¤ä¹Ÿä¼šè¢«è§¦å‘æˆä¸º PIDï¼Œé‚£ä¸ªåæ¥æ‰§è¡Œçš„å‘½ä»¤äº§ç”Ÿçš„ PID å°±æ˜¯â€œå­è¿›ç¨‹â€ï¼Œè€ŒåŸæœ¬çš„ bash ç¯å¢ƒä¸‹ï¼Œå°±ç§°ä¸ºâ€œçˆ¶è¿›ç¨‹â€äº†ã€‚ è€è¿›ç¨‹æˆä¸ºæ–°è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ï¼ˆparent processï¼‰ï¼Œè€Œç›¸åº”çš„ï¼Œæ–°è¿›ç¨‹å°±æ˜¯è€çš„è¿›ç¨‹çš„å­è¿›ç¨‹ï¼ˆchild processï¼‰ã€‚ä¸€ä¸ªè¿›ç¨‹é™¤äº†æœ‰ä¸€ä¸ªPIDä¹‹å¤–ï¼Œè¿˜ä¼šæœ‰ä¸€ä¸ªPPIDï¼ˆparent PIDï¼‰æ¥å­˜å‚¨çš„çˆ¶è¿›ç¨‹ PIDã€‚å¦‚æœæˆ‘ä»¬å¾ªç€ PPID ä¸æ–­å‘ä¸Šè¿½æº¯çš„è¯ï¼Œæ€»ä¼šå‘ç°å…¶æºå¤´æ˜¯ init è¿›ç¨‹ã€‚æ‰€ä»¥è¯´ï¼Œæ‰€æœ‰çš„è¿›ç¨‹ä¹Ÿæ„æˆä¸€ä¸ªä»¥ init ä¸ºæ ¹çš„æ ‘çŠ¶ç»“æ„ã€‚ æˆ‘ä»¬ä½¿ç”¨ ps -o å‘½ä»¤æ¥çœ‹ä¸€çœ‹ç°æœ‰çš„è¿›ç¨‹ã€‚ $ ps -o pid,ppid,comm PID PPID COMMAND 2552 2538 bash 9352 2552 bash 9625 9352 ps æˆ‘æ‰€åšçš„æ“ä½œæ˜¯åœ¨åŸæ¥çš„ bash shell ä¸­æ‰§è¡Œäº† bash å‘½ä»¤ï¼Œç„¶ååˆæ‰§è¡Œäº† ps å‘½ä»¤ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç¬¬äºŒä¸ªè¿›ç¨‹ bash æ˜¯ç¬¬ä¸€ä¸ªè¿›ç¨‹ bash çš„å­è¿›ç¨‹ï¼Œè€Œç¬¬ä¸‰ä¸ªè¿›ç¨‹psæ˜¯ç¬¬äºŒä¸ªè¿›ç¨‹çš„å­è¿›ç¨‹ã€‚ fork \u0026 exec å½“è®¡ç®—æœºå¼€æœºçš„æ—¶å€™ï¼Œå†…æ ¸ï¼ˆkernelï¼‰åªå»ºç«‹äº†ä¸€ä¸ª init è¿›ç¨‹ã€‚Linux kernel å¹¶ä¸æä¾›ç›´æ¥å»ºç«‹æ–°è¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨ã€‚å‰©ä¸‹çš„æ‰€æœ‰è¿›ç¨‹éƒ½æ˜¯ init è¿›ç¨‹é€šè¿‡ fork æœºåˆ¶å»ºç«‹çš„ã€‚æ–°çš„è¿›ç¨‹è¦é€šè¿‡è€çš„è¿›ç¨‹å¤åˆ¶è‡ªèº«å¾—åˆ°ï¼Œè¿™å°±æ˜¯ forkã€‚fork æ˜¯ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ã€‚è¿›ç¨‹å­˜æ´»äºå†…å­˜ä¸­ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨å†…å­˜ä¸­åˆ†é…æœ‰å±äºè‡ªå·±çš„ä¸€ç‰‡ç©ºé—´ (å†…å­˜ç©ºé—´ï¼ŒåŒ…å«æ ˆã€å †ã€å…¨å±€é™æ€åŒºã€æ–‡æœ¬å¸¸é‡åŒºã€ç¨‹åºä»£ç åŒº)ã€‚å½“ä¸€ä¸ªç¨‹åºè°ƒç”¨ fork çš„æ—¶å€™ï¼Œå®é™…ä¸Šå°±æ˜¯å°†ä¸Šé¢çš„å†…å­˜ç©ºé—´ï¼Œåˆå¤åˆ¶å‡ºæ¥ä¸€ä¸ªï¼Œæ„æˆä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œå¹¶åœ¨å†…æ ¸ä¸­ä¸ºè¯¥è¿›ç¨‹åˆ›å»ºæ–°çš„é™„åŠ ä¿¡æ¯ (æ¯”å¦‚æ–°çš„ PIDï¼Œè€Œ PPID ä¸ºåŸè¿›ç¨‹çš„ PID)ã€‚æ­¤åï¼Œä¸¤ä¸ªè¿›ç¨‹åˆ†åˆ«åœ°ç»§ç»­è¿è¡Œä¸‹å»ã€‚æ–°çš„è¿›ç¨‹å’ŒåŸæœ‰è¿›ç¨‹æœ‰ç›¸åŒçš„è¿è¡ŒçŠ¶æ€(ç›¸åŒçš„å˜é‡å€¼ï¼Œç›¸åŒçš„æŒ‡ä»¤â€¦)ã€‚æˆ‘ä»¬åªèƒ½é€šè¿‡è¿›ç¨‹çš„é™„åŠ ä¿¡æ¯æ¥åŒºåˆ†ä¸¤è€…ã€‚ ç¨‹åºè°ƒç”¨ exec çš„æ—¶å€™ï¼Œè¿›ç¨‹æ¸…ç©ºè‡ªèº«çš„å†…å­˜ç©ºé—´ï¼Œå¹¶æ ¹æ®æ–°çš„ç¨‹åºæ–‡ä»¶é‡å»ºç¨‹åºä»£ç ã€æ–‡æœ¬å¸¸é‡ã€å…¨å±€é™æ€ã€å †å’Œæ ˆ(æ­¤æ—¶å †å’Œæ ˆå¤§å°éƒ½ä¸º 0)ï¼Œå¹¶å¼€å§‹è¿è¡Œã€‚ å·¥ä½œç®¡ç† è¿™ä¸ªå·¥ä½œç®¡ç†ï¼ˆjob controlï¼‰æ˜¯ç”¨åœ¨ bash ç¯å¢ƒä¸‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬ç™»å½•ç³»ç»Ÿå–å¾— bash shell ä¹‹åï¼Œåœ¨å•ä¸€ç»ˆç«¯æœºä¸‹å¯ä»¥åŒæ—¶è¿›è¡Œå¤šä¸ªå·¥ä½œçš„è¡Œä¸ºç®¡ç†ã€‚ å‡å¦‚æˆ‘ä»¬åªæœ‰ä¸€ä¸ªç»ˆç«¯ï¼Œå› æ­¤åœ¨å¯ä»¥å‡ºç°æç¤ºç¬¦è®©ä½ æ“ä½œçš„ç¯å¢ƒå°±æˆä¸ºå‰å°ï¼ˆforegroundï¼‰ï¼Œè‡³äºå…¶ä»–å·¥ä½œå°±å¯ä»¥æ”¾åœ¨åå°ï¼ˆbackgroundï¼‰å»æš‚åœæˆ–è¿è¡Œã€‚ å·¥ä½œç®¡ç†çš„æ„ä¹‰åœ¨äºå°†å¤šä¸ªå·¥ä½œå›Šæ‹¬åœ¨ä¸€ä¸ªç»ˆç«¯ï¼Œå¹¶å–å…¶ä¸­çš„ä¸€ä¸ªå·¥ä½œä½œä¸ºå‰å°ï¼Œæ¥ç›´æ¥æ¥æ”¶è¯¥ç»ˆç«¯çš„è¾“å…¥è¾“å‡ºä»¥åŠç»ˆç«¯ä¿¡å·ã€‚ å…¶ä»–å·¥ä½œåœ¨åå°è¿è¡Œã€‚ ç›´æ¥å°†å‘½ä»¤ä¸¢åˆ°åå°æ‰§è¡Œï¼š\u0026 $ping localhost \u003e log \u0026 æ­¤æ—¶ç»ˆç«¯æ˜¾ç¤º: [1] 9800 æ‹¬å·ä¸­çš„ 1 è¡¨ç¤ºå·¥ä½œå·ï¼Œè€Œ 9800 ä¸º PID å°†ç›®å‰çš„å·¥ä½œä¸¢åˆ°åå°ä¸­â€œæš‚åœâ€ï¼š [ctrl]+z $vim ~/.bashrc åœ¨vimçš„æ™®é€šæ¨¡å¼ä¸‹ï¼ŒæŒ‰ä¸‹[ctrl]+zçš„ç»„åˆé”® [2]+ å·²åœæ­¢ vim ~/.bashrc æŸ¥çœ‹ç›®å‰çš„åå°å·¥ä½œçŠ¶æ€ï¼šjobs å…¶å„ä¸ªå‚æ•°çš„å«ä¹‰å¦‚ä¸‹ -l ï¼šåŒæ—¶åˆ—å‡ºPIDçš„å·ç  -rï¼šä»…åˆ—å‡ºæ­£åœ¨åå°runçš„å·¥ä½œ -sï¼šä»…åˆ—å‡ºåœ¨åå°stopçš„å·¥ä½œ ä¾‹å¦‚æˆ‘ä»¬æ‰§è¡Œ $ jobs -l [1]- 9800 è¿è¡Œä¸­ ping localhost \u003e log \u0026 [2]+ 9905 åœæ­¢ vim ~/.bashrc èƒ½çœ‹åˆ°ç›®å‰æœ‰å¤šå°‘ä¸ªå·¥ä½œåœ¨åå°ä¸­ï¼Œå¹¶ä¸”èƒ½çœ‹åˆ°è¿™äº›å·¥ä½œçš„ PIDã€‚ç´§è·Ÿåœ¨ job number åé¢çš„ + ä»£è¡¨æœ€è¿‘æ”¾åˆ°åå°çš„å·¥ä½œï¼Œ- ä»£è¡¨æœ€è¿‘æœ€åç¬¬äºŒä¸ªæ”¾åˆ°åå°çš„å·¥ä½œï¼Œç›´æ¥æ‰§è¡Œfgçš„è¯ä¼šå…ˆå–+çš„ å°†åå°å·¥ä½œæ‹¿åˆ°å‰å°æ¥å¤„ç†ï¼šfg %jobnumber $cat \u003e log \u0026 $fg %1 å½“æˆ‘ä»¬è¿è¡Œç¬¬ä¸€ä¸ªå‘½ä»¤åï¼Œç”±äºå·¥ä½œåœ¨åå°ï¼Œæˆ‘ä»¬æ— æ³•å¯¹å‘½ä»¤è¿›è¡Œè¾“å…¥ï¼Œç›´åˆ°æˆ‘ä»¬å°†å·¥ä½œå¸¦å…¥å‰å°ï¼Œæ‰èƒ½å‘ cat å‘½ä»¤è¾“å…¥ã€‚åœ¨è¾“å…¥å®Œæˆåï¼ŒæŒ‰ä¸‹ CTRL+D æ¥é€šçŸ¥ shell è¾“å…¥ç»“æŸã€‚ è®©å·¥ä½œåœ¨åå°ä¸‹çš„çŠ¶æ€å˜æˆè¿è¡Œä¸­ï¼šbg %jobnumber ç®¡ç†åå°å·¥ä½œä¸­çš„å·¥ä½œï¼škill ä¿¡å·å¯ä»¥é€šè¿‡ kill ä¼ é€’ç»™è¿›ç¨‹ï¼Œä¿¡å·å€¼ä»¥ä¸‹ä¸‰ä¸ªæ¯”è¾ƒé‡è¦ã€‚ -1 é‡æ–°åŠ è½½ ï¼ˆSIGHUPï¼‰ -9 ç«‹åˆ»åˆ é™¤ ï¼ˆSIGKILLï¼‰ -15 æ­£å¸¸ç»ˆæ­¢ï¼ˆSIGTERMï¼‰ å¯ä»¥ä½¿ç”¨ $kill -SIGTERM 9800 æˆ–è€… $kill -15 %1 çš„æ–¹å¼æ¥å‘é€ç»™å·¥ä½œã€‚ä¸Šé¢çš„ä¸¤ä¸ªå‘½ä»¤ï¼Œä¸€ä¸ªæ˜¯å‘é€ç»™ä¿¡å·ç»™ PID 9800 ï¼Œä¸€ä¸ªæ˜¯å‘é€ä¿¡å·å€¼ç»™å·¥ä½œå·1ï¼Œä¸¤è€…ç­‰ä»·ã€‚ ç›‘æ§è¿›ç¨‹çš„å˜åŒ–ï¼štop top æ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„ç¨‹åºæŸ¥çœ‹å·¥å…·ï¼Œä½†ä¸åŒäº ps çš„é™æ€ç»“æœè¾“å‡ºï¼Œtop å¯ä»¥æŒç»­ç›‘æµ‹æ•´ä¸ªç³»ç»Ÿçš„è¿›ç¨‹å·¥ä½œçŠ¶æ€ï¼Œè€Œä¸”åŠŸèƒ½éå¸¸ä¸°å¯Œï¼Œå¯ä»¥åœ¨ top ä¸­è¾“å…¥?æŸ¥çœ‹æ›´å¤šåŠŸèƒ½æŒ‰é”®ã€‚å¸¸ç”¨çš„æœ‰ P ä»¥CPUä½¿ç”¨èµ„æºæ’åºï¼ŒMä»¥ç‰©ç†å†…å­˜ä½¿ç”¨æ’åºã€‚ å¸¸ç”¨çš„å‚æ•°æœ‰-då¯ä»¥ä¿®æ”¹è¿›ç¨‹ç•Œé¢æ›´æ–°çš„ç§’æ•°ï¼Œ-på¯ä»¥æŒ‡å®šæŸäº›ä¸ª PID æ¥è¿›è¡ŒæŸ¥çœ‹ç›‘æµ‹ã€‚ å‚è€ƒèµ„æ–™ é¸Ÿå“¥çš„Linuxç§æˆ¿èœ.åŸºç¡€å­¦ä¹ ç¯‡ ","date":"2014-04-25","objectID":"/posts/77a6d209/:0:0","tags":["linux","è¿›ç¨‹"],"title":"LinuxåŸºç¡€ï¼šè¿›ç¨‹ç®¡ç†","uri":"/posts/77a6d209/"},{"categories":["Linux/Unix"],"content":"åœ¨ Linux ä¸‹ï¼Œæ‰€æœ‰çš„æ–‡ä»¶ä¸ç›®å½•éƒ½æ˜¯ç”±æ ¹ç›®å½•ï¼ˆ/ï¼‰å¼€å§‹çš„ã€‚ç„¶åå†ä¸€ä¸ªä¸€ä¸ªåˆ†æ”¯ä¸‹æ¥ï¼Œå½¢æˆä¸€æ£µç¹æ‚çš„æ ‘ã€‚å› æ­¤æˆ‘ä»¬ä¹Ÿç§°è¿™ç§ç›®å½•é…ç½®æ–¹å¼ä¸ºâ€œç›®å½•æ ‘â€ã€‚é‚£ç›®å½•æ ‘ä¸æ–‡ä»¶ç³»ç»Ÿæœ‰ä»€ä¹ˆå…³ç³»ï¼Œç›®å½•æ ‘æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ ç›®å½• åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œç›®å½•ä¹Ÿæ˜¯ä¸€ç§æ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ $ls -liæ¥æŸ¥çœ‹ä¸€ä¸ªç›®å½•çš„å±æ€§ã€‚ $ls -li /home/user01 141494 drwxr-xr-x 18 user01 user01 4096 12æœˆ 2 2013 hadoop-1.1.1 1715845 drwxrwxr-x 2 user01 user01 4096 7æœˆ 12 09:07 input 1718481 -rw-rw-r-- 1 user01 user01 0 7æœˆ 12 16:11 test.txt 1718478 -rw-r--r-- 1 root root 1780292 6æœˆ 16 19:04 etc.jar.bz2 â€¦â€¦ å…¶ä¸­-iå‚æ•°æ˜¯æ˜¾ç¤ºæ–‡ä»¶çš„ inode å·ã€‚å¯ä»¥çœ‹åˆ°ç¬¬ä¸€åˆ—å°±æ˜¯ç›®å½•/æ–‡ä»¶çš„ inode å·ã€‚å› æ­¤ ext æ–‡ä»¶ç³»ç»Ÿå¯¹äºç›®å½•ä¹Ÿä¼šåƒå¯¹å¾…æ–‡ä»¶ä¸€æ ·åˆ†é…å…¶ inode å—å’Œ block å—ã€‚åªä¸è¿‡ï¼Œåœ¨ç›®å½•ä¸­ inode å—è®°å½•çš„æ˜¯è¯¥ç›®å½•çš„ç›¸å…³æƒé™ä¸å±æ€§ä»¥åŠåˆ†é…åˆ°çš„ block å—å·ç ï¼Œè€Œ block åˆ™è®°å½•çš„æ˜¯è¿™ä¸ªç›®å½•ä¸‹çš„/æ–‡ä»¶å/ä¸è¯¥æ–‡ä»¶åå ç”¨çš„ inode å·ç æ•°æ®ã€‚ æ²¡é”™ï¼Œåœ¨ Linux ä¸­æ–‡ä»¶çš„ inode ä¸­æ˜¯ä¸è®°å½•æ–‡ä»¶åçš„ï¼Œæ–‡ä»¶åæ˜¯è®°å½•åœ¨ç›®å½•çš„ block ä¸­ã€‚å› æ­¤åœ¨æ–°å¢/åˆ é™¤/é‡å‘½åæ–‡ä»¶çš„æ—¶å€™ï¼Œä¸ç›®å½•çš„wæƒé™æœ‰å…³ã€‚å¦ä¸€ä¸ªç›´è§‚çš„æ„Ÿå—å°±æ˜¯ï¼Œä½ å¯ä»¥å¯¹æ­£åœ¨ä½¿ç”¨çš„æ–‡ä»¶æ”¹åï¼Œæ¢ç›®å½•ï¼Œç”šè‡³æ”¾åˆ°åºŸçº¸ç¯“ï¼Œéƒ½ä¸ä¼šå½±å“å½“å‰æ–‡ä»¶çš„ä½¿ç”¨ï¼Œè¿™åœ¨ Windows é‡Œæ˜¯æ— æ³•æƒ³è±¡çš„ã€‚æ¯”å¦‚ä½ æ‰“å¼€ä¸ª Word æ–‡ä»¶ï¼Œç„¶åå¯¹å…¶è¿›è¡Œé‡å‘½åæ“ä½œï¼ŒWindows ä¼šå‘Šè¯‰ä½ å…ˆç»™æˆ‘å…³é—­æ–‡ä»¶ï¼ å½“æˆ‘ä»¬è¯»å–ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨ç›®å½•ä¸­æ‰¾åˆ°äº†è¿™ä¸ªæ–‡ä»¶çš„ inode ç¼–å·ï¼Œç„¶åæ ¹æ® inode ä¸­çš„ block æŒ‡é’ˆï¼ŒæŠŠå„ä¸ª block æ•°æ®å—ç»„åˆèµ·æ¥ï¼Œæ”¾å…¥å†…å­˜ä¾›è¿›ä¸€æ­¥çš„å¤„ç†ã€‚å½“æˆ‘ä»¬å†™å…¥ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œæ˜¯åˆ†é…ä¸€ä¸ªç©ºç™½inodeç»™è¯¥æ–‡ä»¶ï¼Œå°†å…¶inodeç¼–å·è®°å…¥è¯¥æ–‡ä»¶æ‰€å±çš„ç›®å½•ï¼Œç„¶åé€‰å–ç©ºç™½çš„æ•°æ®å—ï¼Œè®©inodeçš„æŒ‡é’ˆæŒ‡åƒè¿™äº›æ•°æ®å—ï¼Œå¹¶æ”¾å…¥å†…å­˜ä¸­çš„æ•°æ®ã€‚ ç¡¬é“¾æ¥ä¸è½¯é“¾æ¥ å½“æ–‡ä»¶å‡ºç°åœ¨ä¸€ä¸ªç›®å½•æ–‡ä»¶ä¸­æ—¶ï¼Œæˆ‘ä»¬å°±æŠŠæ–‡ä»¶æ¥å…¥åˆ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼ˆåœ¨ç›®å½•ä¸­å†™å…¥è¯¥æ–‡ä»¶çš„æ–‡ä»¶åå’Œ inode å·ï¼‰ï¼Œæˆ‘ä»¬ç§°å»ºç«‹ä¸€ä¸ªåˆ°æ–‡ä»¶çš„ç¡¬é“¾æ¥ï¼ˆhard linkï¼‰ã€‚ä¸€ä¸ªæ–‡ä»¶å…è®¸å‡ºç°åœ¨å¤šä¸ªç›®å½•ä¸­ï¼Œè¿™æ ·ï¼Œå®ƒå°±æœ‰å¤šä¸ªç¡¬é“¾æ¥ã€‚å½“ç¡¬é“¾æ¥çš„æ•°ç›®ï¼ˆlink countï¼‰é™ä¸º0æ—¶ï¼Œæ–‡ä»¶ä¼šè¢« Linux åˆ é™¤ã€‚æ‰€ä»¥å¾ˆå¤šæ—¶å€™ï¼Œunlink ä¸ remove åœ¨ Linux æ“ä½œç³»ç»Ÿä¸­æ˜¯ä¸€ä¸ªæ„æ€ã€‚å¼•å…¥ç¡¬é“¾æ¥çš„ç›®çš„æ˜¯ä¸ºäº†â€œå®‰å…¨â€ï¼Œå¦‚æœä½ å°†ä»»ä½•ä¸€ä¸ªâ€œæ–‡ä»¶åâ€åˆ é™¤ï¼Œå…¶å® inode ä¸ block éƒ½è¿˜æ˜¯å­˜åœ¨çš„ã€‚æ­¤æ—¶å¯ä»¥é€šè¿‡å¦ä¸€ä¸ªâ€œæ–‡ä»¶åâ€æ¥è¯»å–åˆ°æ­£ç¡®çš„æ–‡ä»¶æ•°æ®ã€‚æ­¤å¤–ï¼Œä¸è®ºä½ ä½¿ç”¨å“ªä¸ªâ€œæ–‡ä»¶åâ€æ¥ç¼–è¾‘ï¼Œæœ€ç»ˆçš„ç»“æœéƒ½ä¼šå†™å…¥åˆ°ç›¸åŒçš„ inode ä¸ block ä¸­ï¼Œå› æ­¤å‡èƒ½è¿›è¡Œæ•°æ®çš„ä¿®æ”¹ã€‚ è‡³äºè½¯é“¾æ¥ï¼ˆsoft linkï¼‰ï¼Œå…¶å®å°±æ˜¯ Windows ä¸Šçš„å¿«æ·æ–¹å¼ã€‚åŸºæœ¬ä¸Šï¼Œè½¯é“¾æ¥å°±æ˜¯åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„ç‹¬ç«‹çš„æ–‡ä»¶ï¼Œè€Œè¿™ä¸ªæ–‡ä»¶ä¼šè®©æ•°æ®çš„è¯»å–æŒ‡å‘å®ƒè¿æ¥çš„é‚£ä¸ªæ–‡ä»¶çš„æ–‡ä»¶åã€‚ç”±äºåªæ˜¯åˆ©ç”¨æ–‡ä»¶æ¥ä½œä¸ºæŒ‡å‘çš„æ“ä½œï¼Œæ‰€ä»¥ï¼Œå½“æºæ–‡ä»¶è¢«åˆ é™¤åï¼Œè½¯é“¾æ¥çš„æ–‡ä»¶ä¼šæ‰“ä¸å¼€ã€‚ç”±äºè½¯é“¾æ¥ï¼ˆsoft linkï¼‰çš„å¹¿æ³›ä½¿ç”¨ä¸ä¼šå½±å“ link countï¼Œè€Œä¸”å¯ä»¥è·¨è¶Šæ–‡ä»¶ç³»ç»Ÿï¼Œç°åœ¨è¾ƒå°‘æ‰‹åŠ¨å»ºç«‹ç¡¬è¿æ¥ã€‚ åˆ›å»ºç¡¬é“¾æ¥ä¸è½¯é“¾æ¥ä½¿ç”¨ ln å‘½ä»¤å³å¯ã€‚ $ln [-s] æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶ -s : å¦‚æœä¸åŠ ä»»ä½•å‚æ•°å°±æ˜¯ç¡¬é“¾æ¥ï¼ŒåŠ ä¸Š -s å°±æ˜¯è½¯é“¾æ¥ ~$ln -s /etc/crontab . ~$ln /etc/crontab crontab2 ~$ ll -i /etc/crontab ~/crontab ~/crontab2 1310870 -rw-r--r-- 2 root root 722 6æœˆ 15 2012 /etc/crontab 1310870 -rw-r--r-- 2 root root 722 6æœˆ 15 2012 /home/user01/crontab2 1718696 lrwxrwxrwx 1 user01 user01 12 7æœˆ 12 16:42 /home/user01/crontab -\u003e /etc/crontab å¯ä»¥çœ‹åˆ°ç¡¬é“¾æ¥æ–‡ä»¶çš„ inode æ˜¯åŒä¸€ä¸ªï¼Œå¹¶ä¸”è¿æ¥æ•°å˜æˆäº† 2ã€‚è€Œè½¯é“¾æ¥æ˜¯ä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œæ‹¥æœ‰è‡ªå·±çš„ inode å·ã€‚ æ–‡ä»¶ç³»ç»Ÿç®¡ç†å‘½ä»¤ $df åˆ—å‡ºæ–‡ä»¶ç³»ç»Ÿçš„æ•´ä½“ç£ç›˜ä½¿ç”¨é‡ -h ä»¥äººä»¬å®¹æ˜“é˜…è¯»çš„ GB MB KB ç­‰æ ¼å¼è‡ªè¡Œæ˜¾ç¤º -i ä¸ä½¿ç”¨ç¡¬ç›˜å®¹é‡ï¼Œè€Œä»¥ inode çš„æ•°é‡æ˜¾ç¤º $du file/dir è¯„ä¼°ç›®å½•æ‰€å å®¹é‡ -h ä»¥äººä»¬å®¹æ˜“é˜…è¯»çš„ GB MB KB ç­‰æ ¼å¼è‡ªè¡Œæ˜¾ç¤º -s ä»…æ˜¾ç¤ºæ€»è®¡ï¼Œä¸åˆ—å‡ºæ¯ä¸ªå­ç›®å½•çš„å ç”¨å®¹é‡ -m ä»¥ M ä¸ºå•ä½ ä¾‹å¦‚ï¼š $ df -h æ–‡ä»¶ç³»ç»Ÿ å®¹é‡ å·²ç”¨ å¯ç”¨ å·²ç”¨% æŒ‚è½½ç‚¹ /dev/sda1 29G 4.2G 23G 16% / udev 1001M 4.0K 1001M 1% /dev tmpfs 404M 792K 403M 1% /run none 5.0M 0 5.0M 0% /run/lock none 1009M 152K 1009M 1% /run/shm none 100M 28K 100M 1% /run/user $ du -sh /home/user01/ 1.1G /home/user01/ æ€»ç»“ ä¸»è¦æ¦‚æ‹¬æ€§æ€»ç»“äº†ç›®å½•æ–‡ä»¶çš„æ„æˆï¼Œä»¥åŠä¸æ™®é€šæ–‡ä»¶ä¹‹é—´çš„å…³ç³»ã€‚è®²è§£äº†ç¡¬é“¾æ¥å’Œè½¯é“¾æ¥ï¼Œä»¥åŠ df du å‘½ä»¤ã€‚ Linux æ˜¯ä¸€ä¸ªæ–‡ä»¶ç‹å›½ï¼Œä¸€åˆ‡éƒ½ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ã€‚äº†è§£ Linux çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ˜¯æ·±å…¥äº†è§£æ“ä½œç³» Linux åŸç†çš„é‡è¦ä¸€æ­¥ã€‚ å‚è€ƒèµ„æ–™ é¸Ÿå“¥çš„Linuxç§æˆ¿èœ.åŸºç¡€å­¦ä¹ ç¯‡ ","date":"2014-04-20","objectID":"/posts/5cd91fbc/:0:0","tags":["linux","æ–‡ä»¶"],"title":"LinuxåŸºç¡€ï¼šæ–‡ä»¶ç®¡ç†","uri":"/posts/5cd91fbc/"},{"categories":["Linux/Unix"],"content":"æˆ‘ä»¬çŸ¥é“ä¸åŒçš„æ“ä½œç³»ç»Ÿæ‰€ä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚ä¸¾ä¾‹æ¥è¯´ï¼ŒWindows 98 ä»¥å‰æ‰€ä½¿ç”¨çš„æ˜¯æ–‡ä»¶ç³»ç»Ÿæ˜¯ FATï¼ŒWindows 2000 ä»¥åçš„ç‰ˆæœ¬æœ‰æ‰€è°“çš„ NTFS æ–‡ä»¶ç³»ç»Ÿã€‚è‡³äº Linux çš„æ­£è§„æ–‡ä»¶ç³»ç»Ÿåˆ™ä¸º Ext2ï¼ˆLinux second extended file systemï¼ŒExt2fsï¼‰ã€‚ä¹‹ååˆå‡ºç°äº†æ”¹è¿›ç‰ˆçš„ Ext3 å’Œ Ext4 ï¼Œæ€»ä½“ä¸Šå˜åŒ–ä¸å¤§ã€‚ æ–‡ä»¶ç³»ç»Ÿçš„å¯¹æ¯” æˆ‘ä»¬ç»å¸¸å¬è¯´ Windows éœ€è¦ç£ç›˜ç¢ç‰‡æ•´ç†ï¼Œè€Œ Linux å´ä¸éœ€è¦ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ æˆ‘ä»¬å¯ä»¥å…ˆçœ‹çœ‹ Ext2 æ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®è®¿é—®æ–¹å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å‡è®¾ä¸€ä¸ªæ–‡ä»¶çš„å±æ€§å’Œæƒé™ä¿¡æ¯æ˜¯å­˜æ”¾åœ¨ 3 å·çš„ inode ä¸Šï¼Œè€Œæ–‡ä»¶çš„å®é™…æ•°æ®æ˜¯å­˜æ”¾åœ¨ 1ã€4ã€6ã€11 è¿™å››ä¸ª block ä¸­ï¼Œé‚£ä¹ˆå½“æ“ä½œç³»ç»Ÿè¦è®¿é—®è¯¥æ–‡ä»¶æ—¶ï¼Œå°±èƒ½æ®æ­¤æ¥æ’åˆ—ç£ç›˜çš„é˜…è¯»é¡ºåºï¼Œå¯ä»¥æ‰«æä¸€æ¬¡å°±å°† 4 ä¸ª block å†…å®¹è¯»å‡ºæ¥ã€‚è¿™ç§è®¿é—®æ–¹å¼ç§°ä¸ºç´¢å¼•å¼æ–‡ä»¶ç³»ç»Ÿï¼ˆindexed allocationï¼‰ã€‚è€Œä¸” ext åœ¨æ¯ä¸¤ä¸ªæ–‡ä»¶ä¹‹é—´éƒ½ç•™æœ‰ç›¸å½“å·¨å¤§çš„ç©ºé—²ç©ºé—´ã€‚å½“æ–‡ä»¶è¢«ä¿®æ”¹ã€ä½“ç§¯å¢åŠ æ—¶ï¼Œå®ƒä»¬é€šå¸¸æœ‰è¶³å¤Ÿçš„ç©ºé—´æ¥æ‰©å±•ã€‚å› æ­¤åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¿è¯äº† block çš„è®¿é—®èŒƒå›´ä¸ä¼šè·¨åº¦å¾ˆå¤§ï¼Œå‡å°äº†ç£å¤´çš„ç§»åŠ¨è·ç¦»ã€‚ é‚£ Windows çš„æ–‡ä»¶ç³»ç»Ÿæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ æˆ‘ä»¬ä»¥ FAT ä¸ºä¾‹è¯´æ˜ã€‚ åœ¨å¾€ FAT æ–‡ä»¶ç³»ç»Ÿä¸­å­˜å…¥ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œç³»ç»Ÿä¼šå°½é‡å­˜æ”¾åœ¨é è¿‘ç£ç›˜å¼€å§‹çš„åœ°æ–¹ã€‚å½“ä½ å­˜å…¥ç¬¬äºŒä¸ªæ–‡ä»¶æ—¶ï¼Œå®ƒä¼šç´§æŒ¨ç€ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚å½“è¿›è¡Œé¢‘ç¹çš„åˆ é™¤ä¿®æ”¹åï¼Œblock å°±ä¼šåˆ†æ•£çš„ç‰¹åˆ«å‰å®³ã€‚FAT æ–‡ä»¶ç³»ç»Ÿæ²¡æœ‰ inode çš„å­˜åœ¨ï¼Œæ‰€ä»¥ä¸èƒ½ä¸€ä¸‹å­å°†æ–‡ä»¶çš„æ‰€æœ‰ block åœ¨ä¸€å¼€å§‹å°±è¯»å–å‡ºæ¥ã€‚æ¯ä¸ª block å·ç éƒ½è®°å½•åœ¨å‰ä¸€ä¸ª block å½“ä¸­ï¼Œå½¢æˆä¸€ä¸ª block é“¾ã€‚å½“æˆ‘ä»¬éœ€è¦è¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼Œå°±å¿…é¡»ä¸€ä¸ªä¸€ä¸ªåœ°å°† block è¯»å‡ºï¼Œä¾‹å¦‚ä¸Šå›¾çš„è¯»å‡ºé¡ºåºä¸º 1ã€6ã€3ã€12 ã€‚è¿™å°±ä¼šå¯¼è‡´ç£å¤´æ— æ³•åœ¨ç£ç›˜è½¬ä¸€åœˆå°±è·å¾—æ‰€æœ‰æ•°æ®ï¼Œæœ‰æ—¶å€™éœ€è¦æ¥å›è½¬å¥½å‡ åœˆæ‰èƒ½è¯»å–åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œå¯¼è‡´æ–‡ä»¶è¯»å–æ€§èƒ½æå·®ã€‚è¿™å°±æ˜¯ Windows ç»å¸¸éœ€è¦ç¢ç‰‡æ•´ç†çš„åŸå› â€”â€”ä½¿ç¦»æ•£çš„æ•°æ®æ±‡åˆåœ¨ä¸€èµ· è€Œ NTFS æ–‡ä»¶ç³»ç»Ÿè™½ç„¶æ™ºèƒ½äº†ä¸€ç‚¹ï¼Œåœ¨æ–‡ä»¶å‘¨å›´åˆ†é…äº†ä¸€äº›â€œç¼“å†²â€çš„ç©ºé—´ï¼Œä½†ç»è¿‡ä¸€æ®µæ—¶é—´çš„ä½¿ç”¨åï¼Œ NTFS æ–‡ä»¶ç³»ç»Ÿè¿˜æ˜¯ä¼šå½¢æˆç¢ç‰‡ã€‚ç”±äº ext æ˜¯ç´¢å¼•å¼æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šä¸å¤ªéœ€è¦ç»å¸¸è¿›è¡Œç£ç›˜ç¢ç‰‡æ•´ç†ã€‚ ext2/ext3 æ–‡ä»¶ç³»ç»Ÿ æˆ‘ä»¬çŸ¥é“æ–‡ä»¶æ•°æ®é™¤äº†æ–‡ä»¶çš„å®é™…å†…å®¹å¤–ï¼Œé€šå¸¸è¿˜åŒ…æ‹¬éå¸¸å¤šçš„å±æ€§ï¼Œä¾‹å¦‚ Linux ä¸­çš„æ–‡ä»¶æƒé™ï¼ˆrwxï¼‰å’Œæ–‡ä»¶å±æ€§ï¼ˆæ‹¥æœ‰è€…ã€ç”¨æˆ·ç»„ã€æ—¶é—´ã€å¤§å°ç­‰ï¼‰ã€‚ext æ–‡ä»¶ç³»ç»Ÿå°†è¿™ä¸¤éƒ¨åˆ†å­˜æ”¾åœ¨ä¸åŒçš„å—ï¼Œæƒé™å’Œå±æ€§å­˜æ”¾åœ¨ inode ä¸­ï¼Œè‡³äºæ–‡ä»¶çš„å®é™…æ•°æ®åˆ™å­˜æ”¾åœ¨ block å—ä¸­ã€‚å¦å¤–è¿˜æœ‰ä¸€ä¸ªè¶…çº§å—ï¼ˆsuper blockï¼‰ä¼šè®°å½•æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„æ•´ä½“ç³»ç»Ÿã€‚æ¯ä¸ª inode å’Œ block éƒ½æœ‰è‡ªå·±çš„ç¼–å·ã€‚ ext æ–‡ä»¶ç³»ç»Ÿåœ¨æ ¼å¼åŒ–çš„æ—¶å€™åŸºæœ¬ä¸Šæ˜¯åŒºåˆ†ä¸ºå¤šä¸ªå—ç»„ï¼ˆblock groupï¼‰çš„ï¼Œæ¯ä¸ªå—ç»„éƒ½æœ‰ç‹¬ç«‹çš„ inode/block/super block ç³»ç»Ÿã€‚å…¶æ•´ä½“å±•ç¤ºå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š å…¶ä¸­å„ä¸ªå—çš„å«ä¹‰å¦‚ä¸‹ï¼š super blockï¼šè®°å½•æ­¤æ–‡ä»¶ç³»ç»Ÿçš„æ•´ä½“ç³»ç»Ÿï¼ŒåŒ…æ‹¬ inode å’Œ block çš„æ€»é‡ã€ä½¿ç”¨é‡ã€å‰©ä½™é‡ï¼Œä»¥åŠæ–‡ä»¶ç³»ç»Ÿç±»å‹ç­‰ã€‚ file system descriptionï¼šæ–‡ä»¶ç³»ç»Ÿæè¿°è¯´æ˜ã€‚æè¿°æ¯ä¸ª block group çš„å¼€å§‹ä¸ç»“æŸçš„ block å·ç ã€‚ block bitmapï¼šå—å¯¹ç…§è¡¨ã€‚ç”¨æ¥å¿«é€Ÿå¯»æ‰¾å¯ç”¨çš„ block å—ã€‚ inode bitmapï¼šinodeå¯¹ç…§è¡¨ã€‚ç”¨æ¥å¿«é€Ÿå¯»æ‰¾å¯ç”¨çš„ inode å—ã€‚ inode tableï¼šå­˜æ”¾ inode å—çš„åœ°æ–¹ã€‚å®ƒä»¬æ˜¯æ–‡ä»¶ç³»ç»Ÿçš„å…³é”®ã€‚è®°å½•äº†æ–‡ä»¶çš„å±æ€§ï¼Œä¸€ä¸ªæ–‡ä»¶å ç”¨ä¸€ä¸ª inodeï¼ŒåŒæ—¶åŒ…å«å¤šä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘äº†å±äºè¯¥æ–‡ä»¶çš„å„ä¸ª data block å— data blockï¼šçœŸæ­£å­˜æ”¾æ•°æ®çš„åœ°æ–¹ã€‚æ–‡ä»¶å¤ªå¤§ä¼šå ç”¨å¤šä¸ª block ã€‚ ##æ€»ç»“ æœ¬èŠ‚ä¸»è¦è®²è¿°äº† ext2/ext3 ä¸å…¶ä»–æ–‡ä»¶ç³»ç»Ÿçš„åŒºåˆ«ï¼Œä»¥åŠä¸ç”¨ç£ç›˜ç¢ç‰‡æ•´ç†çš„åŸç†ã€‚ç„¶åå¯¹ ext æ–‡ä»¶ç³»ç»Ÿçš„ä½“ç³»ç»“æ„è¿›è¡Œäº†å‰–æï¼Œè¯´æ˜äº†å„ä¸ªæ•°æ®å—çš„æ„ä¹‰ã€‚é‡ç‚¹æ˜¯äº†è§£ inode å’Œ block åœ¨ Linux ä¸­æ‰€æ‰®æ¼”çš„ä¸åŒè§’è‰²ä»¥åŠé‡è¦æ„ä¹‰ã€‚ Linux æ˜¯ä¸€ä¸ªæ–‡ä»¶ç‹å›½ï¼Œä¸€åˆ‡éƒ½ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ã€‚äº†è§£Linuxçš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ˜¯æ·±å…¥äº†è§£æ“ä½œç³»LinuxåŸç†çš„é‡è¦ä¸€æ­¥ã€‚ å‚è€ƒèµ„æ–™ é¸Ÿå“¥çš„Linuxç§æˆ¿èœ.åŸºç¡€å­¦ä¹ ç¯‡ ","date":"2014-04-16","objectID":"/posts/e916aedd/:0:0","tags":["linux","æ–‡ä»¶"],"title":"LinuxåŸºç¡€ï¼šæ–‡ä»¶ç³»ç»Ÿ","uri":"/posts/e916aedd/"},{"categories":["Linux/Unix"],"content":"ç”¨æˆ·ä¸ç”¨æˆ·ç»„ Linux æ˜¯ä¸€ä¸ªå¤šç”¨æˆ·ã€å¤šä»»åŠ¡çš„ç³»ç»Ÿï¼Œå¸¸å¸¸æœ‰å¤šäººåŒæ—¶ä½¿ç”¨ä¸€å°æœºå·¥ä½œï¼Œä¸ºäº†ä¿æŠ¤æ¯ä¸ªäººçš„éšç§æƒï¼Œâ€œæ–‡ä»¶æ‰€æœ‰è€…â€çš„è§’è‰²å°±æ˜¾å¾—ç›¸å½“é‡è¦äº†ã€‚ å½“Linuxç”¨æˆ·ç™»å½•ç³»ç»Ÿä¹‹åï¼Œå°±ä¼šæºå¸¦ä¸€ä¸ªç”¨æˆ·èº«ä»½ï¼ˆUser IDï¼ŒUIDï¼‰å’Œä¸€ä¸ªç”¨æˆ·ç»„èº«ä»½ï¼ˆGroup IDï¼ŒGIDï¼‰ï¼Œç›¸å½“äºè‡ªå·±çš„åç‰‡ã€‚å½“éœ€è¦è®¿é—®æ–‡ä»¶æˆ–ç¨‹åºæ—¶ï¼Œåˆ·ä¸€ä¸‹åç‰‡å°±èƒ½çŸ¥é“æ˜¯å¦èƒ½è¯»ã€å†™ã€æ‰§è¡Œäº†ã€‚ ä¸€èˆ¬æ¥è¯´ï¼ŒLinuxçš„ç”¨æˆ·ä¿¡æ¯ä¿å­˜åœ¨/etc/passwdä¸­ï¼Œç»„ä¿¡æ¯ä¿å­˜åœ¨/etc/groupä¸­ï¼Œæ–‡ä»¶çš„æ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªç”¨æˆ·/ç»„ã€‚æ—©æœŸçš„Linuxå°†å¯†ç ä»¥æ˜æ–‡çš„å½¢å¼ä¿å­˜åœ¨/etc/passwdä¸­ï¼Œè€Œç°åœ¨åˆ™å¤šä»¥æš—ç (ä¹Ÿå°±æ˜¯åŠ å¯†ä¹‹åçš„å½¢å¼)çš„å½¢å¼ä¿å­˜åœ¨/etc/shadowä¸­ã€‚å°†å¯†ç å­˜å‚¨åœ¨/etc/shadowä¸­æé«˜äº†å¯†ç çš„å®‰å…¨æ€§ï¼Œå› ä¸º/etc/passwdå…è®¸æ‰€æœ‰äººæŸ¥çœ‹ï¼Œè€Œ/etc/shadowåªå…è®¸rootç”¨æˆ·æŸ¥çœ‹ã€‚ æ–‡ä»¶å±æ€§ è¦äº†è§£Linuxçš„æƒé™æ§åˆ¶å°±å¿…é¡»å­¦ä¹ Linuxçš„æ–‡ä»¶æƒé™å’Œå±æ€§ã€‚å¯ä»¥ç”¨lså‘½ä»¤æŸ¥è¯¢æ–‡ä»¶ä¿¡æ¯ï¼ˆ$ls -lï¼‰ï¼Œå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š $ ls -l ~/input æ€»ç”¨é‡ 36 drwxrwxr-x 2 user01 user01 4096 7æœˆ 10 21:45 ./ drwxr-xr-x 30 user01 user01 4096 7æœˆ 12 08:58 ../ -rw-rw-r-- 1 user01 user01 46 6æœˆ 16 20:31 a.txt lrwxrwxrwx 1 user01 user01 4 6æœˆ 16 16:03 b.txt -\u003e a.txt [ æƒé™ ][è¿æ¥æ•°][æ‹¥æœ‰è€…][ç”¨æˆ·ç»„][æ–‡ä»¶å®¹é‡][ ä¿®æ”¹æ—¥æœŸ ] [æ–‡ä»¶å] æˆ‘ä»¬ä»¥ a.txt æ–‡ä»¶ä¸ºä¾‹ä»‹ç»å„ä¸ªéƒ¨åˆ†çš„å«ä¹‰ï¼š ç¬¬ä¸€åˆ—ä»£è¡¨æ–‡ä»¶æƒé™ã€‚å®ƒç”±åä¸ªå­—ç¬¦ç»„æˆã€‚é¦–å…ˆä»‹ç»ç¬¬ä¸€ä¸ªå­—ç¬¦çš„-ï¼Œå®ƒè¡¨ç¤ºæ–‡ä»¶ç±»å‹ï¼Œè¯´æ˜ a.txt æ˜¯å¸¸è§„æ–‡ä»¶(å¦‚æœæ˜¯ç›®å½•æ–‡ä»¶åˆ™åº”æ˜¾ç¤º dï¼Œå¦‚æœæ˜¯ l åˆ™æ˜¯è½¯é“¾æ¥æ–‡ä»¶)ã€‚éšåæœ‰ä¹ä¸ªå­—ç¬¦ï¼Œä¸ºrw-rw-râ€“ï¼Œå®ƒä»¬ç”¨äºè¡¨ç¤ºæ–‡ä»¶æƒé™ã€‚è¿™ä¹ä¸ªå­—ç¬¦åˆ†ä¸ºä¸‰ç»„ï¼Œrw-,rw-, râ€“ï¼Œåˆ†åˆ«å¯¹åº”æ‹¥æœ‰è€…(owner)ï¼Œæ‰€å±ç”¨æˆ·ç»„(owner group)å’Œæ‰€æœ‰å…¶ä»–äºº(other)ã€‚å›é¡¾ Linux çš„å¯åŠ¨æµç¨‹ï¼Œç™»å½•åï¼Œæˆ‘ä»¬ä¼šæœ‰ä¸€ä¸ªç”¨æˆ·èº«ä»½å’Œä¸€ä¸ªç»„èº«ä»½, ç›¸å½“äºæˆ‘çš„èº«ä»½è¯ã€‚ç¬¬ä¸€ç»„è¡¨ç¤ºï¼Œå¦‚æœæˆ‘çš„èº«ä»½è¯ä¸Šçš„ç”¨æˆ·èº«ä»½è¯æ˜æˆ‘æ˜¯è¯¥æ–‡ä»¶çš„æ‹¥æœ‰è€…ï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥å¯¹è¯¥æ–‡ä»¶æœ‰è¯»å–(r)ï¼Œå†™å…¥(w)è¯¥æ–‡ä»¶çš„æƒé™ï¼Œä½†ä¸æ‹¥æœ‰æ‰§è¡Œ(x)è¯¥æ–‡ä»¶çš„æƒé™ã€‚å¦‚æœä¸æ‹¥æœ‰æŸé¡¹æƒé™ï¼Œä¼šåœ¨å¯¹åº”çš„ä½ç½®ä¸Šå‡ºç°å‡å·(-)ã€‚ç¬¬äºŒç»„è¡¨ç¤ºï¼Œå¦‚æœæˆ‘çš„åç‰‡ä¸Šçš„ç»„èº«ä»½è¯æ˜æˆ‘æ‰€åœ¨çš„ç»„æ˜¯è¯¥æ–‡ä»¶çš„æ‰€å±ç”¨æˆ·ç»„çš„ä¸€å‘˜ï¼Œé‚£ä¹ˆæˆ‘æœ‰ä»è¯¥æ–‡ä»¶è¯»å…¥å’Œå†™å…¥çš„æƒé™ã€‚ç¬¬ä¸‰ç»„è¡¨ç¤ºï¼Œå¦‚æœæˆ‘çš„åç‰‡æ˜¾ç¤ºæˆ‘æ—¢ä¸æ˜¯æ‹¥æœ‰è€…ï¼Œä¹Ÿä¸æ˜¯æ‹¥æœ‰ç»„çš„ä¸€å‘˜ï¼Œé‚£ä¹ˆæˆ‘åªæœ‰è¯»å…¥çš„æƒé™ã€‚å½“æˆ‘æƒ³è¦è¿›è¡Œä¸€ä¸ªè¯»å–æ“ä½œæ—¶ï¼ŒLinuxä¼šå…ˆçœ‹æˆ‘æ˜¯å¦æ˜¯æ‹¥æœ‰è€…ã€‚ ç¬¬äºŒåˆ—ä»£è¡¨æœ‰å¤šå°‘æ–‡ä»¶åè¿æ¥åˆ°æ­¤èŠ‚ç‚¹ï¼ˆi-nodeï¼‰ã€‚æ¯ä¸ªæ–‡ä»¶éƒ½å°†å®ƒçš„æƒé™å’Œå±æ€§è®°å½•åˆ°æ–‡ä»¶ç³»ç»Ÿçš„ inode ä¸­ï¼Œä¸è¿‡æ–‡ä»¶åå´æ˜¯å­˜æ”¾åœ¨ç›®å½•æ–‡ä»¶ä¸­çš„ã€‚å› æ­¤ä¼šæœ‰å¤šä¸ªæ–‡ä»¶åè¿æ¥åˆ°ä¸€ä¸ª inode çš„æƒ…å†µï¼Œè¿™å°±æ˜¯ç¡¬é“¾æ¥ï¼Œè€Œè¯¥åˆ—å°±æ˜¯æŒ‡çš„ç¡¬é“¾æ¥æ•°ã€‚ ç¬¬ä¸‰åˆ—è¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶ï¼ˆæˆ–ç›®å½•ï¼‰çš„æ‹¥æœ‰è€…ã€‚ ç¬¬å››åˆ—è¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶ï¼ˆæˆ–ç›®å½•ï¼‰çš„æ‰€å±ç”¨æˆ·ç»„ã€‚ ç¬¬äº”åˆ—è¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶çš„å¤§å°ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼ˆbyteï¼‰ã€‚å…¶ä¸­è½¯é“¾æ¥æ–‡ä»¶ï¼ˆä¸Šé¢çš„ b.txt æ–‡ä»¶ï¼‰çš„å¤§å°æ­£å¥½æ˜¯ç›®æ ‡æ–‡ä»¶çš„å­—ç¬¦æ•°ã€‚è‡³äºç›®å½•ä¹Ÿæ˜¯ä¸€ç§æ–‡ä»¶ï¼Œæœ‰è¶£çš„æ˜¯å¤§éƒ¨åˆ†ç›®å½•æ‰€å çš„å¤§å°éƒ½æ˜¯ 1Kã€2Kã€4K çš„å€æ•°ã€‚ ç¬¬å…­åˆ—è¡¨ç¤ºæ–‡ä»¶çš„æœ€è¿‘ä¿®æ”¹æ—¶é—´ã€‚å…¶å®æ–‡ä»¶å±æ€§ä¸­è¿˜åŒ…æ‹¬åˆ›å»ºæ—¶é—´å’Œæœ€è¿‘è¯»å–æ—¶é—´ï¼Œåªæ˜¯å¹¶æœªæ˜¾ç¤ºå‡ºæ¥ã€‚ ç¬¬ä¸ƒåˆ—ä¸ºè¯¥æ–‡ä»¶çš„æ–‡ä»¶åã€‚ æ”¹å˜æ–‡ä»¶å±æ€§å’Œæƒé™ æˆ‘ä»¬å·²ç»çŸ¥é“æ–‡ä»¶æƒé™å¯¹äºä¸€ä¸ªç³»ç»Ÿçš„é‡è¦æ€§äº†ï¼Œä½†å¦‚ä½•å¯¹æ–‡ä»¶çš„å±æ€§å’Œæƒé™è¿›è¡Œä¿®æ”¹å‘¢ï¼Ÿè¿™é‡Œä¸»è¦ç”¨åˆ°ä¸‰ä¸ªå‘½ä»¤ï¼šchgrpã€chownã€chmodï¼Œåˆ†åˆ«å¯¹åº”ä¿®æ”¹ç”¨æˆ·ç»„ã€æ‹¥æœ‰è€…å’Œæ–‡ä»¶æƒé™ã€‚ æ”¹å˜æ‰€å±ç”¨æˆ·ç»„ï¼šchgrp $ chgrp ç»„å æ–‡ä»¶æˆ–ç›®å½• $ chgrp users a.txt æ”¹å˜æ–‡ä»¶æ‰€æœ‰è€…ï¼šchown $ chown è´¦å·åç§° æ–‡ä»¶æˆ–ç›®å½• $ chown è´¦å·åç§°:ç»„å æ–‡ä»¶æˆ–ç›®å½• $ chown root:root a.txt æ”¹å˜æ–‡ä»¶æƒé™ï¼šchmod Linuxä¸­çš„æ¯ç§èº«ä»½ï¼ˆownã€groupã€otherï¼‰æ‹¥æœ‰ä¸€ä¸ªæƒé™ä¸‰å…ƒç»„ï¼ˆrwxï¼‰ã€‚æ¯ä¸€ä¸ªæƒé™ç»„å¯ä»¥ç”¨ä¸€ä¸ªä¸‰ä½çš„äºŒè¿›åˆ¶æ¥è¡¨ç¤ºï¼Œæ‹¥æœ‰å¯¹åº”æƒé™çš„åˆ™åœ¨ç›¸åº”ä½ä¸Šç½®1ã€‚ä¾‹å¦‚-rw-rw-râ€“å³ä»£è¡¨ 664 çš„æ„æ€ã€‚å¦‚æœæˆ‘ä»¬æƒ³å°†è¯¥æ–‡ä»¶æ”¹æˆ-rwxrwxâ€”çš„æƒé™ï¼Œå°±å°†å…¶æƒé™åˆ†æ•°æ”¹æˆ 770 å³å¯ã€‚ $ chmod 770 a.txt $ ls -l a.txt -rwxrwx--- 1 root root 46 6æœˆ 16 20:31 a.txt é»˜è®¤æƒé™umask å½“æˆ‘ä»¬åˆ›å»ºæ–‡ä»¶çš„æ—¶å€™ï¼Œæ¯”å¦‚ä½¿ç”¨touchï¼Œå®ƒä¼šå°è¯•å°†æ–°å»ºæ–‡ä»¶åˆ›å»ºä¸ºæƒé™666ï¼Œä¹Ÿå°±æ˜¯ rw-rw-rw-ã€‚ä½†æ“ä½œç³»ç»Ÿè¦å‚ç…§æƒé™ mask æ¥çœ‹æ˜¯å¦çœŸæ­£å°†æ–‡ä»¶åˆ›å»ºä¸º666ã€‚æƒé™ mask è¡¨ç¤ºæ“ä½œç³»ç»Ÿä¸å…è®¸è®¾ç½®çš„æƒé™ä½ï¼Œæ¯”å¦‚è¯´037(â€”â€”wxrwx)çš„æƒé™ mask æ„å‘³ç€ä¸å…è®¸è®¾ç½®è®¾ç½® group çš„ wx ä½å’Œ other çš„ rwx ä½ã€‚å¦‚æœæ˜¯è¿™ä¸ªæƒé™ mask çš„è¯ï¼Œæœ€ç»ˆçš„æ–‡ä»¶æƒé™æ˜¯ rw-râ€”â€”- ( group çš„ w ä½å’Œ other çš„ rw ä½è¢« mask )ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡ $umask 022 çš„æ–¹å¼æ”¹å˜æƒé™maskã€‚ä»…è¾“å…¥umaskæ˜¯æŸ¥è¯¢é»˜è®¤ mask çš„æ„æ€ã€‚ æ€»ç»“ Linux ä¸­çš„æƒé™ç®¡ç†éå¸¸å¤æ‚ï¼Œå°¤å…¶æ˜¯æ¶‰åŠè¿›ç¨‹çš„æ—¶å€™ï¼Œæœ‰æ—¶ä¼šæœ‰æƒé™çš„åˆ‡æ¢ã€‚è¿™éƒ¨åˆ†å¾…åˆ°ä»¥åå†è¯´ã€‚ä¸è¿‡Linuxçš„æƒé™ç®¡ç†éƒ½æ˜¯åŸºäºæ–‡ä»¶çš„å±æ€§å’Œæƒé™çš„ï¼Œå› æ­¤å­¦ä¹ äº†è§£ Linux çš„æ–‡ä»¶ç³»ç»Ÿéå¸¸é‡è¦ã€‚ å‚è€ƒèµ„æ–™ é¸Ÿå“¥çš„Linuxç§æˆ¿èœ.åŸºç¡€å­¦ä¹ ç¯‡ ","date":"2014-04-05","objectID":"/posts/4119ba0a/:0:0","tags":["linux","æƒé™"],"title":"LinuxåŸºç¡€ï¼šæƒé™ä¸æ–‡ä»¶","uri":"/posts/4119ba0a/"},{"categories":["Linux/Unix"],"content":"è®¡ç®—æœºçš„å¯åŠ¨æ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„è¿‡ç¨‹ï¼Œä»æ‰“å¼€ç”µæºåˆ°æ¡Œé¢çš„æ˜¾ç¤ºï¼Œéœ€è¦ç»è¿‡ä¸€ç³»åˆ—ä¸å¯æˆ–ç¼ºçš„è¿‡ç¨‹ï¼Œäº†è§£è¿™äº›è¿‡ç¨‹æœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½åœ°ç†è§£æ“ä½œç³»ç»Ÿï¼Œä¹Ÿæœ‰åŠ©äºæˆ‘ä»¬ä¿®å¤ç³»ç»Ÿå¯èƒ½å‡ºç°çš„é—®é¢˜ã€‚ å¯åŠ¨æµç¨‹ä¸€è§ˆ æˆ‘ä»¬å…ˆç»™å‡º Linux å¯åŠ¨æµç¨‹çš„æ€»è§ˆå›¾ï¼Œç„¶åå†æ¯ä¸€ä¸ªæ¨¡å—å±•å¼€è¯´æ˜ã€‚ BIOS å½“æˆ‘ä»¬æŒ‰ä¸‹ç”µæºæŒ‰é”®åï¼Œè®¡ç®—æœºç¡¬ä»¶ä¼šè‡ªåŠ¨è¯»å–ä¸»æ¿ä¸Šçš„BIOSï¼ˆBasic Input/Output Systemï¼‰æ¥åŠ è½½ç¡¬ä»¶ä¿¡æ¯ä»¥åŠç¡¬ä»¶ç³»ç»Ÿçš„è‡ªæˆ‘æµ‹è¯•ã€‚BIOSä¹Ÿæ˜¯ä¸€å¥—ç¨‹åºï¼Œå®ƒçŸ¥é“å¦‚ä½•ä¸ç¡¬ä»¶è¿›è¡Œäº¤äº’ã€‚BIOSé¦–å…ˆä¼šå¯¹ç¡¬ä»¶è¿›è¡Œæ£€æŸ¥ï¼Œåˆ¤æ–­è®¡ç®—æœºç¡¬ä»¶æ˜¯å¦èƒ½æ»¡è¶³è¿è¡Œçš„åŸºæœ¬æ¡ä»¶ï¼Œè¿™å«åšâ€œç¡¬ä»¶è‡ªæ£€â€ï¼ˆPower-On Self-Testï¼Œç®€ç§° POSTï¼‰ã€‚ ç¡¬ä»¶è‡ªæ£€åï¼ŒBIOS ä¼šå°†æ§åˆ¶æƒäº¤ç»™ä¸‹ä¸€æ®µå¯åŠ¨ç¨‹åºã€‚è¿™æ—¶ï¼ŒBIOSéœ€è¦çŸ¥é“ï¼Œâ€ä¸‹ä¸€é˜¶æ®µçš„å¯åŠ¨ç¨‹åºâ€å…·ä½“å­˜æ”¾åœ¨å“ªä¸€ä¸ªè®¾å¤‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒBIOSéœ€è¦æœ‰ä¸€ä¸ªå¤–éƒ¨å­˜å‚¨è®¾å¤‡çš„æ’åºï¼Œæ’åœ¨å‰é¢çš„è®¾å¤‡å°±æ˜¯ä¼˜å…ˆè½¬äº¤æ§åˆ¶æƒçš„è®¾å¤‡ã€‚è¿™ç§æ’åºå«åšâ€å¯åŠ¨é¡ºåºâ€ï¼ˆBoot Sequenceï¼‰ã€‚ å› æ­¤ï¼ŒBIOSæŒ‰ç…§â€å¯åŠ¨é¡ºåºâ€ï¼ŒæŠŠæ§åˆ¶æƒè½¬äº¤ç»™æ’åœ¨ç¬¬ä¸€ä½çš„å­˜å‚¨è®¾å¤‡ã€‚ MBR ç³»ç»Ÿè¯»å–ä½åˆ—ç¬¬ä¸€çš„å¯å¯åŠ¨å­˜å‚¨è®¾å¤‡ã€‚è®¡ç®—æœºå…ˆè¯»å–è¯¥è®¾å¤‡çš„ç¬¬ä¸€ä¸ªæ‰‡åŒºï¼Œä¹Ÿå°±æ˜¯è¯»å–æœ€å‰é¢çš„512ä¸ªå­—èŠ‚ã€‚è¿™æœ€å‰é¢çš„512ä¸ªå­—èŠ‚ï¼Œå°±å«åšâ€ä¸»å¼•å¯¼è®°å½•â€ï¼ˆMaster boot recordï¼Œç¼©å†™ä¸ºMBRï¼‰ã€‚MBR åªæœ‰512å­—èŠ‚ï¼Œæ”¾ä¸äº†å¤ªå¤šä¸œè¥¿ï¼Œå®ƒä¸»è¦å‘Šè¯‰è®¡ç®—æœºä»è¯¥è®¾å¤‡çš„å“ªä¸€ä¸ªåˆ†åŒºï¼ˆpartitionï¼‰æ¥è£…è½½å¼•å¯¼åŠ è½½ç¨‹åºï¼ˆboot loaderï¼‰ã€‚Boot Loader å‚¨å­˜æœ‰æ“ä½œç³»ç»Ÿï¼ˆOSï¼‰çš„ç›¸å…³ä¿¡æ¯ï¼Œæ¯”å¦‚æ“ä½œç³»ç»Ÿåç§°ï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸ï¼ˆkernelï¼‰æ‰€åœ¨ä½ç½®ç­‰ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½å°±æ˜¯åŠ è½½å†…æ ¸åˆ°å†…å­˜ä¸­å»æ‰§è¡Œã€‚å¸¸ç”¨çš„ boot loader æœ‰ GRUB å’Œ LILO ã€‚ é‚£æˆ‘ä»¬ç»å¸¸è¯´åˆ°çš„å¤šæ“ä½œç³»ç»Ÿæ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿå…¶å®æ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼ˆæˆ–åˆ†åŒºï¼‰çš„æœ€å‰é¢ä¼šä¿ç•™ä¸€ä¸ªå¼•å¯¼æ‰‡åŒºï¼ˆboot selectorï¼‰ï¼Œè¿™ä¸ªå¼•å¯¼æ‰‡åŒºå¯ä»¥å®‰è£… boot loaderã€‚è¿™æ ·æˆ‘ä»¬åœ¨æ¯ä¸ª boot loader ä¸­å¯¹åº”ä¸åŒçš„æ“ä½œç³»ç»Ÿï¼Œåœ¨è¯»å– MBR çš„æ—¶å€™é€‰æ‹©æˆ‘ä»¬éœ€è¦å¯åŠ¨çš„ boot loader å³å¯ã€‚ kernel éšåï¼Œboot loader ä¼šå¸®åŠ©æˆ‘ä»¬åŠ è½½å†…æ ¸ï¼Œå†…æ ¸å°±ä¼šå¼€å§‹æ£€æµ‹ç¡¬ä»¶ä¸åŠ è½½é©±åŠ¨ç¨‹åºã€‚æ²¡é”™ï¼Œå†…æ ¸ä¼šä»¥è‡ªå·±çš„åŠŸèƒ½é‡æ–°æ£€æµ‹ä¸€éç¡¬ä»¶ï¼Œè€Œä¸ä¸€å®šä¼šä½¿ç”¨ BIOS æ£€æµ‹åˆ°çš„ç¡¬ä»¶ä¿¡æ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå†…æ ¸æ­¤æ—¶æ‰å¼€å§‹æ¥ç®¡ BIOS åçš„å·¥ä½œã€‚ Kernel å®é™…ä¸Šæ˜¯ä¸€ä¸ªç”¨æ¥æ“ä½œè®¡ç®—æœºçš„ç¨‹åºï¼Œå®ƒæ˜¯è®¡ç®—æœºæ“ä½œç³»ç»Ÿçš„å†…æ ¸ï¼Œä¸»è¦çš„ä»»åŠ¡æ˜¯ç®¡ç†è®¡ç®—æœºçš„ç¡¬ä»¶èµ„æºï¼Œå……å½“è½¯ä»¶å’Œç¡¬ä»¶çš„æ¥å£ã€‚æ“ä½œç³»ç»Ÿä¸Šçš„ä»»ä½•æ“ä½œéƒ½è¦é€šè¿‡ kernel ä¼ è¾¾ç»™ç¡¬ä»¶ã€‚ init process åœ¨å†…æ ¸åŠ è½½å®Œæ¯•ä»¥åï¼Œæ­¤æ—¶å†…æ ¸ä¼šä¸»åŠ¨è°ƒç”¨ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼Œé‚£å°±æ˜¯ /sbin/initï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯åˆå§‹åŒ–ç³»ç»Ÿç¯å¢ƒã€‚ä½¿ç”¨pstreeå‘½ä»¤ä¼šå‘ç°initçš„è¿›ç¨‹ç¼–å·ï¼ˆPIDï¼‰æ˜¯1ï¼Œä¹Ÿå°±æ˜¯è¯´initæ˜¯ç¬¬ä¸€ä¸ªè¿è¡Œçš„ç¨‹åºï¼Œå…¶ä»–æ‰€æœ‰è¿›ç¨‹éƒ½ä»å®ƒè¡ç”Ÿï¼Œéƒ½æ˜¯å®ƒçš„å­è¿›ç¨‹ã€‚ è®¸å¤šç¨‹åºéœ€è¦å¼€æœºå¯åŠ¨ã€‚å®ƒä»¬åœ¨Windowså«åšâ€æœåŠ¡â€ï¼ˆserviceï¼‰ï¼Œåœ¨ Linux å°±å«åšâ€å®ˆæŠ¤è¿›ç¨‹â€ï¼ˆdaemonï¼‰ã€‚ init è¿›ç¨‹çš„ä¸€å¤§ä»»åŠ¡ï¼Œå°±æ˜¯å»è¿è¡Œè¿™äº›å¼€æœºå¯åŠ¨çš„ç¨‹åºã€‚ä½†æ˜¯ï¼Œä¸åŒçš„åœºåˆéœ€è¦å¯åŠ¨ä¸åŒçš„ç¨‹åºï¼Œæ¯”å¦‚ç”¨ä½œæœåŠ¡å™¨æ—¶ï¼Œéœ€è¦å¯åŠ¨ Apacheï¼Œç”¨ä½œæ¡Œé¢å°±ä¸éœ€è¦ã€‚Linux å…è®¸ä¸ºä¸åŒçš„åœºåˆï¼Œåˆ†é…ä¸åŒçš„å¼€æœºå¯åŠ¨ç¨‹åºï¼Œè¿™å°±å«åšâ€è¿è¡Œçº§åˆ«â€ï¼ˆrun levelï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯åŠ¨æ—¶æ ¹æ®â€è¿è¡Œçº§åˆ«â€ï¼Œç¡®å®šè¦è¿è¡Œå“ªäº›ç¨‹åºã€‚ åŸºæœ¬ä¸Šï¼Œä¾æ®æœ‰æ— ç½‘ç»œä¸æœ‰æ—  X Window ï¼ŒLinux å°† run level åˆ’åˆ†ä¸º7ä¸ªç­‰çº§ï¼ˆ0-6ï¼‰ã€‚å…¶ä¸­0æ˜¯å…³æœºï¼Œ1æ˜¯å•ç”¨æˆ·æ¨¡å¼ï¼Œ6æ˜¯é‡å¯ã€‚è€Œ 2-5ï¼Œä¸€èˆ¬æ¥è¯´éƒ½æ˜¯å¤šç”¨æˆ·æ¨¡å¼ã€‚ Linux åœ¨å¯åŠ¨å„ä¸ªæœåŠ¡å‰ä¼šå…ˆæ‰§è¡Œä¸€ç³»åˆ—çš„åˆå§‹è„šæœ¬ï¼ˆrc.sysinitï¼‰ã€‚è¿™äº›è„šæœ¬æ‰§è¡Œå¦‚ä¸‹åŠŸèƒ½ï¼šè®¾ç½®è®¡ç®—æœºåç§°ï¼Œæ—¶åŒºï¼Œæ£€æµ‹æ–‡ä»¶ç³»ç»Ÿï¼ŒæŒ‚è½½ç¡¬ç›˜ï¼Œæ¸…ç©ºä¸´æ—¶æ–‡ä»¶ï¼Œè®¾ç½®ç½‘ç»œâ€¦â€¦ ä¹‹åä¼šæ ¹æ®è¿è¡Œçº§åˆ«çš„ä¸åŒï¼Œç³»ç»Ÿä¼šè¿è¡Œ rc0.d åˆ° rc6.d ç›®å½•ä¸­çš„ç›¸åº”çš„è„šæœ¬ç¨‹åºï¼Œæ¥å®Œæˆç›¸åº”çš„åˆå§‹åŒ–å·¥ä½œå’Œå¯åŠ¨ç›¸åº”çš„æœåŠ¡ã€‚rc*.dç›®å½•ä¸­å­˜æ”¾çš„æ˜¯è¯¥è¿è¡Œçº§åˆ«ä¸­éœ€è¦æ‰§è¡Œçš„æœåŠ¡è„šæœ¬çš„è½¯é“¾æ¥æ–‡ä»¶ï¼ˆå³å¿«æ·æ–¹å¼ï¼‰ã€‚ é™¤æ­¤ä¹‹å¤–ï¼ŒLinux è¿˜ä¼šè¿è¡Œä¸€äº›å…¶ä»–çš„åˆå§‹è„šæœ¬ã€‚è¿è¡Œå®Œåï¼Œæ“ä½œç³»ç»Ÿå·²ç»å®Œå…¨å‡†å¤‡å¥½äº†ï¼Œåªæ˜¯ï¼Œè¿˜æ²¡æœ‰äººå¯ä»¥ç™»å½•ï¼ï¼ï¼init ä¼šç»™å‡ºç™»å½•ï¼ˆloginï¼‰å¯¹è¯æ¡†ï¼Œæˆ–è€…æ˜¯å›¾å½¢åŒ–çš„ç™»å½•ç•Œé¢ã€‚ login è¾“å…¥ç”¨æˆ·åå¯†ç ç™»å½•æˆåŠŸåï¼Œç³»ç»Ÿä¼šä¸ºç”¨æˆ·åˆ†é…ä¸€ä¸ªç”¨æˆ· IDï¼ˆUIDï¼‰ï¼Œå’Œä¸€ä¸ªç»„ IDï¼ˆGIDï¼‰ã€‚è¿™ä¸¤ä¸ª ID å°±å¥½åƒèº«ä»½è¯ä¸€æ ·ä¼šä¸€ç›´ä¼´éšç”¨æˆ·ï¼Œç”¨äºæ£€æµ‹ç”¨æˆ·æ‰§è¡Œç¨‹åºæ—¶çš„èº«ä»½éªŒè¯ã€‚ å½“ç”¨æˆ·ç™»å½•æˆåŠŸåï¼Œä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿå°±å±•ç°åœ¨ç”¨æˆ·çš„é¢å‰äº†ã€‚å“ˆå“ˆï¼ æ€»ç»“ ç»“åˆä¸€å¼€å§‹ç»™å‡ºçš„æµç¨‹å›¾ï¼ŒLinux çš„å¯åŠ¨æµç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ä¸ªä¸»è¦æ­¥éª¤ï¼š åŠ è½½ BIOS çš„ç¡¬ä»¶ä¿¡æ¯ä¸ç¡¬ä»¶è‡ªæ£€ï¼Œå¹¶ä¾æ®è®¾ç½®å–å¾—ç¬¬ä¸€ä¸ªå¯å¯åŠ¨çš„è®¾å¤‡ï¼› è¯»å–å¹¶æ‰§è¡Œç¬¬ä¸€ä¸ªå¯åŠ¨è®¾å¤‡å†…çš„MBRçš„ boot loaderï¼› ä¾æ® boot loader çš„è®¾ç½®åŠ è½½å†…æ ¸ï¼Œå†…æ ¸ä¼šå¼€å§‹æ£€æµ‹ç¡¬ä»¶ä¸åŠ è½½é©±åŠ¨ç¨‹åºï¼› åœ¨å†…æ ¸ Kernel åŠ è½½å®Œæ¯•åï¼ŒKernel ä¼šä¸»åŠ¨è°ƒç”¨ init è¿›ç¨‹ï¼Œè€Œ init ä¼šå–å¾— run-level ä¿¡æ¯ï¼› init æ‰§è¡Œ rc.sysinit åˆå§‹åŒ–ç³»ç»Ÿçš„æ“ä½œç¯å¢ƒï¼ˆç½‘ç»œã€æ—¶åŒºç­‰ï¼‰ï¼› init å¯åŠ¨ run-level çš„å„ä¸ªæœåŠ¡ï¼› ç”¨æˆ·ç™»å½• è¦æ³¨æ„åœ¨ä¸€å¼€å§‹çš„æµç¨‹å›¾ä¸­ init è™½ç„¶åªç”¨äº†ä¸€ä¸ªæ¨¡å—å±•ç°å‡ºæ¥ï¼Œä½†å…¶å®åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­ init å äº†å¾ˆå¤§çš„æ¯”é‡ã€‚ å‚è€ƒæ–‡çŒ® Linux çš„å¯åŠ¨æµç¨‹ è®¡ç®—æœºæ˜¯å¦‚ä½•å¯åŠ¨çš„ï¼Ÿ Linuxå¼€æœºå¯åŠ¨ (bootstrap) é¸Ÿå“¥çš„Linuxç§æˆ¿èœ.åŸºç¡€å­¦ä¹ ç¯‡ ","date":"2014-03-05","objectID":"/posts/e3f5fe56/:0:0","tags":["linux","å¯åŠ¨æµç¨‹"],"title":"LinuxåŸºç¡€ï¼šå¯åŠ¨æµç¨‹","uri":"/posts/e3f5fe56/"},{"categories":["Linux/Unix"],"content":"å’Œæœ‹å‹ä»Šå¤©æ­£å¥½èŠåˆ°CentOSçš„è‡ªåŠ¨åŒ–å®‰è£…å…‰ç›˜åˆ¶ä½œé—®é¢˜ï¼Œå°±é¡ºä¾¿æŠŠè‡ªå·±ä¹‹å‰çš„æµ‹è¯•è¿‡ç¨‹å‘å‡ºæ¥ã€‚å¸Œæœ›èƒ½å¤Ÿå¸®åˆ°å¤§å®¶ã€‚ ç›´æ¥å‘ä¸‹è‡ªå·±ä¹‹å‰åšçš„æ—¶å€™çš„å·¥ä½œè®°å½•äº†ï¼Œå› ä¸ºæ˜¯å·¥ä½œä¸­ä½¿ç”¨ï¼Œæ·»åŠ äº†ä¸€äº›æ‰€éœ€çš„è½¯ä»¶åŒ…ä¹‹ç±»çš„ä¸œè¥¿ï¼Œå…¶å®æ‚¨ä¹Ÿå®Œå…¨å¯ä»¥è‡ªç”±å‘æŒ¥ï¼Œç›´æ¥è£…å®Œç³»ç»Ÿï¼Œä¸€ä¸ªä¼˜åŒ–å¥½çš„LNMPç­‰ç­‰ä¼—å¤šè½¯ä»¶éƒ½å·²ç»å®‰è£…å¥½äº†çš„ç³»ç»Ÿä¹Ÿæ˜¯å®Œå…¨å¯èƒ½çš„ï¼Œæƒ³æƒ³ç½‘ä¸Šçš„é‚£äº›ä¸€é”®å®‰è£…çš„ISOâ€¦ æ‰€ä»¥å¤§å®¶åŠ æ²¹å“¦ï¼åæœŸæˆ‘ä¹Ÿä¼šå®Œå–„æœ¬ç¯‡æ–‡ç« çš„å…·ä½“æ³¨é‡Šçš„ã€‚ å®šåˆ¶æ­¥éª¤ å®‰è£…ä¸€ä¸ªå¹²å‡€çš„æ“ä½œç³»ç»Ÿ.åŒ…æ‹¬åŸºæœ¬çš„ç³»ç»Ÿå’Œæ‰€éœ€è¦çš„å·¥å…·ç­‰. æ¯”å¦‚:å¯¹äºhttp,mysqlç­‰è½¯ä»¶,å»ºè®®ä½¿ç”¨ç¼–è¯‘çš„æ–¹å¼å®‰è£…, ç„¶åæ‰“åŒ…æ”¾è¿›å»,å¯ä»¥å‡å°‘è®¸å¤šä¾èµ–åŒ…çš„éº»çƒ¦. å®‰è£…ç³»ç»Ÿå,æ”¶é›†ç³»ç»Ÿå·²å®‰è£…çš„è½¯ä»¶åŒ…,ä½¿ç”¨è„šæœ¬ç»Ÿä¸€è½¬å­˜åˆ°ä¸€ä¸ªç›®å½•ä¸­. åœ¨å®‰è£…å…‰ç›˜å¤åˆ¶imagesé•œåƒ,ä»å…‰ç›˜å¯åŠ¨centoså®‰è£…æ‰€éœ€çš„æ–‡ä»¶ç­‰. å®šä¹‰è‡ªå·±çš„kickstartå®‰è£…è„šæœ¬. æŒ‰ç…§ä¹‹å‰è½¬å­˜çš„è½¯ä»¶(rpm)åŒ…, é‡æ–°ç”Ÿæˆå…‰ç›˜çš„reportä¿¡æ¯. æ‰“åŒ…ç”ŸæˆISOæ–‡ä»¶ï¼ŒåŠMD5æ•ˆéªŒç . å…‰ç›˜ç»“æ„ä»‹ç» isolinuxç›®å½•å­˜æ”¾å…‰ç›˜å¯åŠ¨æ—¶çš„å®‰è£…ç•Œé¢ä¿¡æ¯ imagesç›®å½•åŒ…æ‹¬äº†å¿…è¦çš„å¯åŠ¨æ˜ åƒæ–‡ä»¶ CentOSç›®å½•å­˜æ”¾å®‰è£…è½¯ä»¶åŒ…åŠä¿¡æ¯ .discinfoæ–‡ä»¶æ˜¯å®‰è£…ä»·è´¨çš„è¯†åˆ«ä¿¡æ¯ å®‰è£…æ—¶é»˜è®¤ç¬¬ä¸€é¡¹æ˜¯textè‡ªåŠ¨å®‰è£…ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ç¬¬äºŒé¡¹è¿›è¡Œæ‰‹åŠ¨å®‰è£…â€¦ å®‰è£…å®Œæˆåçš„ISO IPåœ°å€ï¼š172.16.0.110 rootå¯†ç ï¼špassw0rd æ“ä½œè¿‡ç¨‹è®°å½• ä¸€ã€æŒ‚è½½å…‰ç›˜ï¼Œä½¿ç”¨è„šæœ¬æ‹·è´ç›¸å…³è½¯ä»¶åŒ…åˆ°/ISO/Packagesç›®å½•ä¸‹ [root@CentOS ~]# mkdir /mnt/cdrom [root@CentOS ~]# mount /dev/cdrom /mnt/cdrom [root@CentOS~]# /usr/bin/rsync -a --exclude=Packages/ --exclude=repodata/ /mnt/cdrom/ /ISO/ [root@CentOS ~]# mkdir -p /ISO/{Packages,repodata} [root@CentOS ~]# vi copy.sh #!/bin/bash cd /root awk '/Installing/{print $2}' install.log | sed 's/^*://g' \u003epackage.txt DVD='/mnt/cdrom/Packages' PACKDIR='/root/package.txt' NEW_DVD='/ISO/Packages' while read LINE do cp ${DVD}/${LINE}*.rpm ${NEW_DVD} || echo \"$LINE don't cp.......\" done \u003c package.txt rm -f package.txt [root@CentOS ~]# chmod +x copy.sh [root@CentOS ~]# ./copy.sh [root@CentOS ~]# ll /ISO/Packages/ |wc -l 285 äºŒã€å®šåˆ¶kickstartå®‰è£…è„šæœ¬ks.cfg [root@CentOS ~]# cd /ISO [root@CentOS ISO]# cp ~/anaconda-ks.cfg isolinux/ks.cfg ks.cfgæ–‡ä»¶å†…å®¹å¦‚ä¸‹ # Kickstart file automatically generated by anaconda. #version=DEVEL install text cdrom lang en_US.UTF-8 keyboard us network --onboot no --device eth0 --bootproto dhcp --noipv6 rootpw --iscrypted $6$x8.IJeCQkCgkVmt7$1xpLAdczrfqxYlvkVwMAus6nLPFk6sl45X6CuTsmpFlAko6/NEFyuJXvMgZujfAu5V9T04hZ1P5ZMlR0TZtdK0 firewall --service=ssh authconfig --enableshadow --passalgo=sha512 selinux --enforcing timezone --utc Asia/Shanghai bootloader --location=mbr --driveorder=sda --append=\"crashkernel=auto rhgb quiet\" # The following is the partition information you requested # Note that any partitions you deleted are not expressed # here so unless you clear all partitions first, this is # not guaranteed to work #clearpart --linux --drives=sda #volgroup VolGroup --pesize=4096 pv.008002 #logvol / --fstype=ext4 --name=lv_root --vgname=VolGroup --grow --size=1024 --maxsize=51200 #logvol swap --name=lv_swap --vgname=VolGroup --grow --size=4000 --maxsize=4000 #part /boot --fstype=ext4 --size=500 #part pv.008002 --grow --size=1 clearpart --all zerombr part /boot--fstype=ext4 --size=200 part swap --size=2048 part / --fstype=ext4 --size=20000 part /data --fstype=ext4 --grow --size=200 repo --name=\"CentOS\" --baseurl=file:///mnt/source --cost=100 %packages @base @console-internet @core @debugging @directory-client @hardware-monitoring @java-platform @large-systems @network-file-system-client @performance @perl-runtime @server-platform @server-policy pax oddjob sgpio device-mapper-persistent-data samba-winbind certmonger pam_krb5 krb5-workstation perl-DBD-SQLite %end ä¸‰ã€ä¿®æ”¹/ISO/isolinux/isolinux.cfgæ–‡ä»¶ï¼Œé»˜è®¤isolinux.cfgçš„æƒé™ä¸º444ï¼Œåªèƒ½è¯»ï¼Œæ— æ³•ä¿®æ”¹ [root@CentOS ISO]# chmod 644 isolinux/isolinux.cfg [root@CentOS ISO]# vi isolinux/isolinux.cfg isolinux.cfgæ–‡ä»¶å†…å®¹å¦‚ä¸‹ default vesamenu.c32 #prompt 1 timeout 100 ###10ç§’é’Ÿ display boot.msg menu background splash.jpg menu title Welcome to use CentOS 6.4! menu color border 0 #ffffffff #00000000 menu color sel 7 #ffffffff #ff000000 menu color title 0 #ffffffff #00000000 menu color tabmsg 0 #ffffffff #00000000 menu color unsel 0 #ffffffff #00000000 menu color hotsel 0 #ff000000 #ffffffff menu color hotkey 7 #ffffffff #ff000000 menu color scrollbar 0 #ffffffff #00000000 label linux menu label ^Auto Install Xlogin Linux System menu default kernel vmlinuz append ks=cdrom:/isolinux/ks.cfg initrd=initrd.img ###ksæ–‡ä»¶è·¯å¾„ label vesa menu label Install system with ^basic video driver kernel vmlinuz append initrd=initrd.img xdriver=vesa nomodeset label rescue menu label ^Rescue installed system kernel vmlinuz append initrd=initrd.img rescue label local menu label Boot from","date":"2013-03-23","objectID":"/posts/ef3dfd58/:0:0","tags":["linux","iso","centos"],"title":"å®šåˆ¶CentOS 6.4è‡ªåŠ¨åŒ–å®‰è£…ISOé•œåƒå…‰ç›˜","uri":"/posts/ef3dfd58/"},{"categories":["Linux/Unix","Shell"],"content":"åœ¨linux shellç¼–ç¨‹ä¸­ï¼Œç»å¸¸ç”¨åˆ°æ—¥æœŸçš„åŠ å‡è¿ç®—ï¼Œä»¥å‰éƒ½æ˜¯è‡ªå·±é€šè¿‡exprå‡½æ•°è®¡ç®—ï¼Œå¾ˆéº»çƒ¦ã€‚ å…¶å®dateå‘½ä»¤æœ¬èº«æä¾›äº†æ—¥æœŸçš„åŠ å‡è¿ç®—ï¼Œéå¸¸æ–¹ä¾¿ã€‚ ä¾‹å¦‚ï¼šå¾—åˆ°æ˜¨å¤©çš„æ—¶é—´ date +%Y%m%d â€“date=â€-1 dayâ€ dateçš„ç”¨æ³•: date [OPTION]â€¦ [+FORMAT] date [-u|â€“utc|â€“universal] [MMDDhhmm[[CC]YY][.ss]] date å¯ä»¥ç”¨æ¥æ˜¾ç¤ºæˆ–è®¾å®šç³»ç»Ÿçš„æ—¥æœŸä¸æ—¶é—´ã€‚ åœ¨æ˜¾ç¤ºæ–¹é¢ï¼Œä½¿ç”¨è€…å¯ä»¥è®¾å®šæ¬²æ˜¾ç¤ºçš„æ ¼å¼ï¼Œæ ¼å¼è®¾å®šä¸ºä¸€ä¸ªåŠ å·åæ¥æ•°ä¸ªæ ‡è®°ï¼Œå…¶ä¸­å¯ç”¨çš„æ ‡è®°åˆ—è¡¨å¦‚ä¸‹: %% : æ˜¾ç¤ºä¸€ä¸ª %ï¼ˆç™¾åˆ†å·ï¼‰å­—ç¬¦ã€‚ %n : ä¸‹ä¸€è¡Œ %t : è·³æ ¼ %H : å°æ—¶(00..23) %I : å°æ—¶(01..12) %k : å°æ—¶(0..23) %l : å°æ—¶(1..12) %M : åˆ†é’Ÿ(00..59) %p : æ˜¾ç¤ºæœ¬åœ° AM æˆ– PM %r : ç›´æ¥æ˜¾ç¤ºæ—¶é—´ (12 å°æ—¶åˆ¶ï¼Œæ ¼å¼ä¸º hh:mm:ss [AP]M) %s : ä» 1970 å¹´ 1 æœˆ 1 æ—¥ 00:00:00 UTC åˆ°ç›®å‰ä¸ºæ­¢çš„ç§’æ•° %S : ç§’(00..61) %T : ç›´æ¥æ˜¾ç¤ºæ—¶é—´ (24 å°æ—¶åˆ¶) %X : ç›¸å½“äº %H:%M:%S %Z : æ˜¾ç¤ºæ—¶åŒº %a : æ˜ŸæœŸå‡  (Sun..Sat) %A : æ˜ŸæœŸå‡  (Sunday..Saturday) %b : æœˆä»½ (Jan..Dec) %B : æœˆä»½ (January..December) %c : ç›´æ¥æ˜¾ç¤ºæ—¥æœŸä¸æ—¶é—´ %d : æ—¥ (01..31) %D : ç›´æ¥æ˜¾ç¤ºæ—¥æœŸ (mm/dd/yy) %h : åŒ %b %j : ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤© (001..366) %m : æœˆä»½ (01..12) %U : ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨ (00..53) (ä»¥ Sunday ä¸ºä¸€å‘¨çš„ç¬¬ä¸€å¤©çš„æƒ…å½¢) %w : ä¸€å‘¨ä¸­çš„ç¬¬å‡ å¤© (0..6) %W : ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨ (00..53) (ä»¥ Monday ä¸ºä¸€å‘¨çš„ç¬¬ä¸€å¤©çš„æƒ…å½¢) %x : ç›´æ¥æ˜¾ç¤ºæ—¥æœŸ (mm/dd/yy) %y : å¹´ä»½çš„æœ€åä¸¤ä½æ•°å­— (00.99) %Y : å®Œæ•´å¹´ä»½ (0000..9999) åœ¨è®¾å®šæ—¶é—´æ–¹é¢ date -s //è®¾ç½®å½“å‰æ—¶é—´ï¼Œåªæœ‰rootæƒé™æ‰èƒ½è®¾ç½®ï¼Œå…¶ä»–åªèƒ½æŸ¥çœ‹ã€‚ date -s 20080523 //è®¾ç½®æˆ20080523ï¼Œè¿™æ ·ä¼šæŠŠå…·ä½“æ—¶é—´è®¾ç½®æˆç©º00:00:00 date -s 01:01:01 //è®¾ç½®å…·ä½“æ—¶é—´ï¼Œä¸ä¼šå¯¹æ—¥æœŸåšæ›´æ”¹ date -s â€œ01:01:01 2008-05-23â€³ //è¿™æ ·å¯ä»¥è®¾ç½®å…¨éƒ¨æ—¶é—´ date -s â€œ01:01:01 20080523â€³ //è¿™æ ·å¯ä»¥è®¾ç½®å…¨éƒ¨æ—¶é—´ date -s â€œ2008-05-23 01:01:01â€³ //è¿™æ ·å¯ä»¥è®¾ç½®å…¨éƒ¨æ—¶é—´ date -s â€œ20080523 01:01:01â€³ //è¿™æ ·å¯ä»¥è®¾ç½®å…¨éƒ¨æ—¶é—´ åŠ å‡ date +%Y%m%d //æ˜¾ç¤ºå‰å¤©å¹´æœˆæ—¥ date +%Y%m%d â€“date=â€+1 dayâ€ //æ˜¾ç¤ºå‰ä¸€å¤©çš„æ—¥æœŸ date +%Y%m%d â€“date=â€-1 dayâ€ //æ˜¾ç¤ºåä¸€å¤©çš„æ—¥æœŸ date +%Y%m%d â€“date=â€-1 monthâ€ //æ˜¾ç¤ºä¸Šä¸€æœˆçš„æ—¥æœŸ date +%Y%m%d â€“date=â€+1 monthâ€ //æ˜¾ç¤ºä¸‹ä¸€æœˆçš„æ—¥æœŸ date +%Y%m%d â€“date=â€-1 yearâ€ //æ˜¾ç¤ºå‰ä¸€å¹´çš„æ—¥æœŸ date +%Y%m%d â€“date=â€+1 yearâ€ //æ˜¾ç¤ºä¸‹ä¸€å¹´çš„æ—¥æœŸ ","date":"2013-03-11","objectID":"/posts/9cd3e9e8/:0:0","tags":["date","shell","linux"],"title":"Linux Shell dateå‘½ä»¤çš„ç”¨æ³•","uri":"/posts/9cd3e9e8/"},{"categories":["ç¼–ç¨‹è¯­è¨€","regex"],"content":"æœ€è¿‘åœ¨çœ‹é¸Ÿå“¥ Linuxï¼Œçœ‹åˆ°æ­£åˆ™è¡¨è¾¾å¼è¿™å—ï¼Œä»¥å‰çœ‹åˆ°è¿™äº›ææ€–çš„å­—ç¬¦æ€»æ˜¯è§‰å¾—æ¶å¿ƒï¼Œä»Šå¤©å°±å’¬ç‰™ç³»ç»Ÿçš„å­¦ä¹ äº†ä¸‹æ­£åˆ™è¡¨è¾¾å¼ã€‚ç„¶åæœ‰äº†è¿™ç¯‡ç¬”è®°ã€‚ä¸»è¦æ€»ç»“æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€äº›å…³é”®çŸ¥è¯†ç‚¹ã€‚ å­—é¢å€¼ï¼ša b c d 1 2 3 4 ç­‰ç­‰ã€‚ å­—ç¬¦ç±»ï¼š. [abc] [a-z] \\d \\w \\s - . è¡¨ç¤ºâ€œä»»ä½•å­—ç¬¦â€ - [abc] æ‹¬å·è¡¨ç¤ºâ€œæ‰¾åˆ°é›†åˆé‡Œä»»æ„ä¸€ä¸ªå­—ç¬¦â€ã€‚ - \\d è¡¨ç¤ºâ€œä¸€ä¸ªæ•°å­—â€ï¼Œç­‰åŒäº[0-9] - \\w è¡¨ç¤ºâ€œä¸€ä¸ªå•è¯å­—ç¬¦â€ï¼Œç­‰åŒäº[0-9A-Za-z_] - \\s è¡¨ç¤ºâ€œä¸€ä¸ªç©ºæ ¼ï¼Œtabï¼Œå›è½¦æˆ–ä¸€ä¸ªæ¢è¡Œç¬¦â€ - å¦å®šå­—ç¬¦ç±»ï¼š[^abc] \\D \\W \\S ä¹˜æ³•å™¨ï¼š{4} {3,16} {1,} ? * + {3,16} è¡¨ç¤ºæ‰¾åˆ°é‡å¤ 3 åˆ° 16 ä¸ªå‰ä¸€ä¸ªæ­£åˆ™å­—ç¬¦ ? è¡¨ç¤ºâ€œæ²¡æœ‰æˆ–ä¸€ä¸ªâ€ * è¡¨ç¤ºâ€œæ²¡æœ‰æˆ–å¤šä¸ªâ€ + è¡¨ç¤ºâ€œä¸€ä¸ªæˆ–å¤šä¸ªâ€ ä¹˜æ³•å™¨æ˜¯è´ªå©ªçš„é™¤éä½ åœ¨ä¹‹åä½¿ç”¨ ? , å³ä¼˜å…ˆæ‰¾åˆ°æœ€é•¿çš„ åˆ†æ”¯å’Œç»„åˆï¼š (Septem|Octo|Novem|Decem)ber ç®¡é“ç¬¦å· | è¡¨ç¤ºâ€œæˆ–â€ åœ†æ‹¬å·è¡¨ç¤ºç»„åˆ ï¼Œæ¯”å¦‚ åœ¨ä¸€å‘¨ä¸­æ‰¾åˆ°ä¸€å¤©ï¼Œä½¿ç”¨ (Mon|Tues|Wednes|Thurs|Fri|Satur|Sun)dayã€‚ è¯ã€è¡Œå’Œæ–‡æœ¬è¾¹ç•Œï¼š \\b è¡¨ç¤ºè¯è¾¹ç•Œ ^ è¡¨ç¤ºè¡Œå¼€å§‹ $ è¡¨ç¤ºè¡Œç»“æŸ ^$ è¡¨ç¤ºçš„å°±æ˜¯ç©ºç™½è¡Œäº† åå‘æ•è·ç»„ï¼š\\1 \\2 \\3 ç­‰ç­‰ã€‚æ•è·ç»„ä»å·¦åˆ°å³è¿›è¡Œç¼–å·ï¼Œåªè¦è®¡ç®—å·¦åœ†æ‹¬å·ã€‚ï¼ˆåœ¨æ›¿æ¢è¡¨è¾¾å¼å’ŒåŒ¹é…è¡¨è¾¾å¼ä¸­åŒæ—¶ç”Ÿæ•ˆï¼‰ æ¯”å¦‚æœ‰ä¸€æ®µå­—ç¬¦ï¼Œæˆ‘ä»¬éœ€è¦å‰é¢çš„æ¨ªæ å»æ‰ï¼Œå°¾å·´çš„æ•°å­—å»æ‰ï¼Œ è‹±æ–‡å¥å·æ¢æˆä¸­æ–‡é¡¿å· -1.æ–‡ç« æ ‡é¢˜1 -2.æ–‡ç« æ ‡é¢˜2 -3.æ–‡ç« æ ‡é¢˜3 -4.æ–‡ç« æ ‡é¢˜4 -5.æ–‡ç« æ ‡é¢˜5 åˆ™å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ -(\\d{1,})\\.(.*)\\d æ¥åŒ¹é…ã€‚ç„¶åä½¿ç”¨ \\1ã€\\2 æ¥æ›¿æ¢ã€‚ å‘åå¼•ç”¨ï¼š åœ¨åŒæ ·çš„è¡¨è¾¾å¼ä¸­å¼•ç”¨åŒä¸€ä¸ªæ•è·ç»„ã€‚ è¡¨è¾¾å¼ (xi)\\1(ha)\\2 èƒ½åŒ¹é… xixihaha å…ƒå­—ç¬¦åˆ—è¡¨ï¼š. \\ [ ] { } ? * + | ( ) ^ $ å­—ç¬¦ç±»ä¸­ä½¿ç”¨åˆ°å…ƒå­—ç¬¦åˆ—è¡¨ï¼š[ ] \\ - ^ ä½ æ€»æ˜¯å¯ä»¥ä½¿ç”¨åæ–œæ†å¯¹å…ƒå­—ç¬¦è¿›è¡Œè½¬ä¹‰ï¼š\\ å‚è€ƒèµ„æ–™ï¼š RegExrï¼šä¸€æ¬¾åœ¨çº¿å­¦ä¹ ã€æ„å»ºå’Œæµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼çš„å·¥å…· TRY REGEXï¼šäº¤äº’å¼æ­£åˆ™è¡¨è¾¾å¼çš„æ•™å­¦ç½‘ç«™ 55åˆ†é’Ÿå­¦ä¼šæ­£åˆ™è¡¨è¾¾å¼ï¼šå¾ˆå¥½çš„å…¥é—¨æ–‡ç«  ","date":"2013-03-05","objectID":"/posts/469df0ac/:0:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ","uri":"/posts/469df0ac/"},{"categories":["Linux/Unix"],"content":"å°†ä¸‹åˆ—è„šæœ¬ä¿å­˜ä¸ºå¯æ‰§è¡Œè„šæœ¬æ–‡ä»¶ï¼Œæ¯”å¦‚å«traff.shã€‚â˜ºï¸ #!/bin/bash while [ \"1\" ] do eth=$1 RXpre=$(cat /proc/net/dev | grep $eth | tr : \" \" | awk '{print $2}') TXpre=$(cat /proc/net/dev | grep $eth | tr : \" \" | awk '{print $10}') sleep 1 RXnext=$(cat /proc/net/dev | grep $eth | tr : \" \" | awk '{print $2}') TXnext=$(cat /proc/net/dev | grep $eth | tr : \" \" | awk '{print $10}') clear echo -e \"\\t RX `date +%k:%M:%S` TX\" RX=$(($RXnext-$RXpre)) TX=$(($TXnext-$TXpre)) if [[ $RX -lt 1024 ]];then RX=\"${RX}B/s\" elif [[ $RX -gt 1048576 ]];then RX=$(echo $RX | awk '{print $1/1048576 \"MB/s\"}') else RX=$(echo $RX | awk '{print $1/1024 \"KB/s\"}') fi if [[ $TX -lt 1024 ]];then TX=\"${TX}B/s\" elif [[ $TX -gt 1048576 ]];then TX=$(echo $TX | awk '{print $1/1048576 \"MB/s\"}') else TX=$(echo $TX | awk '{print $1/1024 \"KB/s\"}') fi echo -e \"$eth \\t $RX $TX \" done æœ¬è„šæœ¬å¯è‡ªå®šä¹‰æ¬²æŸ¥çœ‹æ¥å£ï¼Œç²¾ç¡®åˆ°å°æ•°ï¼Œå¹¶å¯æ ¹æ®æµé‡å¤§å°çµæ´»æ˜¾ç¤ºå•ä½ã€‚ æ­¤è„šæœ¬çš„é‡‡é›†é—´éš”ä¸º1ç§’ã€‚ æ­¤è„šæœ¬ä¸éœ€è¦é¢å¤–å†å®‰è£…è½¯ä»¶ï¼Œå¯åœ¨æ€¥ç”¨æƒ…å†µä¸‹åº”ä»˜ä¸€ä¸‹ï¼Œæ¯”å¦‚ä¸´æ—¶æƒ³çœ‹ä¸€ä¸‹æ˜¯å¦æœ‰æµé‡é€šè¿‡ï¼Œå¤§æ¦‚ä¸ºå¤šå°‘ç­‰ã€‚ ä¸€äº›æµé‡æŸ¥çœ‹è½¯ä»¶ç”±äºè®¡ç®—çš„ç²¾ç¡®åº¦ä¸åŒï¼Œæ‰€ä»¥ä¸æ­¤è„šæœ¬æ˜¾ç¤ºçš„æ•°å€¼ä¸å¯èƒ½ä¸€è‡´ï¼Œæ­¤è„šæœ¬çš„æ˜¾ç¤ºç»“æœä¸du meterå¯¹æ¯”è¿‡ï¼Œç›¸å·®å¾ˆå°ã€‚è¿˜æœ‰å°±æ˜¯ä¼ è¾“å·¥å…·æœ¬èº«æ˜¾ç¤ºçš„ä¼ è¾“é€Ÿåº¦å¹¶ä¸å‡†ç¡®ã€‚ ç”¨æ³•ä¸ºï¼š chmod +x ./traff.sh å°†æ–‡ä»¶æ”¹æˆå¯æ‰§è¡Œè„šæœ¬ã€‚ ./traff.sh eth0å³å¯å¼€å§‹ç›‘çœ‹æ¥å£eth0æµé‡ï¼ŒæŒ‰ctrl+cé€€å‡ºã€‚ ","date":"2013-01-26","objectID":"/posts/3b1b6dcd/:0:0","tags":["æµé‡","ç½‘å¡"],"title":"å®æ—¶æŸ¥çœ‹linuxç½‘å¡æµé‡","uri":"/posts/3b1b6dcd/"},{"categories":["Linux/Unix"],"content":"æŸ¥äº†åŠå¤©ç³»ç»Ÿç¯å¢ƒå˜é‡HISTTIMEFORMATä¸æ¯«ä¸è§è¸ªè¿¹ åŸæ¥åœ¨bash manä¸­æ‰æœ‰æ”¶å½• #man bash HISTTIMEFORMAT If this variable is set and not null, its value is used as a format string for strftime(3) to print the time stamp associated with each history entry displayed by the history builtin. If this variable is set, time stamps are written to the history file so they may be preserved across shell sessions. å¦‚æœè¿™ä¸ªå˜é‡è¢«è®¾ç½®ï¼Œä¸”ä¸ä¸ºç©º,ä½¿ç”¨å®ƒçš„å€¼ä½œä¸ºæ ¼å¼å­—ç¬¦ä¸²strftimeï¼ˆ3ï¼‰æ‰“å°æ—¶é—´æˆ³ä¸å†å²å‘½ä»¤å†…å»ºæ˜¾ç¤ºçš„æ¯ä¸ªæ¡ç›®ç›¸å…³è”çš„å†å².å¦‚æœè¿™ä¸ªå˜é‡è¢«è®¾ç½®ï¼Œæ—¶é—´æˆ³ä¼šè¢«å†™å…¥å†å²æ–‡ä»¶ï¼Œè¿™æ ·çš„è¯ä»–ä»¬å¯èƒ½ä¼šä¿ç•™åœ¨shellä¼šè¯ã€‚ æŸ¥çœ‹HISTTIMEFORMATå…·ä½“å‚æ•° #man strftime å–äº†ä¸¤æ¡è®°å½• %F Equivalent to %Y-%m-%d (the ISO 8601 date format). (C99) %T The time in 24-hour notation (%H:%M:%S). (SU) [root@jerome-1 conf]# HISTTIMEFORMAT=\"%F %T\" å¸¸ç”¨åˆ°çš„ä¸€äº›æ˜¾ç¤ºæ–¹å¼ ä¸‹é¢è¿™æ¡ç›¸å½“äºä¸Šé¢çš„æ–¹å¼ [root@jerome-1 conf]# HISTTIMEFORMAT=\"%Y-%m-%d %H:%M:%S\" [root@jerome-1 conf]# history | tail 1091 2011-03-17 12:57:57 history å¯å°†ä»¥ä¸‹ä¸¤æ¡åŠ å…¥åˆ°/etc/profileæ–‡ä»¶å½“ä¸­ export HISTTIMEFORMAT=\"%F %T\" ","date":"2013-01-26","objectID":"/posts/f26d5bcc/:0:0","tags":["history"],"title":"historyå‘½ä»¤æ˜¾ç¤ºæ—¶é—´è®°å½•","uri":"/posts/f26d5bcc/"},{"categories":["æ•°æ®åº“","SQLServer"],"content":"å•ä½æ‰˜ç®¡æœ‰æœåŠ¡å™¨,æˆ–è€…ç»å¸¸åœ¨å®¶é‡Œä¼‘æ¯æ—¶å•ä½æœåŠ¡å™¨å‡ºç°é—®é¢˜æ—¶,ç›¸ä¿¡ç”¨è¿œç¨‹æ¡Œé¢æˆ–pcanywhereçš„æœ‹å‹é‡åˆ°è¿‡è«åå…¶å¦™æ–­çº¿è€Œä¸èƒ½å†è¿æ¥çš„æƒ…å†µã€‚è¿™æ—¶,å¦‚æœæœåŠ¡å™¨å¦‚æœå®‰è£…æœ‰SQL server,åˆ™å¯ç”¨å¦‚ä¸‹çš„æ–¹æ³•é‡å¯æœåŠ¡å™¨è§£å†³ã€‚ æœ¬åœ°ç”¨SQL serverè¿æ¥ä¸ŠæœåŠ¡å™¨å,åœ¨SQLæŸ¥è¯¢å·¥å…·é‡Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤: xp_cmdshell 'shutdown -r -t 80' ç”¨SQLåœ¨80ç§’åé‡æ–°å¯åŠ¨ç”µè„‘ shutdown -a å–æ¶ˆé‡æ–°å¯åŠ¨ shutdown.exe -a å–æ¶ˆå…³æœº shutdown.exe -d [p]:xx:yy åˆ—å‡ºç³»ç»Ÿå…³é—­çš„åŸå› ä»£ç ã€‚ shutdown.exe -f å¼ºè¡Œå…³é—­åº”ç”¨ç¨‹åºã€‚ shutdown.exe -m \\è®¡ç®—æœºåã€€æ§åˆ¶è¿œç¨‹è®¡ç®—æœºã€‚ shutdown.exe -i æ˜¾ç¤ºå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œä½†å¿…é¡»æ˜¯Shutdownçš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ shutdown.exe -l æ³¨é”€å½“å‰ç”¨æˆ·ã€‚ shutdown.exe -r å…³æœºå¹¶é‡å¯ã€‚ shutdown.exe -t æ—¶é—´ è®¾ç½®å…³æœºå€’è®¡æ—¶ã€‚é»˜è®¤å€¼æ˜¯ 30 ç§’ã€‚ shutdown.exe -c \"æ¶ˆæ¯å†…å®¹\" è¾“å…¥å…³æœºå¯¹è¯æ¡†ä¸­çš„æ¶ˆæ¯å†…å®¹(ä¸èƒ½è¶…127ä¸ªå­—ç¬¦)ã€‚ è¿œç¨‹å…³é—­/é‡å¯pcanywhere xp_cmdshell net stop awhost32 xp_cmdshell net start awhost32 ","date":"2012-12-11","objectID":"/posts/58a4edf/:0:0","tags":["mssql"],"title":"ä½¿ç”¨MSSQLè¿œç¨‹é‡å¯æœåŠ¡å™¨çš„æ–¹æ³•","uri":"/posts/58a4edf/"},{"categories":["æ•°æ®åº“","JDBC"],"content":"Microsoft SQL Server Microsoft SQL Server JDBC Driver ï¼ˆä¸€èˆ¬ç”¨æ¥è¿æ¥ SQLServer 2000ï¼‰ é©±åŠ¨ç¨‹åºåŒ…å:msbase.jar mssqlserver.jar msutil.jar é©±åŠ¨ç¨‹åºç±»å:com.microsoft.jdbc.sqlserver.SQLServerDriver JDBC URL: jdbc:microsoft:sqlserver://\u003cserver_name\u003e:\u003cport\u003e é»˜è®¤ç«¯å£1433ï¼Œå¦‚æœæœåŠ¡å™¨ä½¿ç”¨é»˜è®¤ç«¯å£åˆ™portå¯ä»¥çœç•¥ Microsoft SQL Server 2005 JDBC Driver é©±åŠ¨ç¨‹åºåŒ…å:sqljdbc.jar é©±åŠ¨ç¨‹åºç±»å: com.microsoft.sqlserver.jdbc.SQLServerDriver JDBC URL: jdbc:sqlserver://\u003cserver_name\u003e:\u003cport\u003e é»˜è®¤ç«¯å£1433ï¼Œå¦‚æœæœåŠ¡å™¨ä½¿ç”¨é»˜è®¤ç«¯å£åˆ™portå¯ä»¥çœç•¥ Oracle Oracle Thin JDBC Driver é©±åŠ¨ç¨‹åºåŒ…å:ojdbc14.jar é©±åŠ¨ç¨‹åºç±»å: oracle.jdbc.driver.OracleDriver JDBC URL: jdbc:oracle:thin:@//\u003chost\u003e:\u003cport\u003e/ServiceName æˆ– jdbc:oracle:thin:@\u003chost\u003e:\u003cport\u003e:\u003cSID\u003e IBM DB2 IBM DB2 Universal Driver Type 4 é©±åŠ¨ç¨‹åºåŒ…å:db2jcc.jar db2jcc_license_cu.jar é©±åŠ¨ç¨‹åºç±»å: com.ibm.db2.jcc.DB2Driver JDBC URL: jdbc:db2://\u003chost\u003e[:\u003cport\u003e]/\u003cdatabase_name\u003e IBM DB2 Universal Driver Type 2 é©±åŠ¨ç¨‹åºåŒ…å:db2jcc.jar db2jcc_license_cu.jar é©±åŠ¨ç¨‹åºç±»å: com.ibm.db2.jcc.DB2Driver JDBC URL: jdbc:db2://\u003chost\u003e[:\u003cport\u003e]/\u003cdatabase_name\u003e MySQL MySQL Connector/J Driver é©±åŠ¨ç¨‹åºåŒ…å:mysql-connector-java-x.x.xx-bin.jar é©±åŠ¨ç¨‹åºç±»å: com.mysql.jdbc.Driver JDBC URL: jdbc:mysql://\u003chost\u003e:\u003cport\u003e/\u003cdatabase_name\u003e é»˜è®¤ç«¯å£3306ï¼Œå¦‚æœæœåŠ¡å™¨ä½¿ç”¨é»˜è®¤ç«¯å£åˆ™portå¯ä»¥çœç•¥ MySQL Connector/J Driver å…è®¸åœ¨URLä¸­æ·»åŠ é¢å¤–çš„è¿æ¥å±æ€§ jdbc:mysql://\u003chost\u003e:\u003cport\u003e/\u003cdatabase_name\u003e?property1=value1\u0026property2=value2 Informix Informix JDBC Driver é©±åŠ¨ç¨‹åºåŒ…å:ifxjdbc.jar é©±åŠ¨ç¨‹åºç±»å: com.informix.jdbc.IfxDriver JDBC URL: jdbc:informix-sqli://{\u003cip-address\u003e|\u003chost-name\u003e}:\u003cport-number\u003e[/\u003cdbname\u003e]: INFORMIXSERVER=\u003cserver-name\u003e Sybase Sybase Adaptive Server Enterprise JDBC Driver é©±åŠ¨ç¨‹åºåŒ…å:jconn2.jar æˆ–jconn3.jar é©±åŠ¨ç¨‹åºç±»å: com.sybase.jdbc2.jdbc.SybDriver (com.sybase.jdbc3.jdbc.SybDriver) JDBC URL: jdbc:sybase:Tds:\u003chost\u003e:\u003cport\u003eé»˜è®¤ç«¯å£5000 Sybase Adaptive Server Anywhere or Sybase IQ JDBC Driver é©±åŠ¨ç¨‹åºåŒ…å:jconn2.jar æˆ–jconn3.jar é©±åŠ¨ç¨‹åºç±»å: com.sybase.jdbc2.jdbc.SybDriver (com.sybase.jdbc3.jdbc.SybDriver) JDBC URL: jdbc:sybase:Tds:\u003chost\u003e:\u003cport\u003e?ServiceName=\u003cdatabase_name\u003e é»˜è®¤ç«¯å£2638 PostgreSQL PostgreSQL Native JDBC Driver é©±åŠ¨ç¨‹åºåŒ…å:é©±åŠ¨ç¨‹åºç±»å: org.postgresql.Driver JDBC URL: jdbc:postgresql://\u003chost\u003e:\u003cport\u003e/\u003cdatabase_name\u003e é»˜è®¤ç«¯å£5432 Teradata Teradata Driver for the JDBC Interface é©±åŠ¨ç¨‹åºåŒ…å:terajdbc4.jar tdgssjava.jar gui.jar é©±åŠ¨ç¨‹åºç±»å: com.ncr.teradata.TeraDriver JDBC URL: Type 4: jdbc:teradata://DatabaseServerName/Param1,Param2,â€¦ Type 3: jdbc:teradata://GatewayServerName:PortNumber/DatabaseServerName/Param1,Param2,â€¦ Netezza Netezza JDBC Driver é©±åŠ¨ç¨‹åºåŒ…å:terajdbc4.jar tdgssjava.jar gui.jar é©±åŠ¨ç¨‹åºç±»å: org.netezza.Driver JDBC URL: jdbc:netezza://\u003chost\u003e:\u003cport\u003e/\u003cdatabase_name\u003e ","date":"2012-10-17","objectID":"/posts/c65535ee/:0:0","tags":["jdbc","url"],"title":"å¸¸ç”¨æ•°æ®åº“é©±åŠ¨å’ŒJDBC URL","uri":"/posts/c65535ee/"},{"categories":["Linux/Unix"],"content":"expectæ˜¯ä¸€ç§èƒ½å¤ŸæŒ‰ç…§è„šæœ¬å†…å®¹é‡Œé¢è®¾å®šçš„æ–¹å¼ä¸äº¤äº’å¼ç¨‹åºè¿›è¡Œâ€ä¼šè¯â€çš„ç¨‹åºã€‚æ ¹æ®è„šæœ¬å†…å®¹ï¼ŒExpectå¯ä»¥çŸ¥é“ç¨‹åºä¼šæç¤ºæˆ–åé¦ˆä»€ä¹ˆå†…å®¹ä»¥åŠ ä»€ä¹ˆæ˜¯æ­£ç¡®çš„åº”ç­”ã€‚å®ƒæ˜¯ä¸€ç§å¯ä»¥æä¾›â€åˆ†æ”¯å’ŒåµŒå¥—ç»“æ„â€æ¥å¼•å¯¼ç¨‹åºæµç¨‹çš„è§£é‡Šå‹è„šæœ¬è¯­è¨€ã€‚ shellåŠŸèƒ½å¾ˆå¼ºå¤§,ä½†æ˜¯ä¸èƒ½å®ç°æœ‰äº¤äº’åŠŸèƒ½çš„å¤šæœºå™¨ä¹‹å‰çš„æ“ä½œ,ä¾‹å¦‚sshå’Œftp.è€Œexpectå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ¥å®ç°. å®‰è£…expect yum install expect å…¶å®expectæ ¹bashå½¢åŠ¿ä¸Šå·®ä¸å¤šçš„. å®ä¾‹ #!/wp-content/bin/expect -f set ip [lindex $argv 0 ] //æ¥æ”¶ç¬¬ä¸€ä¸ªå‚æ•°,å¹¶è®¾ç½®IP set password [lindex $argv 1 ] //æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°,å¹¶è®¾ç½®å¯†ç  set timeout 10 //è®¾ç½®è¶…æ—¶æ—¶é—´ spawn ssh root@$ip //å‘é€sshè¯·æ»¶ expect { //è¿”å›ä¿¡æ¯åŒ¹é… \" *yes/no \" { send \" yes\\r \"; exp_continue} //ç¬¬ä¸€æ¬¡sshè¿æ¥ä¼šæç¤ºyes/no,ç»§ç»­ \" *password: \" { send \" $password\\r \" } //å‡ºç°å¯†ç æç¤º,å‘é€å¯†ç  } interact //äº¤äº’æ¨¡å¼,ç”¨æˆ·ä¼šåœç•™åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šé¢. è¿è¡Œç»“æœå¦‚ä¸‹: root@ubuntu:/home/w23ta0# ./test.exp 192.168.1.130 admin spawn ssh root@192.168.1.130 Last login: Fri Sep 7 10:47:43 2012 from 192.168.1.142 [root@linux ~]# è¿™ä¸ªä¾‹å­æœ‰ç»Ÿä¸€çš„æ¥å£,æ ¹æ®IPå’Œå¯†ç å¯ä»¥è¿æ¥åˆ°ä¸åŒçš„æœºå™¨. å¦‚æœä½ å«Œè¾“å…¥IPå’Œå¯†ç éº»çƒ¦,çœ‹ä¸‹é¢çš„ä¾‹å­ #!/wp-content/bin/expect -f set ip 192.168.1.130 set password admin set timeout 10 spawn ssh root@$ip expect { \" *yes/no \" { send \" yes\\r \"; exp_continue} \" *password: \" { send \" $password\\r \" } } interact è¿è¡Œç»“æœå¦‚ä¸‹: root@ubuntu:/home/w23ta0# ./web.exp spawn ssh root@192.168.1.130 Last login: Fri Sep 7 12:59:02 2012 from 192.168.1.142 [root@linux ~]# sshè¿œç¨‹ç™»å½•åˆ°æœåŠ¡å™¨,å¹¶ä¸”æ‰§è¡Œå‘½ä»¤,æ‰§è¡Œå®Œåå¹¶é€€å‡º #!/wp-content/bin/expect -f set ip 192.168.1.130 set password admin set timeout 10 spawn ssh root@$ip expect { \" *yes/no \" { send \" yes\\r \"; exp_continue} \" *password: \" { send \" $password\\r \" } } expect \" #* \" send \" pwd\\r \" send \" exit\\r \" expect eof è¿è¡Œç»“æœå¦‚ä¸‹: root@ubuntu:/home/w23ta0# ./test3.exp spawn ssh root@192.168.1.130 root@192.168.1.130's password: Last login: Fri Sep 7 14:05:07 2012 from 116.246.27.90 [root@localhost ~]# pwd /root [root@localhost ~]# exit logout Connection to 192.168.1.130 closed. è¿œç¨‹ç™»å½•åˆ°ftp,å¹¶ä¸”ä¸‹è½½æ–‡ä»¶ #!/wp-content/bin/expect -f set ip [lindex $argv 0 ] set dir [lindex $argv 1 ] set file [lindex $argv 2 ] set timeout 10 spawn ftp $ip expect \" Name* \" send \" zwh\\r \" expect \" Password:* \" send \" zwh\\r \" expect \" ftp\u003e* \" send \" lcd $dir\\r \" expect { \" *file \" { send_user \" local $_dir No such file or directory \";send \" quit\\r \" } \" *now* \" { send \" get $dir/$file $dir/$file\\r \"} } expect { \" *Failed \" { send_user \" remote $file No such file \";send \" quit\\r \" } \" *OK \" { send_user \" $file has been download\\r \";send \" quit\\r \"} } expect eof è¿è¡Œç»“æœå¦‚ä¸‹: root@ubuntu:/home/w23ta0# ./test2.exp 192.168.1.130 /var/www/www aaa.html spawn ftp 192.168.1.130 Connected to 192.168.1.130. 220 (vsFTPd 2.0.5) Name (192.168.1.130:root): zwh 331 Please specify the password. Password: 230 Login successful. Remote system type is UNIX. Using binary mode to transfer files. ftp\u003e lcd /var/www/www Local directory now /var/www/www ftp\u003e get /var/www/www/aaa.html /var/www/www/aaa.html local: /var/www/www/aaa.html remote: /var/www/www/aaa.html 200 PORT command successful. Consider using PASV. 150 Opening BINARY mode data connection for /var/www/www/aaa.html (66 bytes). 226 File send OK. 66 bytes received in 0.00 secs (515.6 kB/s) quit aaa.html has been download 221 Goodbye. ","date":"2012-10-10","objectID":"/posts/fc7dce9e/:0:0","tags":["expect","ssh","ftp"],"title":"linux expectè‡ªåŠ¨ç™»å½•ssh,ftp","uri":"/posts/fc7dce9e/"},{"categories":["Linux/Unix"],"content":"initrd.imgæ˜¯ä¸€ä¸ªå°çš„æ˜ è±¡ï¼ŒåŒ…å«ä¸€ä¸ªæœ€å°çš„linuxç³»ç»Ÿã€‚é€šå¸¸çš„æ­¥éª¤æ˜¯å…ˆå¯åŠ¨å†…æ ¸ï¼Œç„¶åå†…æ ¸æŒ‚è½½initrd.imgï¼Œå¹¶æ‰§è¡Œé‡Œé¢çš„è„šæœ¬æ¥è¿›ä¸€æ­¥æŒ‚è½½å„ç§å„æ ·çš„æ¨¡å—ï¼Œç„¶åå‘ç°çœŸæ­£çš„rootåˆ†åŒºï¼ŒæŒ‚è½½å¹¶æ‰§è¡Œ/sbin/initâ€¦ initrd.imgå½“ç„¶æ˜¯å¯é€‰çš„äº†ï¼Œå¦‚æœæ²¡æœ‰initrd.img,å†…æ ¸å°±è¯•å›¾ç›´æ¥æŒ‚è½½rootåˆ†åŒºã€‚ è¯´initrd.imgæ–‡ä»¶è¿˜ä¼šæåˆ°å¦å¤–ä¸€ä¸ªåè§’â€”vmlinuzã€‚vmlinuzæ˜¯å¯å¼•å¯¼çš„ã€å‹ç¼©çš„å†…æ ¸ã€‚â€œvmâ€ä»£è¡¨ â€œVirtual Memoryâ€ã€‚Linux æ”¯æŒè™šæ‹Ÿå†…å­˜ï¼Œä¸åƒè€çš„æ“ä½œç³»ç»Ÿæ¯”å¦‚DOSæœ‰640KBå†…å­˜çš„é™åˆ¶ã€‚Linuxèƒ½å¤Ÿä½¿ç”¨ç¡¬ç›˜ç©ºé—´ä½œä¸ºè™šæ‹Ÿå†…å­˜ï¼Œå› æ­¤å¾—åâ€œvmâ€ã€‚å¦å¤–ï¼švmlinuxæ˜¯æœªå‹ç¼©çš„å†…æ ¸ï¼Œvmlinuzæ˜¯vmlinuxçš„å‹ç¼©æ–‡ä»¶ã€‚ ä¸ºä»€ä¹ˆè¦initrd.img ç³»ç»Ÿå†…æ ¸vmlinuzè¢«åŠ è½½åˆ°å†…å­˜åå¼€å§‹æä¾›åº•å±‚æ”¯æŒï¼Œåœ¨å†…æ ¸çš„æ”¯æŒä¸‹å„ç§æ¨¡å—ï¼ŒæœåŠ¡ç­‰è¢«åŠ è½½è¿è¡Œã€‚è¿™æ ·å½“ç„¶æ˜¯å¤§å®¶æœ€å®¹æ˜“æ¥å—çš„æ–¹å¼ï¼Œæ›¾ç»çš„linuxå°±æ˜¯è¿™æ ·çš„è¿è¡Œçš„ã€‚å‡è®¾ä½ çš„ç¡¬ç›˜æ˜¯scsi æ¥å£è€Œä½ çš„å†…æ ¸åˆä¸æ”¯æŒè¿™ç§æ¥å£æ—¶ï¼Œä½ çš„å†…æ ¸å°±æ²¡æœ‰åŠæ³•è®¿é—®ç¡¬ç›˜ï¼Œå½“ç„¶ä¹Ÿæ²¡æ³•åŠ è½½ç¡¬ç›˜ä¸Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ€ä¹ˆåŠï¼ŸæŠŠå†…æ ¸åŠ å…¥scsié©±åŠ¨æºç ç„¶åé‡æ–°ç¼–è¯‘å‡ºä¸€ä¸ªæ–°çš„å†…æ ¸æ–‡ä»¶æ›¿æ¢åŸæ¥vmlinuzã€‚ éœ€è¦æ”¹å˜æ ‡å‡†å†…æ ¸é»˜è®¤æä¾›æ”¯æŒçš„ä¾‹å­è¿˜æœ‰å¾ˆå¤šï¼Œå¦‚æœæ¯æ¬¡éƒ½éœ€è¦ç¼–è¯‘å†…æ ¸å°±å¤ªéº»çƒ¦äº†ã€‚æ‰€ä»¥åæ¥çš„linuxå°±æä¾›äº†ä¸€ä¸ªçµæ´»çš„æ–¹æ³•æ¥è§£å†³è¿™äº›é—®é¢˜â€”initrd.imgã€‚initrd.imgæ–‡ä»¶å°±æ˜¯ä¸ªram diskçš„æ˜ åƒæ–‡ä»¶ã€‚ramdiskæ˜¯ç”¨ä¸€éƒ¨åˆ†å†…å­˜æ¨¡æ‹Ÿæˆç£ç›˜ï¼Œè®©æ“ä½œç³»ç»Ÿè®¿é—®ã€‚ram diskæ˜¯æ ‡å‡†å†…æ ¸æ–‡ä»¶è®¤è¯†çš„è®¾å¤‡(/dev/ram0)æ–‡ä»¶ç³»ç»Ÿä¹Ÿæ˜¯æ ‡å‡†å†…æ ¸è®¤è¯†çš„æ–‡ä»¶ç³»ç»Ÿã€‚å†…æ ¸åŠ è½½è¿™ä¸ªram diskä½œä¸ºæ ¹æ–‡ä»¶ç³»ç»Ÿå¹¶å¼€å§‹æ‰§è¡Œå…¶ä¸­çš„â€æŸä¸ªæ–‡ä»¶â€ï¼ˆ2.6å†…æ ¸æ˜¯ initæ–‡ä»¶ï¼‰æ¥åŠ è½½å„ç§æ¨¡å—ï¼ŒæœåŠ¡ç­‰ã€‚ç»è¿‡ä¸€äº›é…ç½®å’Œè¿è¡Œåï¼Œå°±å¯ä»¥å»ç‰©ç†ç£ç›˜åŠ è½½çœŸæ­£çš„rootåˆ†åŒºäº†ï¼Œç„¶ååˆæ˜¯ä¸€äº›é…ç½®ç­‰ï¼Œæœ€åå¯åŠ¨æˆåŠŸã€‚ä¹Ÿå°±æ˜¯ä½ åªéœ€è¦å®šåˆ¶é€‚åˆè‡ªå·±çš„ initrd.img æ–‡ä»¶å°±å¯ä»¥äº†ã€‚è¿™è¦æ¯”é‡ç¼–å†…æ ¸ç®€å•å¤šäº†ï¼Œçœæ—¶çœäº‹ä½é£é™©ã€‚ ","date":"2012-09-16","objectID":"/posts/9390f1b0/:0:0","tags":["initrd","vmlinux","vmlinuz"],"title":"æ ¸å¿ƒæ–‡ä»¶initrd.imgã€vmlinux å’Œvmlinuz","uri":"/posts/9390f1b0/"},{"categories":["Linux/Unix"],"content":"åœ¨ç®¡ç†æœåŠ¡å™¨æ—¶ï¼Œæˆ‘é€šå¸¸é€‰æ‹©ä½¿ç”¨ SSH æ–¹å¼ã€‚ä»¥ä¸‹æ˜¯ä¸€åˆ™ SSH ä½¿ç”¨æŠ€å·§ï¼Œå¸Œæœ›å¯¹ä½ æœ‰ç”¨ã€‚ åˆ›å»ºå¿«æ·æ–¹å¼ å½“ä½ åœ¨æ‰§è¡Œ ssh å‘½ä»¤ç™»å½•æœåŠ¡å™¨æ—¶ï¼Œæœ‰æ²¡æœ‰è¢«éœ€è¦è¾“å…¥å‘½ä»¤åé¢çš„ä¸€é•¿ä¸²å‚æ•°æ„Ÿåˆ°åŒçƒ¦å‘¢ï¼Ÿæ¯”å¦‚ï¼Œåä¸º serveradmin@domain.com çš„ç”¨æˆ·è¦ç™»å½•åˆ° example.com ä¸»æœºä¸Šï¼Œéœ€æ‰§è¡Œï¼š ssh serveradmin@domain.com@example.com ä½ å½“ç„¶å¯ä»¥ä½¿ç”¨ aliasï¼Œä½† SSH æœ¬èº«ä¹Ÿæä¾›æœ‰ç›¸åº”çš„è§£å†³æ–¹æ¡ˆâ”€â”€ä½ å¯ä»¥ä¸ºéœ€è¦ç»å¸¸è®¿é—®çš„è¿œç¨‹ä¸»æœºåˆ›å»ºå¿«æ·æ–¹å¼ã€‚ æ‰¾æ‰¾çœ‹ä½ çš„ç”¨æˆ·ä¸»ç›®å½•ä¸‹æ˜¯å¦æœ‰ .sshï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™ä½¿ç”¨ mkdir åˆ›å»ºä¸€ä¸ªï¼› ä½¿ç”¨ä½ å–œæ¬¢çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆå¦‚ Vimï¼‰æ¥åˆ›å»º config é…ç½®æ–‡ä»¶ï¼š vim ~/.ssh/config ä»ä»¥å‰é¢çš„ä¾‹å­æ¥è¯´æ˜ï¼Œå‡è®¾æˆ‘è¦åˆ›å»ºçš„å¿«æ·æ–¹å¼åä¸º ltï¼Œåˆ™åŠ å…¥ä¸‹é¢çš„å†…å®¹ï¼Œå…¶ä¸­ HostName ä¸ºä¸»æœºåï¼ŒUser ä¸ºç”¨æˆ·åï¼š Host lt HostName example.com User serveradmin@domain.com ä¿å­˜ç¼–è¾‘ã€‚ ç°åœ¨ï¼Œä½ åªè¦æ‰§è¡Œssh ltå°±å¯ä»¥äº†ã€‚ ","date":"2012-09-15","objectID":"/posts/b42cf71/:0:0","tags":["ssh"],"title":"SSH ä½¿ç”¨æŠ€å·§ä¸€åˆ™:åˆ›å»ºå¿«æ·æ–¹å¼","uri":"/posts/b42cf71/"},{"categories":["Webç›¸å…³","Nginx"],"content":"æœ€è¿‘æŠ½å‡ºäº†ä¸€ç‚¹æ—¶é—´ï¼Œç ”ç©¶äº†ä½¿ç”¨.htaccess å¼€å¯ç½‘é¡µgzipå‹ç¼©çš„é—®é¢˜ã€‚ å¤§å®¶éƒ½çŸ¥é“ç½‘é¡µæ‰“å¼€é€Ÿåº¦ä¸dnsï¼ŒæœåŠ¡å™¨ï¼Œé¡µé¢ä»£ç ï¼Œç½‘ç«™ç»“æ„ï¼Œç»Ÿç»Ÿéƒ½ç›¸å…³ã€‚ ç½‘é¡µå‹ç¼©çš„é—®é¢˜ã€‚å› ä¸ºæœ¬äººçš„å¤§éƒ¨åˆ†ç½‘ç«™éƒ½æ˜¯PHPçš„ï¼Œæ‰€ä»¥ï¼ŒåŸºæœ¬éœ€è¦.htaccessæ¥è§£å†³ã€‚ åœ¨.htaccessæ–‡ä»¶ä¸­è¯·åŠ å…¥ä»¥ä¸‹ä»£ç å³å¯ï¼š \u003cIfModule mod_deflate.c\u003e ExpiresActive On ExpiresDefault A600 ExpiresByType image/x-icon A2592000 ExpiresByType application/x-javascript A2592000 ExpiresByType text/css A604800 ExpiresByType image/gif A2592000 ExpiresByType image/png A2592000 ExpiresByType image/jpeg A2592000 ExpiresByType text/plain A86400 ExpiresByType application/x-shockwave-flash A2592000 ExpiresByType video/x-flv A2592000 ExpiresByType application/pdf A2592000 ExpiresByType text/html A600 # Insert filters AddOutputFilter DEFLATE html xml php js css AddOutputFilterByType DEFLATE text/plain AddOutputFilterByType DEFLATE text/html AddOutputFilterByType DEFLATE text/xml AddOutputFilterByType DEFLATE text/css AddOutputFilterByType DEFLATE application/xml AddOutputFilterByType DEFLATE application/xhtml+xml AddOutputFilterByType DEFLATE application/rss+xml AddOutputFilterByType DEFLATE application/javascript AddOutputFilterByType DEFLATE application/x-javascript AddOutputFilterByType DEFLATE application/x-httpd-php AddOutputFilterByType DEFLATE application/x-httpd-fastphp AddOutputFilterByType DEFLATE image/svg+xml # Drop problematic browsers BrowserMatch ^Mozilla/4 gzip-only-text/html BrowserMatch ^Mozilla/4.0[678] no-gzip BrowserMatch !no-gzip !gzip-only-text/html # Make sure proxies don't deliver the wrong conten Header append Vary User-Agent env=!dont-vary \u003c/IfModule\u003e å¦‚æœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥è‡ªå·±æ–°å»ºã€‚ç„¶åä¸Šä¼ åˆ°ç©ºé—´å°±å¯ä»¥äº†ã€‚ è¿™æ—¶å€™ï¼Œä½ å¯ä»¥ä½¿ç”¨ç«™é•¿å·¥å…·æµ‹è¯•ä¸€ä¸‹ã€‚ æ¨èchinaz.comç«™é•¿å·¥å…·ã€‚ ","date":"2012-08-24","objectID":"/posts/4ff7f2ee/:0:0","tags":["htaccess"],"title":".htaccesså®ç°ç½‘é¡µGzipå‹ç¼©","uri":"/posts/4ff7f2ee/"},{"categories":["Webç›¸å…³","Apache"],"content":"å›½å†…çš„å¾ˆå¤šLinuxå‹ä¸»æœºé»˜è®¤æ˜¯ä¸å¼€å¯.htaccessçš„ï¼Œä»è€Œå¯¼è‡´ä¸æ”¯æŒä¼ªé™æ€ã€‚è€Œå›½å¤–çš„è™šæ‹Ÿä¸»æœºåŸºæœ¬ä¸Šéƒ½æ˜¯æ”¯æŒæ­¤æœåŠ¡çš„ï¼Œæˆ‘æ›¾ç»é—®è¿‡å›½å†…çš„ä¸»æœºæä¾›å•†ä¸ºä½•ä¸å¼€å¯.htaccessæœåŠ¡ï¼Œä»–ä»¬çš„å›ç­”å¾ˆå¯ç¬‘ï¼Œè¯´æ˜¯å‡è½»æœåŠ¡å™¨çš„è´Ÿæ‹…ï¼Œå‘µï¼Œè¿™çœŸæ˜¯ç¬¦åˆäº†ä¸­å›½çš„å›½æƒ…ï¼ŒçœŸè®©ä½ ä¸çŸ¥ä»¥ä½•ç§è¯­è¨€åå‡»ä¹‹ã€‚ è¿™é‡Œç»™ä¸€äº›èœé¸Ÿæ‰«æ‰«ç›²ï¼Œå¾ˆå¤šç«™é•¿éƒ½å•çº¯çš„ä»¥ä¸º.htaccesså°±æ˜¯ä¼ªé™æ€ï¼ŒæŠŠ.htaccesså½“æˆä¼ªé™æ€çš„ä»£åè¯ï¼Œä»¥ä¸º.htaccesså°±èµ·åˆ°.htaccessçš„ä½œç”¨ï¼Œå…¶å®å®ƒçš„ä½œç”¨æ¯”ä½ æƒ³è±¡çš„å¤§å¾—å¤šï¼Œé™¤äº†ä¼ªé™æ€ï¼Œè¿˜æœ‰æˆ‘ä»¬ç†ŸçŸ¥çš„404å•Šã€301è·³è½¬å•Šç­‰ï¼Œéƒ½å¯ä»¥é€šè¿‡.htaccessæ¥å®ç°ï¼Œä¸‹é¢æ¥ç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹å¦‚ä½•åœ¨Linuxå‹ä¸»æœºä¸‹å¼€å¯.htaccessçš„æ”¯æŒï¼Œå‰æä½ æœ‰è¿™ä¸ªæƒé™ï¼Œä¸€èˆ¬è¿™ä¸ªé’ˆå¯¹çš„æ˜¯æœåŠ¡å™¨æˆ–è€…VPSï¼Œè™šæ‹Ÿä¸»æœºåŸºæœ¬ä¸Šæ˜¯æ²¡é—¨ï¼Œé™¤éä½ è¦æ±‚æä¾›å•†å¸®ä½ å¼€å¯ã€‚å¦ä¸€ç§æƒ…å†µæ˜¯æœ‰äº›ç«¥é‹åœ¨æœ¬åœ°æ­å»ºPHP+MySQL+Apacheçš„æ—¶å€™ç”¨å¾—ç€æ­¤æ–¹æ³•ï¼Œæœ¬åœ°çš„ä¸€é”®å®‰è£…åŒ…æœ‰xampp å’Œphpnowç­‰ï¼Œæˆ‘ä¸ªäººæ¨èä½¿ç”¨phpnowï¼Œç®€å•æ˜“ç”¨ï¼Œå®Œå…¨å‚»ç“œå¼ã€‚å¦‚æœä½ ä½¿ç”¨phpnowæ­å»ºçš„è¯ä½ å°±ä¸ç”¨å¾€ä¸‹çœ‹äº†ï¼Œå› ä¸ºé»˜è®¤æ˜¯å¼€å¯çš„ã€‚ æ–¹æ³•å¦‚ä¸‹ï¼š ç¬¬ä¸€ï¼šåœ¨Apacheæ–‡ä»¶å¤¹ä¸‹çš„confæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°httpd.confï¼Œè®°äº‹æœ¬æˆ–è€…ç±»ä¼¼çš„ç¼–è¾‘å·¥å…·æ‰“å¼€åCtrl+FæŸ¥æ‰¾ LoadModule rewrite_moduleï¼Œæ‰¾åˆ° LoadModule rewrite_module modules/mod_rewrite.so æ‰€åœ¨çš„é‚£ä¸€è¡Œï¼Œç¡®å®šè¿™ä¸€è¡Œå‰é¢æ²¡æœ‰#ï¼Œå°±è¯´æ˜å·²ç»åŠ è½½äº†ä¼ªé™æ€æ¨¡å—ï¼Œå‡å¦‚è¿™ä¸€è¡Œå‰é¢æœ‰#ï¼Œè¯·å»æ‰ï¼Œphpnowå®‰è£…åé»˜è®¤æ˜¯æ²¡æœ‰#çš„ã€‚ ç¬¬äºŒï¼šè®©ApacheæœåŠ¡å™¨æ”¯æŒ.htaccessï¼Œå¦‚ä½•è®©è‡ªå·±çš„æœ¬åœ°ApacheæœåŠ¡å™¨æ”¯æŒ\".htaccess\"å‘¢?å…¶å®åªè¦ç®€å•ä¿®æ”¹ä¸€ä¸‹ apacheçš„httpd.confè®¾ç½®å°±å¯ä»¥è®©æ”¯æŒ.htaccessäº†ã€‚æ‰“å¼€httpd.confæ–‡ä»¶ï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å,æŸ¥æ‰¾ Options FollowSymLinks AllowOverride None æ”¹ä¸º Options FollowSymLinks AllowOverride All æ˜¯ç¡®å®šæ˜¯å¦å·²ç»åŠ è½½äº†ä¼ªé™æ€æ¨¡å— æ˜¯ä¿®æ”¹è¿™ä¸€å¤„çš„è®¾ç½®ã€‚æ“ä½œå®Œåæµ‹è¯•ä¸€ä¸‹.htaccessæ˜¯å¦å·²ç”Ÿæ•ˆï¼Œå¦‚è¿˜æœªç”Ÿæ•ˆï¼Œè¯·é‡å¯ApacheæœåŠ¡ã€‚ ","date":"2012-08-20","objectID":"/posts/28e6d681/:0:0","tags":["htaccess"],"title":"è®©Linuxä¸»æœºå¼€å¯.htaccessæ”¯æŒ","uri":"/posts/28e6d681/"},{"categories":["Linux/Unix"],"content":"vmlinuz æ˜¯ä¸€ä¸ªä¸ºå†…æ ¸æ˜ åƒï¼Œ vmlinuzé‡Œé¢æœ‰gzipçš„ä¸€æ®µä»£ç ã€‚ initrd.img æ˜¯ä½œä¸ºé¿å…åœ¨vmlinuzé‡Œç¼–è¯‘æ‰€æœ‰çš„é©±åŠ¨æ¨¡å—ï¼Œæ‰€ä»¥ä½¿ç”¨äº†ä¸€ä¸ªä¸­é—´å±‚çš„æŠ€æœ¯ initrdæœ‰ä¸¤ç§æ ¼å¼ï¼Œä¸€ç§æ˜¯è¾ƒæ—©çš„2.4.xä¸­çš„image-initrdæ ¼å¼ï¼Œé‡Œé¢ä»¥/linuxrcä¸ºä¸»å¯¼ã€‚å¦ä¸€ç§æ˜¯cpio-initrd çœ‹äº†ç½‘ä¸Šçš„èµ„æ–™ï¼Œæƒ³å­¦ç€çœ‹çœ‹ initrdé‡Œæ˜¯ä»€ä¹ˆä¸ªæ ·å­ cp /boot/initrd.imgxxx initrd.img.gz gunzip initrd.img.gz # è¿™ä¸ªå¦‚æœä¸åŠ åç¼€gz å°±å¾—ä½¿ç”¨ gunzip -S .img xx.img mkdir initrd mv initrd.img.gz initrd cd initrd cpio -ivmd \u003c initrd.img #ç”¨cpioæ ¼å¼æ‰“çš„åŒ…ï¼Œé‡Šæ”¾å‡ºæ¥ï¼Œokï¼Œå°±å¯ä»¥çœ‹åˆ°äº†ã€‚ ç¼–è¯‘å†…æ ¸ï¼š centos 6.2ï¼š make mrproper // æ–°å†…æ ¸ä¸ç”¨ï¼Œæ£€æŸ¥ä¾èµ–å¯¹ä¸å¯¹ make menuconfig //é…ç½®é€‰é¡¹ make modules_install //å®‰è£…modules /lib/modules å¯¹åº”çš„æ–‡ä»¶å¤¹ make install // å°† vmlinuz å’Œ initrd.img æ”¾åˆ° /boot ä¸‹ï¼Œå¹¶å¡«å†™å¯¹åº”çš„ /boot/grub/menu.lst è‡ªå·±å¯ä»¥çœ‹çœ‹ ","date":"2012-08-16","objectID":"/posts/96df565/:0:0","tags":["initrd.img","vmlinuz"],"title":"Linux initrd.img è§£å‹åˆ†æ","uri":"/posts/96df565/"},{"categories":["Windows"],"content":"ä»Šå¤©çœ‹äº†ä¸€ä¸ªå¸–å­ï¼Œwin7ç³»ç»Ÿé€šè¿‡ç¬”è®°æœ¬çš„æ— çº¿ç½‘å¡ï¼Œå¯ç”¨è™šæ‹ŸWifiåŠŸèƒ½å…±äº«ä¸Šç½‘ï¼Œè‡ªå·±å°è¯•äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰å¾ˆå¥½ç”¨ï¼Œè‡³å°‘æ²¡æœ‰æ— çº¿è·¯ç”±çš„è‡ªå·±ï¼Œæ‰‹æœºå¯ä»¥ä¸Šwifiäº†ï¼Œæ›´æ–°è½¯ä»¶ç©å¾®ä¿¡ç­‰ç­‰ï¼Œéƒ½æ–¹ä¾¿å¤šäº†ï¼Œå¥½äº†ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œå…ˆä»‹ç»ä¸‹å§ã€‚ å¯åŠ¨æ‰¿è½½ç½‘ç»œ æŸ¥çœ‹ç¬”è®°æœ¬ç½‘å¡æ˜¯å¦æ”¯æŒâ€å¯åŠ¨æ‰¿è½½ç½‘ç»œâ€çš„åŠŸèƒ½ï¼Œä½¿ç”¨ç®¡ç†å‘˜è¿è¡Œcmdå‘½ä»¤ï¼Œ netsh wlan show driver æ˜¾ç¤ºæ— çº¿ç½‘å¡é©±åŠ¨ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¦‚æœåŠŸèƒ½æ˜¯â€å¦â€ï¼Œè¯´æ˜ä½ çš„æ— çº¿ç½‘å¡ä¸æ”¯æŒè¿™ä¸ªåŠŸèƒ½ï¼Œå¦‚æœä¸ºâ€æ˜¯â€å°±ç»§ç»­è·Ÿæˆ‘å°è¯•è¿™ä¸ªåŠŸèƒ½å§ã€‚ã€ç¡®å®šçš„æ–¹æ³•ï¼Œè¿˜å¯ä»¥æŸ¥çœ‹ä»»åŠ¡ç®¡ç†å™¨ï¼Œæ— çº¿ç½‘å¡çš„â€é©±åŠ¨ç¨‹åºè¯¦ç»†ä¿¡æ¯â€ï¼Œé‡Œé¢æ˜¯å¦æœ‰vwifibus.sysé©±åŠ¨ç¨‹åºæ–‡ä»¶ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•ç¡®å®šã€‘ è®¾ç½®SSIDå’Œå¯†ç  ç¡®å®šä½ çš„æ— çº¿ç½‘å¡æœ‰è¿™ä¸ªåŠŸèƒ½åï¼Œå¼€å§‹å¯åŠ¨virtaul wifi.åŒæ ·æ˜¯å‘½ä»¤è¡Œ netsh wlan set hostednetwork mode=allow ssid=Windows7AP key=password å¯åŠ¨åï¼Œå¯ä»¥æŸ¥çœ‹â€ç½‘ç»œå…±äº«ä¸­å¿ƒâ€-â€œæ›´æ”¹é€‚é…å™¨è®¾ç½®â€ï¼Œé‡Œé¢ä¼šå¤šå‡ºä¸€ä¸ªâ€Microsoft Virtual WiFi Miniport Adapterâ€ï¼Œä½ ä¹Ÿå¯ä»¥é‡å‘½åè¿™ä¸ªç½‘ç»œè¿æ¥ï¼Œå½“ç„¶è¿™ä¸ªå¯¹äºç½‘ç»œè¿æ¥æ˜¯æ²¡æœ‰ä»»ä½•å½±å“çš„ï¼Œæˆ‘é‡å‘½åæ”¹æˆäº†Virtual WiFiï¼Œä¸»è¦æ˜¯ä¹‹å‰çœ‹ç€å¤ªé•¿äº†ï¼Œå“ˆå“ˆã€‚ å¼€å¯å…±äº«ä¸Šç½‘ æ‰“å¼€â€ç½‘ç»œå…±äº«ä¸­å¿ƒâ€-â€œæ›´æ”¹é€‚é…å™¨è®¾ç½®â€ã€åœ¨å·¦ä¾§çš„æ é‡Œé¢ã€‘-æ‰¾åˆ°ä½ ç°åœ¨ä¸Šç½‘ç”¨çš„è¿æ¥ï¼Œå³é”®å±æ€§ï¼Œç‚¹å‡»å…±äº«çš„æ ‡ç­¾ï¼Œå‹¾é€‰ç¬¬ä¸€ä¸ªé€‰é¡¹å¡ã€å¦‚ä¸‹å›¾ã€‘ï¼Œåœ¨ä¸‹é¢çš„è¾“å…¥æ¡†ç‚¹å‡»ï¼Œå¼¹å‡ºåˆ—è¡¨ï¼Œé€‰æ‹©ä½ çš„Microsoft Virtual WiFi Miniport Adapterç½‘ç»œè¿æ¥ï¼Œæˆ‘è¿™é‡Œåˆšåˆšé‡å‘½åäº†ï¼Œæ‰€ä»¥é€‰æ‹©Virtual WiFiï¼Œç¡®å®šã€‚ æ‰“å¼€æ— çº¿ç½‘ åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ï¼šnetsh wlan start hostednetwork å¯åŠ¨åï¼Œç”¨æ‰‹æœºæœè¿™ä¸ªæ— çº¿ç½‘ï¼Œå°±å¯ä»¥å’¯ï¼Œå“ˆå“ˆï¼Œæˆ‘ç°åœ¨å·²ç»é€šè¿‡è¿™ä¸ªæ–¹å¼ä¸Šç½‘äº†ï¼Œå¦‚æœä½ åªæœ‰ä¸€å°ç”µè„‘èƒ½é€šè¿‡ç½‘çº¿ä¸Šç½‘ï¼Œåˆæœ‰å…¶å®ƒéœ€æ±‚ï¼Œä¸å¦¨è¯•ä¸€ä¸‹ã€‚å½“ç„¶ï¼Œè¿™ä¸€é¡¹æœ‰å¯èƒ½æŠ¥é”™ï¼Œæ˜¯å› ä¸ºä½ æ²¡æœ‰å¯åŠ¨æ— çº¿ç½‘å¡ï¼Œå“¥ã€é€šè¿‡æ— çº¿ç½‘å¡ä¸Šç½‘ï¼Œä¸å¯åŠ¨æ€ä¹ˆè¡Œå‘¢ï¼Ÿï¼å¥½äº†ï¼Œä¸åºŸè¯äº†ï¼Œæˆ‘å»ç©å¾®ä¿¡äº†ï¼Œå¤§å®¶æ‹œå’¯~ ","date":"2012-07-10","objectID":"/posts/19719f8d/:0:0","tags":["windows","wifi"],"title":"Win7ç¬”è®°æœ¬ç”µè„‘å¯ç”¨è™šæ‹ŸWifiå…±äº«ä¸Šç½‘","uri":"/posts/19719f8d/"},{"categories":["æ•°æ®åº“","Mysql"],"content":"MysqlæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢ service mysql start service mysql stop ç™»é™†Mysql è¯­æ³•å¦‚ä¸‹ï¼š mysql -uç”¨æˆ·å -pç”¨æˆ·å¯†ç  é”®å…¥å‘½ä»¤ mysql -uroot -p å›è½¦åæç¤ºä½ è¾“å…¥å¯†ç ï¼Œè¾“å…¥12345ï¼Œç„¶åå›è½¦å³å¯è¿›å…¥åˆ°mysqlä¸­äº†ï¼Œmysqlçš„æç¤ºç¬¦æ˜¯ï¼š mysql\u003e æ³¨æ„ï¼Œå¦‚æœæ˜¯è¿æ¥åˆ°å¦å¤–çš„æœºå™¨ä¸Šï¼Œåˆ™éœ€è¦åŠ å…¥ä¸€ä¸ªå‚æ•°-hæœºå™¨IP å¢åŠ æ–°ç”¨æˆ· æ ¼å¼ï¼šgrant æƒé™ on æ•°æ®åº“.* to ç”¨æˆ·å@ç™»å½•ä¸»æœº identified by â€œå¯†ç â€ ä¾‹å¦‚ï¼šå¢åŠ ä¸€ä¸ªç”¨æˆ·user1å¯†ç ä¸ºpassword1ï¼Œè®©å…¶å¯ä»¥åœ¨æœ¬æœºä¸Šç™»å½•ï¼Œ å¹¶å¯¹æ‰€æœ‰æ•°æ®åº“æœ‰æŸ¥è¯¢ã€æ’å…¥ã€ä¿®æ”¹ã€åˆ é™¤çš„æƒé™ã€‚ é¦–å…ˆç”¨ä»¥rootç”¨æˆ·è¿å…¥mysqlï¼Œç„¶åé”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼š grant select,insert,update,delete on *.* to user1@localhost Identified by \"password1\"; å¦‚æœå¸Œæœ›è¯¥ç”¨æˆ·èƒ½å¤Ÿåœ¨ä»»ä½•æœºå™¨ä¸Šç™»é™†mysqlï¼Œåˆ™å°†localhostæ”¹ä¸º\"%\"ã€‚ grant select,insert,update,delete on *.* to user1@% Identified by \"password1\"; å¦‚æœä½ ä¸æƒ³user1æœ‰å¯†ç ï¼Œå¯ä»¥å†æ‰“ä¸€ä¸ªå‘½ä»¤å°†å¯†ç å»æ‰ã€‚ grant select,insert,update,delete on mydb.* to user1@localhost identified by \"\"; æ“ä½œæ•°æ®åº“ ç™»å½•åˆ°mysqlä¸­ï¼Œç„¶ååœ¨mysqlçš„æç¤ºç¬¦ä¸‹è¿è¡Œä¸‹åˆ—å‘½ä»¤ï¼Œæ¯ä¸ªå‘½ä»¤ä»¥åˆ†å·ç»“æŸã€‚ æ˜¾ç¤ºæ•°æ®åº“åˆ—è¡¨ã€‚ show databases; ç¼ºçœæœ‰ä¸¤ä¸ªæ•°æ®åº“ï¼šmysqlå’Œtestã€‚ mysqlåº“å­˜æ”¾ç€mysqlçš„ç³»ç»Ÿå’Œç”¨æˆ·æƒé™ä¿¡æ¯ï¼Œæˆ‘ä»¬æ”¹å¯†ç å’Œæ–°å¢ç”¨æˆ·ï¼Œå®é™…ä¸Šå°±æ˜¯å¯¹è¿™ä¸ªåº“è¿›è¡Œæ“ä½œã€‚ æ˜¾ç¤ºåº“ä¸­çš„æ•°æ®è¡¨ï¼š use mysql; show tables; æ˜¾ç¤ºæ•°æ®è¡¨çš„ç»“æ„ï¼š describe è¡¨å; å»ºåº“ä¸åˆ åº“ï¼š create database åº“å; drop database åº“å; å»ºè¡¨ä¸åˆ è¡¨ï¼š use åº“å; create table è¡¨å(å­—æ®µåˆ—è¡¨); drop table è¡¨å; æ¸…ç©ºè¡¨ä¸­è®°å½•ï¼š delete from è¡¨å; æ˜¾ç¤ºè¡¨ä¸­çš„è®°å½•ï¼š select * from è¡¨å; å¯¼å‡ºå’Œå¯¼å…¥æ•°æ® å¯¼å‡ºæ•°æ®ï¼š mysqldump â€“opt test \u003e mysql.test å³å°†æ•°æ®åº“testæ•°æ®åº“å¯¼å‡ºåˆ°mysql.testæ–‡ä»¶ï¼Œåè€…æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ å¦‚ï¼šmysqldump -u root -p123456 â€“databases dbname \u003e mysql.dbname å°±æ˜¯æŠŠæ•°æ®åº“dbnameå¯¼å‡ºåˆ°æ–‡ä»¶mysql.dbnameä¸­ã€‚ å¯¼å…¥æ•°æ®: mysqlimport -u root -p123456 \u003c mysql.dbnameã€‚ ä¸ç”¨è§£é‡Šäº†å§ã€‚ å°†æ–‡æœ¬æ•°æ®å¯¼å…¥æ•°æ®åº“: æ–‡æœ¬æ•°æ®çš„å­—æ®µæ•°æ®ä¹‹é—´ç”¨tabé”®éš”å¼€ã€‚ use test; load data local infile \"æ–‡ä»¶å\" into table è¡¨å; å®ä¾‹ ä½¿ç”¨SHOWè¯­å¥æ‰¾å‡ºåœ¨æœåŠ¡å™¨ä¸Šå½“å‰å­˜åœ¨ä»€ä¹ˆæ•°æ®åº“ mysql\u003e SHOW DATABASES; åˆ›å»ºä¸€ä¸ªæ•°æ®åº“MYSQLDATA mysql\u003e CREATE DATABASE MYSQLDATA; é€‰æ‹©ä½ æ‰€åˆ›å»ºçš„æ•°æ®åº“ mysql\u003e USE MYSQLDATA; æŒ‰å›è½¦é”®å‡ºç°Database changed æ—¶è¯´æ˜æ“ä½œæˆåŠŸ! æŸ¥çœ‹ç°åœ¨çš„æ•°æ®åº“ä¸­å­˜åœ¨ä»€ä¹ˆè¡¨ mysql\u003e SHOW TABLES; åˆ›å»ºä¸€ä¸ªæ•°æ®åº“è¡¨ mysql\u003e CREATE TABLE MYTABLE (name VARCHAR(20), sex CHAR(1)); æ˜¾ç¤ºè¡¨çš„ç»“æ„ï¼š mysql\u003e DESCRIBE MYTABLE; å¾€è¡¨ä¸­åŠ å…¥è®°å½• mysql\u003e insert into MYTABLE values (\"w23ta0\",\"M\"); ç”¨æ–‡æœ¬æ–¹å¼å°†æ•°æ®è£…å…¥æ•°æ®åº“è¡¨ä¸­(ä¾‹å¦‚D:/mysql.txt) mysql\u003e LOAD DATA LOCAL INFILE \"D:/mysql.txt\" INTO TABLE MYTABLE; å¯¼å…¥.sqlæ–‡ä»¶å‘½ä»¤(ä¾‹å¦‚D:/mysql.sql) mysql\u003euse database; mysql\u003esource d:/mysql.sql; åˆ é™¤è¡¨ mysql\u003edrop TABLE MYTABLE; æ¸…ç©ºè¡¨ mysql\u003edelete from MYTABLE; æ›´æ–°è¡¨ä¸­æ•°æ® mysql\u003eupdate MYTABLE set sex=\"f\" where name=â€™w23ta0'; å¤‡ä»½æ•°æ®åº“ mysqldump -u root åº“å\u003exxx.data è¿æ¥åˆ°è¿œç¨‹ä¸»æœºä¸Šçš„MYSQL å‡è®¾è¿œç¨‹ä¸»æœºçš„IPä¸ºï¼š110.110.110.110ï¼Œç”¨æˆ·åä¸ºroot,å¯†ç ä¸ºabcd123ã€‚åˆ™é”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼š mysql -h110.110.110.110 -uroot -pabcd123 æ³¨æ„:uä¸rootå¯ä»¥ä¸ç”¨åŠ ç©ºæ ¼ï¼Œå…¶å®ƒä¹Ÿä¸€æ · é€€å‡ºMYSQLå‘½ä»¤ï¼š exit (å›è½¦) ","date":"2012-06-30","objectID":"/posts/6e8d2cb0/:0:0","tags":["mysql"],"title":"Mysqlå¸¸ç”¨å‘½ä»¤è¡Œå¤§å…¨","uri":"/posts/6e8d2cb0/"},{"categories":["Linux/Unix"],"content":"æœ‰äº›æœ‹å‹è´­ä¹°äº†vpsåç”±äºä»–æ˜¯ä»åŸæ¥çš„winä¸»æœºæ¬è¿è¿‡æ¥ï¼Œå¤‡ä»½æ‰“åŒ…çš„æ•°æ®æ˜¯raræ ¼å¼çš„ï¼Œé‚£åœ¨CentOSä¸‹æ€ä¹ˆè§£å‹å‘¢ï¼Ÿ Googleä¸€ä¸‹ï¼Œæ‰¾åˆ°è§£å†³åŠæ³•ï¼š wget http://www.rarsoft.com/rar/rarlinux-3.9.3.tar.gz tar -xvf rarlinux-3.9.3.tar.gz cd rar make çœ‹è§ä¸‹é¢è¿™äº›ä¿¡æ¯å°±æ˜¯å®‰è£…æˆåŠŸäº† mkdir -p /wp-content/local/bin mkdir -p /wp-content/local/lib cp rar unrar /wp-content/local/bin cp rarfiles.lst /etc cp default.sfx /wp-content/local/lib ä½†æœ‰çš„æ—¶å€™åœ¨è¿è¡Œå‘½ä»¤raræ—¶,å‡ºç°ä¸‹é¢è¿™ä¸ªé—®é¢˜: rar: /lib/i686/nosegneg/libc.so.6: version `GLIBC_2.7â€² not found (required by rar) è§£å†³åŠæ³•ï¼š cp rar_static /wp-content/local/bin/rar ä½¿ç”¨ä¸¾ä¾‹ rar x lvtao.rar //è§£å‹ lvtao.rar åˆ°å½“å‰ç›®å½• rar lvtao.rar ./lvtao.net/ //å°† lvtao.net ç›®å½•æ‰“åŒ…ä¸ºlvtao.rar ","date":"2012-06-11","objectID":"/posts/e41f398b/:0:0","tags":["centos","rar"],"title":"è®©Centosæ”¯æŒæ‰“åŒ…ã€è§£å‹RARæ–‡ä»¶åŒ…","uri":"/posts/e41f398b/"},{"categories":["Linux/Unix"],"content":"å…¬å¸ä¹°çš„Dell R410çš„æœºå™¨ï¼Œè£…çš„Debiançš„ç³»ç»Ÿï¼Œå®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºæ‰¾ä¸åˆ°ç½‘ç»œè®¾å¤‡é©±ï¼Œå»Dell å®˜æ–¹æŸ¥çœ‹R410ç½‘å¡é©±åŠ¨æ²¡æœ‰æ‰¾åˆ°Debianç‰ˆæœ¬çš„ï¼ˆRedhatçš„å€’æ˜¯æœ‰ï¼‰ï¼Œä¸Šç½‘æŸ¥èµ„æ–™å¾—çŸ¥Debianä»5å¼€å§‹å°±ä¸æ”¯æŒBroadcomçš„ç½‘å¡é©±åŠ¨ï¼ˆå¶è£…çš„å°±æ˜¯5,ï¼Œæ‚²å‚¬å•Šï¼‰ã€‚å»broadcomä¸‹è½½æºç åŒ…netxtreme2-5.0.17.tar.gzã€‚ ä¸‹è½½åœ°å€ï¼šhttp://www.broadcom.com/support/ethernet_nic/downloaddrivers.php é¦–å…ˆå®‰è£…æ“ä½œç³»ç»Ÿï¼Œæˆ‘è£…çš„æ˜¯debian-6.0.2.1-amd64ç‰ˆæœ¬çš„ã€‚å®‰è£…è¿‡ç¨‹ä¸­æç¤ºæ‰¾ä¸åˆ°ç½‘ç»œè®¾å¤‡é©±åŠ¨ï¼Œä¸ç”¨ç®¡å®ƒï¼Œç›´æ¥ç»§ç»­å®‰è£…ã€‚ç³»ç»Ÿè£…å¥½åifconfigæŸ¥çœ‹ç½‘å¡ä¿¡æ¯ï¼Œæœç„¶åªèƒ½çœ‹åˆ°loï¼Œæ‰¾ä¸åˆ°eth0çš„ä¿¡æ¯ã€‚ æŠŠä¸‹è½½çš„é©±åŠ¨åŒ…netxtreme2-5.0.17.tar.gz é€šè¿‡Uç›˜æ‹·è´åˆ°ç³»ç»Ÿå¹¶è§£å‹ç¼©ã€‚ #mount /dev/sdb1 /mnt #cp netxtreme2-5.0.17.tar.gz /home #cd /home #tar -zxvf netxtreme2-5.0.17.tar.gz æ£€æŸ¥ç³»ç»Ÿæœ‰æ²¡æœ‰å®‰è£…makeå’Œgcc #make -v #gcc -v å®‰è£…äº†çš„è¯ä¼šè¾“å‡ºç‰ˆæœ¬ä¿¡æ¯ï¼Œæ²¡æœ‰å®‰è£…çš„è¯ä¼šæç¤ºcommond not foundã€‚ï¼ˆç¡®å®šç³»ç»Ÿå®‰è£…äº†makeå’Œgccçš„å¯ä»¥è·³è½¬åˆ°ç¬¬å…­æ­¥ï¼Œæ²¡æœ‰è£…çš„ç»§ç»­ï¼‰ 4. åˆ›å»ºæœ¬åœ°æº ç”±äºgccçš„ä¾èµ–å…³ç³»æ¯”è¾ƒå¤šï¼Œå†³å®šåšä¸ªæœ¬åœ°æºï¼Œå…ˆæŠŠå®‰è£…ç›˜æŒ‚è½½ä¸Šï¼ŒæŠŠé‡Œé¢çš„è½¯ä»¶åŒ…æ‹·è´å‡ºæ¥ã€‚ #mount /dev/cdrom /mnt #mkdir â€“p /wp-content/local/debian/pools #cp -R /mnt/pools /wp-content/local/debian/pools #mkdir â€“p /wp-content/local/debian/dists/sid/main/binary-amd64 #cd /wp-content/local/debian/pools/main/d/dpkg #dpkg â€“I dpkg-dev_1.15.8.11_all.debï¼›dpkg â€“I libdpkg-perl_1.15.8.11_all.deb #ls -1 pools | sed â€˜s/_.*$/ extra BOGUS/â€™ | uniq \u003e override (æŠŠpoolsç›®å½•ä¸‹æ‰€æœ‰çš„debåŒ…åŒ…åå†™å…¥æ–‡ä»¶overrideä¸­) #dpkg-scanpackages pools override \u003e dists/sid/main/binary-amd64/Packages (æŠŠæ‰€æœ‰åŒ…çš„åŒ…åã€ç‰ˆæœ¬å·ã€ä¾èµ–å…³ç³»ç­‰ä¿¡æ¯å†™å…¥æ–‡ä»¶Packagesä¸­) #vi /dists/sid/main/Release è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š Archive: sid Version: lenny Component: main Origin: Local Label: Local Architecture: amd64 #echo \"deb file:/wp-content/local/debian sid main\" \u003e\u003e /etc/apt/source.list å®‰è£…makeå’Œgccã€‚ #apt-get install update #apt-get install make #apt-get install gcc ç¼–è¯‘ #cd /home/netxtreme2-6.2.23\\netxtreme2-6.2.23\\bnx2-2.0.23b\\src #make ä¸æ’é™¤ä¸ªåˆ«äººå“å¥½çš„ç›´æ¥makeæˆåŠŸï¼Œæˆ‘åæ­£æ˜¯å¤±è´¥äº†ã€‚é”™è¯¯æç¤ºå¦‚ä¸‹: make -C SUBDIRS=/wp-content/local/src/network/netxtreme2-5.0.17/bnx2-1.9.20b/src modules make: *** SUBDIRS=/wp-content/local/src/network/netxtreme2-5.0.17/bnx2-1.9.20b/src: No such file or directory. Stop. make: *** [default] Error 2 No such file or directoryï¼Œæ‰¾ä¸åˆ°æ–‡ä»¶æˆ–ç›®å½•ã€‚è‹±è¯­å¥½çš„å»ºè®®ç›´æ¥çœ‹Makefileï¼Œè‹±è¯­ä¸å¥½çš„,è¿˜æ˜¯googleä¸€ä¸‹å§ï¼ æˆ‘æ‰¾åˆ°çš„è§£é‡Šä¸ºï¼š å‘ç°(/lib/modules/$(KVER)/build )è·¯å¾„å¹¶ä¸å­˜åœ¨,å¦‚ä¸‹ï¼š #ls /lib/modules/2.6.26-2-686/build ls: cannot access /lib/modules/2.6.26-2-686/build: No such file or directory å¯¹åº”çš„è§£å†³åŠæ³•æ˜¯å®‰è£…ä»¥ä¸‹åŒ…: gcc-4.1-base_4.1.2-25_amd64.deb cpp-4.1_4.1.2-25_amd64.deb linux-kbuild-2.6.26_2.6.26-3_amd64.deb linux-headers-2.6.26-2-common_2.6.26-21lenny3_amd64.deb linux-headers-2.6.26-2-amd64_2.6.26-21lenny3_amd64.deb binutils_2.18.1~cvs20080103-7_amd64.deb å…¨éƒ¨è£…å¥½åï¼Œé‡æ–°makeã€‚æ­£å¸¸äººæ­¤æ—¶éƒ½åº”è¯¥makeæˆåŠŸäº†ã€‚ Make-C/lib/modules/2.6.26-2-amd64/build SUBDIRS=/wp-content/local/src/network/netxtreme2-5.0.17/bnx2-1.9.20b/src modules make[1]: Entering directory /wp-content/src/linux-headers-2.6.26-2-amd64' CC [M] /wp-content/local/src/network/netxtreme2-5.0.17/bnx2-1.9.20b/src/bnx2.o CC [M] /wp-content/local/src/network/netxtreme2-5.0.17/bnx2-1.9.20b/src/cnic.o Building modules, stage 2. MODPOST 2 modules CC /wp-content/local/src/network/netxtreme2-5.0.17/bnx2-1.9.20b/src/bnx2.mod.o LD [M] /wp-content/local/src/network/netxtreme2-5.0.17/bnx2-1.9.20b/src/bnx2.ko CC /wp-content/local/src/network/netxtreme2-5.0.17/bnx2-1.9.20b/src/cnic.mod.o LD [M] /wp-content/local/src/network/netxtreme2-5.0.17/bnx2-1.9.20b/src/cnic.ko make[1]: Leaving directory /wp-content/src/linux-headers-2.6.26-2-amd64â€² æŒ‚åœ¨bnx2.koæ¨¡å— MakeæˆåŠŸåå†srcç›®å½•ä¸‹åº”è¯¥æœ‰ä¸ªbnx2.koæ¨¡å—ã€‚ #rmmod bnx2.ko æŠŠç³»ç»ŸåŸæ¥çš„æ¨¡å—åˆ æ‰ #insmod bnx2.ko åŠ è½½æˆ‘ä»¬åˆšåˆšç¼–è¯‘å¥½çš„æ¨¡å—ã€‚ #cp bnx2.ko /lib/modules/2.6.26-2-amd64/kernel/drivers/net/ é…ç½®å¥½ç½‘ç»œåœ°å€å’ŒDNSåï¼Œéšä¾¿pingä¸ªåœ°å€ã€‚Okï¼Œå¯ä»¥pingåŒäº†ï¼Œç¼–è¯‘å®Œæˆï¼Œrebootä¸‹å†æ¬¡è¿›å…¥ç³»ç»Ÿï¼Œifconfigåˆåªå‰©ä¸‹loäº†ã€‚ ç¼–è¾‘å¼€æœºè„šæœ¬ã€‚ #vi eth0_start.sh #!/bin/sh cd /home/netxtreme2-6.2.23\\netxtreme2-6.2.23\\bnx2-2.0.23b\\src rmmod bnx2.ko insmod bnx2.ko /etc/init.d/networking restart #cat eth0_start.sh \u003e\u003e /etc/init.d/rc.local å†æ¬¡rebootï¼Œå¼€æœºè¿›å…¥ç³»ç»Ÿï¼Œifconfigæå®šï¼ ","date":"2012-06-10","objectID":"/posts/d8443074/:0:0","tags":["dell","r410","debian"],"title":"Dell R410 debian 64ä½ç½‘å¡é©±åŠ¨","uri":"/posts/d8443074/"}]