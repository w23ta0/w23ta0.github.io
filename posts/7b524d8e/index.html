<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Ansible安装及使用 - w23ta0's blog</title><meta name=author content="w23ta0"><meta name=description content="前言 AnsibleWorks成立于2012年，由自动化工具Cobbler及Func的开发者Michael DeHaan创建。其Ansible平台是一个开源的配置及计算机管理平台。可实现多节点的软件部署，执行特定任务并进行配置管理。
"><meta name=keywords content='devops,ansible'><meta itemprop=name content="Ansible安装及使用"><meta itemprop=description content="前言 AnsibleWorks成立于2012年，由自动化工具Cobbler及Func的开发者Michael DeHaan创建。其Ansible平台是一个开源的配置及计算机管理平台。可实现多节点的软件部署，执行特定任务并进行配置管理。"><meta itemprop=datePublished content="2014-11-22T15:28:29+00:00"><meta itemprop=dateModified content="2026-01-04T02:27:45+00:00"><meta itemprop=wordCount content="3470"><meta itemprop=keywords content="Devops,Ansible"><meta property="og:url" content="https://w23ta0.github.io/posts/7b524d8e/"><meta property="og:site_name" content="w23ta0's blog"><meta property="og:title" content="Ansible安装及使用"><meta property="og:description" content="前言 AnsibleWorks成立于2012年，由自动化工具Cobbler及Func的开发者Michael DeHaan创建。其Ansible平台是一个开源的配置及计算机管理平台。可实现多节点的软件部署，执行特定任务并进行配置管理。"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-11-22T15:28:29+00:00"><meta property="article:modified_time" content="2026-01-04T02:27:45+00:00"><meta property="article:tag" content="Devops"><meta property="article:tag" content="Ansible"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ansible安装及使用"><meta name=twitter:description content="前言 AnsibleWorks成立于2012年，由自动化工具Cobbler及Func的开发者Michael DeHaan创建。其Ansible平台是一个开源的配置及计算机管理平台。可实现多节点的软件部署，执行特定任务并进行配置管理。"><meta name=application-name content="w23ta0's blog"><meta name=apple-mobile-web-app-title content="w23ta0's blog"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=images/happy.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical type=text/html href=https://w23ta0.github.io/posts/7b524d8e/ title="Ansible安装及使用 - w23ta0's blog"><link rel=prev type=text/html href=https://w23ta0.github.io/posts/3123c592/ title="XAMPP 和 VMWare 的端口443冲突的解决"><link rel=next type=text/html href=https://w23ta0.github.io/posts/d14dfb/ title="解决Office 2010安装错误:1402"><link rel=alternate type=text/markdown href=https://w23ta0.github.io/posts/7b524d8e/index.md title="Ansible安装及使用 - w23ta0's blog"><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><meta name=google-site-verification content="mfpXQWYjakmUHCSG3MJxk8SDfQ2oLcOgJ3a0YQ9kycw"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Ansible安装及使用","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/w23ta0.github.io\/posts\/7b524d8e\/"},"genre":"posts","keywords":"devops, ansible","wordcount":3470,"url":"https:\/\/w23ta0.github.io\/posts\/7b524d8e\/","datePublished":"2014-11-22T15:28:29+00:00","dateModified":"2026-01-04T02:27:45+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"w23ta0"},"description":""}</script><script src=/js/head/color-scheme.min.js></script></head><body data-header-desktop=sticky data-header-mobile=auto><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="w23ta0's blog"><img class=logo src=/images/happy.png alt="w23ta0's blog" height=32 width=32><span class=header-title-text>w23ta0's blog</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/archives/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> Archives</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden=true></i> Categories</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/index.xml><i class="fa-solid fa-rss fa-fw fa-sm" aria-hidden=true></i> RSS</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-quote-left fa-fw fa-sm" aria-hidden=true></i> About</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="w23ta0's blog"><img class=logo src=/images/happy.png alt="w23ta0's blog" height=26 width=26><span class=header-title-text>w23ta0's blog</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></li><li class=menu-item><a class=menu-link href=/archives/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> Archives</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden=true></i> Categories</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/index.xml><i class="fa-solid fa-rss fa-fw fa-sm" aria-hidden=true></i> RSS</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-quote-left fa-fw fa-sm" aria-hidden=true></i> About</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label=Collections></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Ansible安装及使用</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/w23ta0 title=Author target=_blank rel="external nofollow noopener noreferrer author" class=author><img class=avatar src='https://www.gravatar.com/avatar/c8ec6802a4a65963e20a021760ec27f0?s=32&d=' alt=w23ta0 height=16 width=16>&nbsp;w23ta0</a></span><span class=post-included-in>&nbsp;included in <a href=/categories/devops/ class=post-category title="Category - DevOps"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> DevOps</a>&ensp;<a href=/categories/ansible/ class=post-category title="Category - Ansible"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> Ansible</a></span></div><div class=post-meta-line><span title="published on 2014-11-22 15:28:29"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden=true></i><time datetime=2014-11-22>2014-11-22</time></span>&nbsp;<span title="Updated on 2026-01-04 02:27:45"><i class="fa-regular fa-calendar-check fa-fw me-1" aria-hidden=true></i><time datetime=2026-01-04>2026-01-04</time></span>&nbsp;<span title="3470 words"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>About 3500 words</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>7 minutes</span>&nbsp;<span id=busuanzi_container_page_pv class="busuanzi_visitors comment-visitors" data-flag-title=Ansible安装及使用><i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_page_pv>-</span>&nbsp;views
</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#前言>前言</a></li><li><a href=#安装ansible>安装Ansible</a><ul><li><a href=#创建ansible用户>创建ansible用户</a></li><li><a href=#允许执行sudo>允许执行sudo</a></li><li><a href=#安装ansible-1>安装ansible</a></li><li><a href=#修改配置文件>修改配置文件</a></li><li><a href=#ssh互信>ssh互信</a></li><li><a href=#远程ssh互信配置测试>远程ssh互信配置测试</a></li></ul></li><li><a href=#使用ansible>使用Ansible</a><ul><li><a href=#使用ping模块测试是否成功>使用ping模块测试是否成功</a></li><li><a href=#查看时间>查看时间</a></li><li><a href=#使用yum安装软件>使用yum安装软件</a></li><li><a href=#查看ansible内置模块>查看ansible内置模块</a></li></ul></li></ul></nav></div></div><div class=content id=content><h2 class=heading-element id=前言><span>前言</span>
<a href=#%e5%89%8d%e8%a8%80 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>AnsibleWorks成立于2012年，由自动化工具Cobbler及Func的开发者Michael DeHaan创建。其Ansible平台是一个开源的配置及计算机管理平台。可实现多节点的软件部署，执行特定任务并进行配置管理。</p><p>Ansible 跟其他IT自动化技术的区别在于其关注点并非配置管理、应用部署或IT流程工作流，而是提供一个统一的界面来协调所有的IT自动化功能，因此 Ansible的系统更加易用，部署更快。受管理的节点无需安装额外的远程控制软件，由平台通过SSH（Secure SHell）对其进行管理，因此十分方便。其模块支持JSON等标准输出格式，可采用任何编程语言重写。</p><p>Ansible可以让用户避免编写脚本或代码来管理应用，同时还能搭建工作流实现IT任务的自动化执行。IT自动化可以降低技术门槛及对传统IT的依赖，从而加快项目的交付速度。</p><p><strong>Ansible有如下优点：</strong></p><ol><li>轻量级，他不需要去客户端安装agent，更新时，只需要在操作机上进行一次更新即可</li><li>批量任务执行可以写成脚本，而且不用分发到远程就可以执行</li><li>使用python编写的，维护更简单</li><li>支持sudo</li></ol><h2 class=heading-element id=安装ansible><span>安装Ansible</span>
<a href=#%e5%ae%89%e8%a3%85ansible class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=创建ansible用户><span>创建ansible用户</span>
<a href=#%e5%88%9b%e5%bb%baansible%e7%94%a8%e6%88%b7 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>root@node1 ~<span class=o>]</span><span class=c1># useradd ansible</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 ~<span class=o>]</span><span class=c1># passwd ansible</span>
</span></span><span class=line><span class=cl>更改用户 ansible 的密码 。
</span></span><span class=line><span class=cl>新的 密码：
</span></span><span class=line><span class=cl>重新输入新的 密码：
</span></span><span class=line><span class=cl>passwd： 所有的身份验证令牌已经成功更新。</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=允许执行sudo><span>允许执行sudo</span>
<a href=#%e5%85%81%e8%ae%b8%e6%89%a7%e8%a1%8csudo class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@node1 ~]# vi /etc/sudoers
</span></span><span class=line><span class=cl># Defaults    requiretty  //表示不需要控制终端
</span></span><span class=line><span class=cl>ansible ALL=(ALL) NOPASSWD:ALL</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=安装ansible-1><span>安装ansible</span>
<a href=#%e5%ae%89%e8%a3%85ansible-1 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>root@node1 ~<span class=o>]</span><span class=c1># yum install PyYAML.x86_64 python-paramiko.noarch python-jinja2.x86_64 python-devel -y</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 ~<span class=o>]</span><span class=c1># wget https://pypi.python.org/packages/source/s/setuptools/setuptools-7.0.tar.gz</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 ~<span class=o>]</span><span class=c1># tar zxvf setuptools-7.0.tar.gz</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 ~<span class=o>]</span><span class=c1># cd setuptools-7.0</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 setuptools-7.0<span class=o>]</span><span class=c1># python setup.py install</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 setuptools-7.0<span class=o>]</span><span class=c1># cd ..</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 ~<span class=o>]</span><span class=c1># wget https://pypi.python.org/packages/source/a/ansible/ansible-1.7.2.tar.gz</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 ~<span class=o>]</span><span class=c1># tar zxvf ansible-1.7.2.tar.gz</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 ~<span class=o>]</span><span class=c1># cd ansible-1.7.2</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 ansible-1.7.2<span class=o>]</span><span class=c1># python setup.py build</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 ansible-1.7.2<span class=o>]</span><span class=c1># python setup.py install</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 ansible-1.7.2<span class=o>]</span><span class=c1># mkdir /etc/ansible</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 ansible-1.7.2<span class=o>]</span><span class=c1># cp examples/ansible.cfg /etc/ansible/</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 ansible-1.7.2<span class=o>]</span><span class=c1># cp examples/hosts /etc/ansible/</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=修改配置文件><span>修改配置文件</span>
<a href=#%e4%bf%ae%e6%94%b9%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>root@node1 ansible-1.7.2<span class=o>]</span><span class=c1># vi /etc/ansible/ansible.cfg</span>
</span></span><span class=line><span class=cl><span class=nv>hostfile</span>       <span class=o>=</span> /etc/ansible/hosts
</span></span><span class=line><span class=cl><span class=nv>library</span>        <span class=o>=</span> /usr/share/ansible
</span></span><span class=line><span class=cl><span class=nv>remote_tmp</span>     <span class=o>=</span> <span class=nv>$HOME</span>/.ansible/tmp
</span></span><span class=line><span class=cl><span class=nv>pattern</span>        <span class=o>=</span> *
</span></span><span class=line><span class=cl><span class=nv>forks</span>          <span class=o>=</span> <span class=m>5</span>
</span></span><span class=line><span class=cl><span class=nv>poll_interval</span>  <span class=o>=</span> <span class=m>15</span>
</span></span><span class=line><span class=cl><span class=nv>sudo_user</span>      <span class=o>=</span> ansible
</span></span><span class=line><span class=cl><span class=c1>#ask_sudo_pass = True</span>
</span></span><span class=line><span class=cl><span class=c1>#ask_pass      = True</span>
</span></span><span class=line><span class=cl><span class=nv>transport</span>      <span class=o>=</span> smart
</span></span><span class=line><span class=cl><span class=nv>remote_port</span>    <span class=o>=</span> <span class=m>22</span>
</span></span><span class=line><span class=cl><span class=nv>module_lang</span>    <span class=o>=</span> C
</span></span><span class=line><span class=cl><span class=o>[</span>root@node1 ansible-1.7.2<span class=o>]</span><span class=c1># vi /etc/ansible/hosts</span>
</span></span><span class=line><span class=cl><span class=c1>#server</span>
</span></span><span class=line><span class=cl><span class=o>[</span>localhost<span class=o>]</span>
</span></span><span class=line><span class=cl>127.0.0.1
</span></span><span class=line><span class=cl><span class=c1>#client</span>
</span></span><span class=line><span class=cl><span class=o>[</span>client<span class=o>]</span>
</span></span><span class=line><span class=cl>172.16.0.112</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=ssh互信><span>ssh互信</span>
<a href=#ssh%e4%ba%92%e4%bf%a1 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@node1 ansible-1.7.2]# su - ansible
</span></span><span class=line><span class=cl>[ansible@node1 ~]$
</span></span><span class=line><span class=cl>[ansible@node1 ~]$ ssh-keygen -t rsa
</span></span><span class=line><span class=cl>Generating public/private rsa key pair.
</span></span><span class=line><span class=cl>Enter file in which to save the key (/home/ansible/.ssh/id_rsa):
</span></span><span class=line><span class=cl>Created directory &#39;/home/ansible/.ssh&#39;.
</span></span><span class=line><span class=cl>Enter passphrase (empty for no passphrase):
</span></span><span class=line><span class=cl>Enter same passphrase again:
</span></span><span class=line><span class=cl>Your identification has been saved in /home/ansible/.ssh/id_rsa.
</span></span><span class=line><span class=cl>Your public key has been saved in /home/ansible/.ssh/id_rsa.pub.
</span></span><span class=line><span class=cl>The key fingerprint is:
</span></span><span class=line><span class=cl>dc:c9:ac:d8:46:81:37:72:08:f3:77:06:98:33:cb:5f ansible@node1
</span></span><span class=line><span class=cl>The key&#39;s randomart image is:
</span></span><span class=line><span class=cl>+--[ RSA 2048]----+
</span></span><span class=line><span class=cl>|    o  o.        |
</span></span><span class=line><span class=cl>|     +=o .       |
</span></span><span class=line><span class=cl>|     .=+* o      |
</span></span><span class=line><span class=cl>|      o* OE.     |
</span></span><span class=line><span class=cl>|       .S.=      |
</span></span><span class=line><span class=cl>|       +..       |
</span></span><span class=line><span class=cl>|      . +        |
</span></span><span class=line><span class=cl>|       .         |
</span></span><span class=line><span class=cl>|                 |
</span></span><span class=line><span class=cl>+-----------------+
</span></span><span class=line><span class=cl>[ansible@node1 ~]$
</span></span><span class=line><span class=cl>[ansible@node1 ~]$ ssh-keygen -t dsa
</span></span><span class=line><span class=cl>Generating public/private dsa key pair.
</span></span><span class=line><span class=cl>Enter file in which to save the key (/home/ansible/.ssh/id_dsa):
</span></span><span class=line><span class=cl>Enter passphrase (empty for no passphrase):
</span></span><span class=line><span class=cl>Enter same passphrase again:
</span></span><span class=line><span class=cl>Your identification has been saved in /home/ansible/.ssh/id_dsa.
</span></span><span class=line><span class=cl>Your public key has been saved in /home/ansible/.ssh/id_dsa.pub.
</span></span><span class=line><span class=cl>The key fingerprint is:
</span></span><span class=line><span class=cl>b3:a6:94:bf:5c:21:a3:c5:8b:74:b8:a5:8c:62:34:d2 ansible@node1
</span></span><span class=line><span class=cl>The key&#39;s randomart image is:
</span></span><span class=line><span class=cl>+--[ DSA 1024]----+
</span></span><span class=line><span class=cl>|                 |
</span></span><span class=line><span class=cl>|                 |
</span></span><span class=line><span class=cl>|                 |
</span></span><span class=line><span class=cl>| .     o         |
</span></span><span class=line><span class=cl>|. E   o S .      |
</span></span><span class=line><span class=cl>| o . + X * .     |
</span></span><span class=line><span class=cl>|  o . O + .      |
</span></span><span class=line><span class=cl>| . . . = .       |
</span></span><span class=line><span class=cl>|      . +.       |
</span></span><span class=line><span class=cl>+-----------------+
</span></span><span class=line><span class=cl>[ansible@node1 ~]$
</span></span><span class=line><span class=cl>[ansible@node1 ~]$ cd .ssh/
</span></span><span class=line><span class=cl>[ansible@node1 .ssh]$ cat *.pub &gt; authorized_keys
</span></span><span class=line><span class=cl>[ansible@node1 .ssh]$ chmod -R 700 .
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>#测试本机互信
</span></span><span class=line><span class=cl>[ansible@node1 .ssh]$ ssh 127.0.0.1
</span></span><span class=line><span class=cl>The authenticity of host &#39;127.0.0.1 (127.0.0.1)&#39; can&#39;t be established.
</span></span><span class=line><span class=cl>RSA key fingerprint is fa:73:59:f5:08:95:b2:2e:7f:3e:52:91:8a:e6:47:1f.
</span></span><span class=line><span class=cl>Are you sure you want to continue connecting (yes/no)? yes
</span></span><span class=line><span class=cl>Warning: Permanently added &#39;127.0.0.1&#39; (RSA) to the list of known hosts.
</span></span><span class=line><span class=cl>[ansible@node1 ~]$ exit
</span></span><span class=line><span class=cl>logout
</span></span><span class=line><span class=cl>Connection to 127.0.0.1 closed.</span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=远程ssh互信配置测试><span>远程ssh互信配置测试</span>
<a href=#%e8%bf%9c%e7%a8%8bssh%e4%ba%92%e4%bf%a1%e9%85%8d%e7%bd%ae%e6%b5%8b%e8%af%95 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>ansible@node1 .ssh<span class=o>]</span>$ scp authorized_keys ansible@172.16.0.112:
</span></span><span class=line><span class=cl>The authenticity of host <span class=s1>&#39;172.16.0.112 (172.16.0.112)&#39;</span> can<span class=s1>&#39;t be established.
</span></span></span><span class=line><span class=cl><span class=s1>RSA key fingerprint is fa:73:59:f5:08:95:b2:2e:7f:3e:52:91:8a:e6:47:1f.
</span></span></span><span class=line><span class=cl><span class=s1>Are you sure you want to continue connecting (yes/no)? yes
</span></span></span><span class=line><span class=cl><span class=s1>Warning: Permanently added &#39;</span>192.168.253.131<span class=s1>&#39; (RSA) to the list of known hosts.
</span></span></span><span class=line><span class=cl><span class=s1>ansible@172.16.0.112&#39;</span>s password:
</span></span><span class=line><span class=cl>authorized_keys100%  <span class=m>998</span>     1.0KB/s   00:00
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#测试是否互信成功</span>
</span></span><span class=line><span class=cl><span class=o>[</span>ansible@node1 .ssh<span class=o>]</span>$ ssh 172.16.0.112
</span></span><span class=line><span class=cl><span class=o>[</span>ansible@node2 ~<span class=o>]</span>$ mkdir .ssh
</span></span><span class=line><span class=cl><span class=o>[</span>ansible@node2 ~<span class=o>]</span>$ mv authorized_keys .ssh/
</span></span><span class=line><span class=cl><span class=o>[</span>ansible@node2 ~<span class=o>]</span>$ chmod -R <span class=m>700</span> .ssh/</span></span></code></pre></td></tr></table></div></div><h2 class=heading-element id=使用ansible><span>使用Ansible</span>
<a href=#%e4%bd%bf%e7%94%a8ansible class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 class=heading-element id=使用ping模块测试是否成功><span>使用ping模块测试是否成功</span>
<a href=#%e4%bd%bf%e7%94%a8ping%e6%a8%a1%e5%9d%97%e6%b5%8b%e8%af%95%e6%98%af%e5%90%a6%e6%88%90%e5%8a%9f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>ansible@node1 ~<span class=o>]</span>$ ansible all -m ping
</span></span><span class=line><span class=cl>127.0.0.1 <span class=p>|</span> success &gt;&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;changed&#34;</span>: false,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;ping&#34;</span>: <span class=s2>&#34;pong&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>172.16.0.112 <span class=p>|</span> success &gt;&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;changed&#34;</span>: false,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;ping&#34;</span>: <span class=s2>&#34;pong&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=查看时间><span>查看时间</span>
<a href=#%e6%9f%a5%e7%9c%8b%e6%97%b6%e9%97%b4 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>ansible@node1 ~<span class=o>]</span>$ ansible all -m <span class=nb>command</span> -a <span class=s2>&#34;sudo date&#34;</span>
</span></span><span class=line><span class=cl>127.0.0.1 <span class=p>|</span> success <span class=p>|</span> <span class=nv>rc</span><span class=o>=</span><span class=m>0</span> &gt;&gt;
</span></span><span class=line><span class=cl>Fri Apr <span class=m>22</span> 23:48:42 CST <span class=m>2016</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>172.16.0.112 <span class=p>|</span> success <span class=p>|</span> <span class=nv>rc</span><span class=o>=</span><span class=m>0</span> &gt;&gt;
</span></span><span class=line><span class=cl>Fri Apr <span class=m>22</span> 23:48:42 CST <span class=m>2016</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=使用yum安装软件><span>使用yum安装软件</span>
<a href=#%e4%bd%bf%e7%94%a8yum%e5%ae%89%e8%a3%85%e8%bd%af%e4%bb%b6 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>ansible@node1 ~<span class=o>]</span>$ ansible all -m <span class=nb>command</span> -a <span class=s2>&#34;sudo yum install zip unzip -y&#34;</span>
</span></span><span class=line><span class=cl>127.0.0.1 <span class=p>|</span> success <span class=p>|</span> <span class=nv>rc</span><span class=o>=</span><span class=m>0</span> &gt;&gt;
</span></span><span class=line><span class=cl>Loaded plugins: fastestmirror, security
</span></span><span class=line><span class=cl>Loading mirror speeds from cached hostfile
</span></span><span class=line><span class=cl> * base: mirrors.btte.net
</span></span><span class=line><span class=cl> * extras: mirrors.yun-idc.com
</span></span><span class=line><span class=cl> * updates: mirrors.yun-idc.com
</span></span><span class=line><span class=cl>Setting up Install Process
</span></span><span class=line><span class=cl>Package zip-3.0-1.el6_7.1.x86_64 already installed and latest version
</span></span><span class=line><span class=cl>Package unzip-6.0-2.el6_6.x86_64 already installed and latest version
</span></span><span class=line><span class=cl>Nothing to <span class=k>do</span>   <span class=c1>#说明此软件之前在每台服务器都已经装过了</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>172.16.0.112 <span class=p>|</span> success <span class=p>|</span> <span class=nv>rc</span><span class=o>=</span><span class=m>0</span> &gt;&gt;
</span></span><span class=line><span class=cl>Loaded plugins: fastestmirror, security
</span></span><span class=line><span class=cl>Loading mirror speeds from cached hostfile
</span></span><span class=line><span class=cl> * base: mirrors.btte.net
</span></span><span class=line><span class=cl> * extras: mirrors.yun-idc.com
</span></span><span class=line><span class=cl> * updates: mirrors.yun-idc.com
</span></span><span class=line><span class=cl>Setting up Install Process
</span></span><span class=line><span class=cl>Resolving Dependencies
</span></span><span class=line><span class=cl>--&gt; Running transaction check
</span></span><span class=line><span class=cl>---&gt; Package unzip.x86_64 0:6.0-2.el6_6 will be installed
</span></span><span class=line><span class=cl>---&gt; Package zip.x86_64 0:3.0-1.el6_7.1 will be installed
</span></span><span class=line><span class=cl>--&gt; Finished Dependency Resolution
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Dependencies <span class=nv>Resolved</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>================================================================================</span>
</span></span><span class=line><span class=cl> Package        Arch            Version                  Repository        <span class=nv>Size</span>
</span></span><span class=line><span class=cl><span class=o>================================================================================</span>
</span></span><span class=line><span class=cl>Installing:
</span></span><span class=line><span class=cl> unzip          x86_64          6.0-2.el6_6              base             <span class=m>149</span> k
</span></span><span class=line><span class=cl> zip            x86_64          3.0-1.el6_7.1            updates          <span class=m>259</span> k
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Transaction <span class=nv>Summary</span>
</span></span><span class=line><span class=cl><span class=o>================================================================================</span>
</span></span><span class=line><span class=cl>Install       <span class=m>2</span> Package<span class=o>(</span>s<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Total download size: <span class=m>408</span> k
</span></span><span class=line><span class=cl>Installed size: 1.1 M
</span></span><span class=line><span class=cl>Downloading Packages:
</span></span><span class=line><span class=cl>--------------------------------------------------------------------------------
</span></span><span class=line><span class=cl>Total   2.5 MB/s <span class=p>|</span> <span class=m>408</span> kB     00:00
</span></span><span class=line><span class=cl>Running rpm_check_debug
</span></span><span class=line><span class=cl>Running Transaction Test
</span></span><span class=line><span class=cl>Transaction Test Succeeded
</span></span><span class=line><span class=cl>Running Transaction
</span></span><span class=line><span class=cl>  Installing : zip-3.0-1.el6_7.1.x86_64                 1/2
</span></span><span class=line><span class=cl>  Installing : unzip-6.0-2.el6_6.x86_64                 2/2
</span></span><span class=line><span class=cl>  Verifying  : unzip-6.0-2.el6_6.x86_64                 1/2
</span></span><span class=line><span class=cl>  Verifying  : zip-3.0-1.el6_7.1.x86_64                 2/2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Installed:
</span></span><span class=line><span class=cl>  unzip.x86_64 0:6.0-2.el6_6             zip.x86_64 0:3.0-1.el6_7.1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Complete!   <span class=c1>#安装成功</span></span></span></code></pre></td></tr></table></div></div><h3 class=heading-element id=查看ansible内置模块><span>查看ansible内置模块</span>
<a href=#%e6%9f%a5%e7%9c%8bansible%e5%86%85%e7%bd%ae%e6%a8%a1%e5%9d%97 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span><span class=lnt>184
</span><span class=lnt>185
</span><span class=lnt>186
</span><span class=lnt>187
</span><span class=lnt>188
</span><span class=lnt>189
</span><span class=lnt>190
</span><span class=lnt>191
</span><span class=lnt>192
</span><span class=lnt>193
</span><span class=lnt>194
</span><span class=lnt>195
</span><span class=lnt>196
</span><span class=lnt>197
</span><span class=lnt>198
</span><span class=lnt>199
</span><span class=lnt>200
</span><span class=lnt>201
</span><span class=lnt>202
</span><span class=lnt>203
</span><span class=lnt>204
</span><span class=lnt>205
</span><span class=lnt>206
</span><span class=lnt>207
</span><span class=lnt>208
</span><span class=lnt>209
</span><span class=lnt>210
</span><span class=lnt>211
</span><span class=lnt>212
</span><span class=lnt>213
</span><span class=lnt>214
</span><span class=lnt>215
</span><span class=lnt>216
</span><span class=lnt>217
</span><span class=lnt>218
</span><span class=lnt>219
</span><span class=lnt>220
</span><span class=lnt>221
</span><span class=lnt>222
</span><span class=lnt>223
</span><span class=lnt>224
</span><span class=lnt>225
</span><span class=lnt>226
</span><span class=lnt>227
</span><span class=lnt>228
</span><span class=lnt>229
</span><span class=lnt>230
</span><span class=lnt>231
</span><span class=lnt>232
</span><span class=lnt>233
</span><span class=lnt>234
</span><span class=lnt>235
</span><span class=lnt>236
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>ansible@node1 ~<span class=o>]</span>$ ansible-doc -l
</span></span><span class=line><span class=cl>acl                  Sets and retrieves file ACL information.
</span></span><span class=line><span class=cl>add_host             add a host <span class=o>(</span>and alternatively a group<span class=o>)</span> to the ansible-playbo
</span></span><span class=line><span class=cl>airbrake_deployment  Notify airbrake about app deployments
</span></span><span class=line><span class=cl>alternatives         Manages alternative programs <span class=k>for</span> common commands
</span></span><span class=line><span class=cl>apache2_module       enables/disables a module of the Apache2 webserver
</span></span><span class=line><span class=cl>apt                  Manages apt-packages
</span></span><span class=line><span class=cl>apt_key              Add or remove an apt key
</span></span><span class=line><span class=cl>apt_repository       Add and remove APT repositories
</span></span><span class=line><span class=cl>apt_rpm              apt_rpm package manager
</span></span><span class=line><span class=cl>arista_interface     Manage physical Ethernet interfaces
</span></span><span class=line><span class=cl>arista_l2interface   Manage layer <span class=m>2</span> interfaces
</span></span><span class=line><span class=cl>arista_lag           Manage port channel <span class=o>(</span>lag<span class=o>)</span> interfaces
</span></span><span class=line><span class=cl>arista_vlan          Manage VLAN resources
</span></span><span class=line><span class=cl>assemble             Assembles a configuration file from fragments
</span></span><span class=line><span class=cl>assert               Fail with custom message
</span></span><span class=line><span class=cl>at                   Schedule the execution of a <span class=nb>command</span> or script file via the a
</span></span><span class=line><span class=cl>authorized_key       Adds or removes an SSH authorized key
</span></span><span class=line><span class=cl>azure                create or terminate a virtual machine in azure
</span></span><span class=line><span class=cl>bigip_facts          Collect facts from F5 BIG-IP devices
</span></span><span class=line><span class=cl>bigip_monitor_http   Manages F5 BIG-IP LTM http monitors
</span></span><span class=line><span class=cl>bigip_monitor_tcp    Manages F5 BIG-IP LTM tcp monitors
</span></span><span class=line><span class=cl>bigip_node           Manages F5 BIG-IP LTM nodes
</span></span><span class=line><span class=cl>bigip_pool           Manages F5 BIG-IP LTM pools
</span></span><span class=line><span class=cl>bigip_pool_member    Manages F5 BIG-IP LTM pool members
</span></span><span class=line><span class=cl>boundary_meter       Manage boundary meters
</span></span><span class=line><span class=cl>bzr                  Deploy software <span class=o>(</span>or files<span class=o>)</span> from bzr branches
</span></span><span class=line><span class=cl>campfire             Send a message to Campfire
</span></span><span class=line><span class=cl>capabilities         Manage Linux capabilities
</span></span><span class=line><span class=cl>cloudformation       create a AWS CloudFormation stack
</span></span><span class=line><span class=cl><span class=nb>command</span>              Executes a <span class=nb>command</span> on a remote node
</span></span><span class=line><span class=cl>composer             Dependency Manager <span class=k>for</span> PHP
</span></span><span class=line><span class=cl>copy                 Copies files to remote locations.
</span></span><span class=line><span class=cl>cpanm                Manages Perl library dependencies.
</span></span><span class=line><span class=cl>cron                 Manage cron.d and crontab entries.
</span></span><span class=line><span class=cl>datadog_event        Posts events to DataDog  service
</span></span><span class=line><span class=cl>debconf              Configure a .deb package
</span></span><span class=line><span class=cl>debug                Print statements during execution
</span></span><span class=line><span class=cl>digital_ocean        Create/delete a droplet/SSH_key in DigitalOcean
</span></span><span class=line><span class=cl>digital_ocean_domain Create/delete a DNS record in DigitalOcean
</span></span><span class=line><span class=cl>digital_ocean_sshkey Create/delete an SSH key in DigitalOcean
</span></span><span class=line><span class=cl>django_manage        Manages a Django application.
</span></span><span class=line><span class=cl>dnsimple             Interface with dnsimple.com <span class=o>(</span>a DNS hosting service<span class=o>)</span>.
</span></span><span class=line><span class=cl>dnsmadeeasy          Interface with dnsmadeeasy.com <span class=o>(</span>a DNS hosting service<span class=o>)</span>.
</span></span><span class=line><span class=cl>docker               manage docker containers
</span></span><span class=line><span class=cl>docker_image         manage docker images
</span></span><span class=line><span class=cl>easy_install         Installs Python libraries
</span></span><span class=line><span class=cl>ec2                  create, terminate, start or stop an instance in ec2, <span class=k>return</span>
</span></span><span class=line><span class=cl>ec2_ami              create or destroy an image in ec2, <span class=k>return</span> imageid
</span></span><span class=line><span class=cl>ec2_ami_search       Retrieve AWS AMI <span class=k>for</span> a given operating system.
</span></span><span class=line><span class=cl>ec2_asg              Create or delete AWS Autoscaling Groups
</span></span><span class=line><span class=cl>ec2_eip              associate an EC2 elastic IP with an instance.
</span></span><span class=line><span class=cl>ec2_elb              De-registers or registers instances from EC2 ELBs
</span></span><span class=line><span class=cl>ec2_elb_lb           Creates or destroys Amazon ELB. - Returns information about
</span></span><span class=line><span class=cl>ec2_facts            Gathers facts about remote hosts within ec2 <span class=o>(</span>aws<span class=o>)</span>
</span></span><span class=line><span class=cl>ec2_group            maintain an ec2 VPC security group.
</span></span><span class=line><span class=cl>ec2_key              maintain an ec2 key pair.
</span></span><span class=line><span class=cl>ec2_lc               Create or delete AWS Autoscaling Launch Configurations
</span></span><span class=line><span class=cl>ec2_metric_alarm     Create/update or delete AWS Cloudwatch <span class=s1>&#39;metric alarms&#39;</span>
</span></span><span class=line><span class=cl>ec2_scaling_policy   Create or delete AWS scaling policies <span class=k>for</span> Autoscaling groups
</span></span><span class=line><span class=cl>ec2_snapshot         creates a snapshot from an existing volume
</span></span><span class=line><span class=cl>ec2_tag              create and remove tag<span class=o>(</span>s<span class=o>)</span> to ec2 resources.
</span></span><span class=line><span class=cl>ec2_vol              create and attach a volume, <span class=k>return</span> volume id and device map.
</span></span><span class=line><span class=cl>ec2_vpc              configure AWS virtual private clouds
</span></span><span class=line><span class=cl>ejabberd_user        Manages users <span class=k>for</span> ejabberd servers
</span></span><span class=line><span class=cl>elasticache          Manage cache clusters in Amazon Elasticache.
</span></span><span class=line><span class=cl>facter               Runs the discovery program <span class=sb>`</span>facter<span class=s1>&#39; on the remote system...
</span></span></span><span class=line><span class=cl><span class=s1>fail                 Fail with custom message
</span></span></span><span class=line><span class=cl><span class=s1>fetch                Fetches a file from remote nodes
</span></span></span><span class=line><span class=cl><span class=s1>file                 Sets attributes of files
</span></span></span><span class=line><span class=cl><span class=s1>filesystem           Makes file system on block device
</span></span></span><span class=line><span class=cl><span class=s1>fireball             Enable fireball mode on remote node
</span></span></span><span class=line><span class=cl><span class=s1>firewalld            Manage arbitrary ports/services with firewalld
</span></span></span><span class=line><span class=cl><span class=s1>flowdock             Send a message to a flowdock
</span></span></span><span class=line><span class=cl><span class=s1>gc_storage           This module manages objects/buckets in Google Cloud Storage.
</span></span></span><span class=line><span class=cl><span class=s1>gce                  create or terminate GCE instances
</span></span></span><span class=line><span class=cl><span class=s1>gce_lb               create/destroy GCE load-balancer resources
</span></span></span><span class=line><span class=cl><span class=s1>gce_net              create/destroy GCE networks and firewall rules
</span></span></span><span class=line><span class=cl><span class=s1>gce_pd               utilize GCE persistent disk resources
</span></span></span><span class=line><span class=cl><span class=s1>gem                  Manage Ruby gems
</span></span></span><span class=line><span class=cl><span class=s1>get_url              Downloads files from HTTP, HTTPS, or FTP to node
</span></span></span><span class=line><span class=cl><span class=s1>git                  Deploy software (or files) from git checkouts
</span></span></span><span class=line><span class=cl><span class=s1>github_hooks         Manages github service hooks.
</span></span></span><span class=line><span class=cl><span class=s1>glance_image         Add/Delete images from glance
</span></span></span><span class=line><span class=cl><span class=s1>group                Add or remove groups
</span></span></span><span class=line><span class=cl><span class=s1>group_by             Create Ansible groups based on facts
</span></span></span><span class=line><span class=cl><span class=s1>grove                Sends a notification to a grove.io channel
</span></span></span><span class=line><span class=cl><span class=s1>hg                   Manages Mercurial (hg) repositories.
</span></span></span><span class=line><span class=cl><span class=s1>hipchat              Send a message to hipchat
</span></span></span><span class=line><span class=cl><span class=s1>homebrew             Package manager for Homebrew
</span></span></span><span class=line><span class=cl><span class=s1>homebrew_cask        Install/uninstall homebrew casks.
</span></span></span><span class=line><span class=cl><span class=s1>homebrew_tap         Tap a Homebrew repository.
</span></span></span><span class=line><span class=cl><span class=s1>hostname             Manage hostname
</span></span></span><span class=line><span class=cl><span class=s1>htpasswd             manage user files for basic authentication
</span></span></span><span class=line><span class=cl><span class=s1>include_vars         Load variables from files, dynamically within a task.
</span></span></span><span class=line><span class=cl><span class=s1>ini_file             Tweak settings in INI files
</span></span></span><span class=line><span class=cl><span class=s1>irc                  Send a message to an IRC channel
</span></span></span><span class=line><span class=cl><span class=s1>jabber               Send a message to jabber user or chat room
</span></span></span><span class=line><span class=cl><span class=s1>jboss                deploy applications to JBoss
</span></span></span><span class=line><span class=cl><span class=s1>jira                 create and modify issues in a JIRA instance
</span></span></span><span class=line><span class=cl><span class=s1>kernel_blacklist     Blacklist kernel modules
</span></span></span><span class=line><span class=cl><span class=s1>keystone_user        Manage OpenStack Identity (keystone) users, tenants and role
</span></span></span><span class=line><span class=cl><span class=s1>layman               Manage Gentoo overlays
</span></span></span><span class=line><span class=cl><span class=s1>librato_annotation   create an annotation in librato
</span></span></span><span class=line><span class=cl><span class=s1>lineinfile           Ensure a particular line is in a file, or replace an existin
</span></span></span><span class=line><span class=cl><span class=s1>linode               create / delete / stop / restart an instance in Linode Publi
</span></span></span><span class=line><span class=cl><span class=s1>lldp                 get details reported by lldp
</span></span></span><span class=line><span class=cl><span class=s1>locale_gen           Creates of removes locales.
</span></span></span><span class=line><span class=cl><span class=s1>logentries           Module for tracking logs via logentries.com
</span></span></span><span class=line><span class=cl><span class=s1>lvg                  Configure LVM volume groups
</span></span></span><span class=line><span class=cl><span class=s1>lvol                 Configure LVM logical volumes
</span></span></span><span class=line><span class=cl><span class=s1>macports             Package manager for MacPorts
</span></span></span><span class=line><span class=cl><span class=s1>mail                 Send an email
</span></span></span><span class=line><span class=cl><span class=s1>modprobe             Add or remove kernel modules
</span></span></span><span class=line><span class=cl><span class=s1>mongodb_user         Adds or removes a user from a MongoDB database.
</span></span></span><span class=line><span class=cl><span class=s1>monit                Manage the state of a program monitored via Monit
</span></span></span><span class=line><span class=cl><span class=s1>mount                Control active and configured mount points
</span></span></span><span class=line><span class=cl><span class=s1>mqtt                 Publish a message on an MQTT topic for the IoT
</span></span></span><span class=line><span class=cl><span class=s1>mysql_db             Add or remove MySQL databases from a remote host.
</span></span></span><span class=line><span class=cl><span class=s1>mysql_replication    Manage MySQL replication
</span></span></span><span class=line><span class=cl><span class=s1>mysql_user           Adds or removes a user from a MySQL database.
</span></span></span><span class=line><span class=cl><span class=s1>mysql_variables      Manage MySQL global variables
</span></span></span><span class=line><span class=cl><span class=s1>nagios               Perform common tasks in Nagios related to downtime and notif
</span></span></span><span class=line><span class=cl><span class=s1>netscaler            Manages Citrix NetScaler entities
</span></span></span><span class=line><span class=cl><span class=s1>newrelic_deployment  Notify newrelic about app deployments
</span></span></span><span class=line><span class=cl><span class=s1>nexmo                Send a SMS via nexmo
</span></span></span><span class=line><span class=cl><span class=s1>nova_compute         Create/Delete VMs from OpenStack
</span></span></span><span class=line><span class=cl><span class=s1>nova_keypair         Add/Delete key pair from nova
</span></span></span><span class=line><span class=cl><span class=s1>npm                  Manage node.js packages with npm
</span></span></span><span class=line><span class=cl><span class=s1>ohai                 Returns inventory data from `Ohai&#39;</span>
</span></span><span class=line><span class=cl>open_iscsi           Manage iscsi targets with open-iscsi
</span></span><span class=line><span class=cl>openbsd_pkg          Manage packages on OpenBSD.
</span></span><span class=line><span class=cl>openvswitch_bridge   Manage Open vSwitch bridges
</span></span><span class=line><span class=cl>openvswitch_port     Manage Open vSwitch ports
</span></span><span class=line><span class=cl>opkg                 Package manager <span class=k>for</span> OpenWrt
</span></span><span class=line><span class=cl>osx_say              Makes an OSX computer to speak.
</span></span><span class=line><span class=cl>ovirt                oVirt/RHEV platform management
</span></span><span class=line><span class=cl>pacman               Manage packages with <span class=sb>`</span>pacman<span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>pagerduty            Create PagerDuty maintenance windows
</span></span></span><span class=line><span class=cl><span class=s1>pause                Pause playbook execution
</span></span></span><span class=line><span class=cl><span class=s1>ping                 Try to connect to host and return `pong&#39;</span> on success.
</span></span><span class=line><span class=cl>pingdom              Pause/unpause Pingdom alerts
</span></span><span class=line><span class=cl>pip                  Manages Python library dependencies.
</span></span><span class=line><span class=cl>pkgin                Package manager <span class=k>for</span> SmartOS
</span></span><span class=line><span class=cl>pkgng                Package manager <span class=k>for</span> FreeBSD &gt;<span class=o>=</span> 9.0
</span></span><span class=line><span class=cl>pkgutil              Manage CSW-Packages on Solaris
</span></span><span class=line><span class=cl>portage              Package manager <span class=k>for</span> Gentoo
</span></span><span class=line><span class=cl>portinstall          Installing packages from FreeBSD<span class=s1>&#39;s ports system
</span></span></span><span class=line><span class=cl><span class=s1>postgresql_db        Add or remove PostgreSQL databases from a remote host.
</span></span></span><span class=line><span class=cl><span class=s1>postgresql_privs     Grant or revoke privileges on PostgreSQL database objects...
</span></span></span><span class=line><span class=cl><span class=s1>postgresql_user      Adds or removes a users (roles) from a PostgreSQL database..
</span></span></span><span class=line><span class=cl><span class=s1>quantum_floating_ip  Add/Remove floating IP from an instance
</span></span></span><span class=line><span class=cl><span class=s1>quantum_floating_ip_associate Associate or disassociate a particular floating IP with an i
</span></span></span><span class=line><span class=cl><span class=s1>quantum_network      Creates/Removes networks from OpenStack
</span></span></span><span class=line><span class=cl><span class=s1>quantum_router       Create or Remove router from openstack
</span></span></span><span class=line><span class=cl><span class=s1>quantum_router_gateway set/unset a gateway interface for the router with the specif
</span></span></span><span class=line><span class=cl><span class=s1>quantum_router_interface Attach/Dettach a subnet&#39;</span>s interface to a router
</span></span><span class=line><span class=cl>quantum_subnet       Add/Remove floating IP from an instance
</span></span><span class=line><span class=cl>rabbitmq_parameter   Adds or removes parameters to RabbitMQ
</span></span><span class=line><span class=cl>rabbitmq_plugin      Adds or removes plugins to RabbitMQ
</span></span><span class=line><span class=cl>rabbitmq_policy      Manage the state of policies in RabbitMQ.
</span></span><span class=line><span class=cl>rabbitmq_user        Adds or removes users to RabbitMQ
</span></span><span class=line><span class=cl>rabbitmq_vhost       Manage the state of a virtual host in RabbitMQ
</span></span><span class=line><span class=cl>raw                  Executes a low-down and dirty SSH <span class=nb>command</span>
</span></span><span class=line><span class=cl>rax                  create / delete an instance in Rackspace Public Cloud
</span></span><span class=line><span class=cl>rax_cbs              Manipulate Rackspace Cloud Block Storage Volumes
</span></span><span class=line><span class=cl>rax_cbs_attachments  Manipulate Rackspace Cloud Block Storage Volume Attachments.
</span></span><span class=line><span class=cl>rax_clb              create / delete a load balancer in Rackspace Public Cloud...
</span></span><span class=line><span class=cl>rax_clb_nodes        add, modify and remove nodes from a Rackspace Cloud Load Bal
</span></span><span class=line><span class=cl>rax_dns              Manage domains on Rackspace Cloud DNS
</span></span><span class=line><span class=cl>rax_dns_record       Manage DNS records on Rackspace Cloud DNS
</span></span><span class=line><span class=cl>rax_facts            Gather facts <span class=k>for</span> Rackspace Cloud Servers
</span></span><span class=line><span class=cl>rax_files            Manipulate Rackspace Cloud Files Containers
</span></span><span class=line><span class=cl>rax_files_objects    Upload, download, and delete objects in Rackspace Cloud File
</span></span><span class=line><span class=cl>rax_identity         Load Rackspace Cloud Identity
</span></span><span class=line><span class=cl>rax_keypair          Create a keypair <span class=k>for</span> use with Rackspace Cloud Servers
</span></span><span class=line><span class=cl>rax_meta             Manipulate metadata <span class=k>for</span> Rackspace Cloud Servers
</span></span><span class=line><span class=cl>rax_network          create / delete an isolated network in Rackspace Public Clou
</span></span><span class=line><span class=cl>rax_queue            create / delete a queue in Rackspace Public Cloud
</span></span><span class=line><span class=cl>rax_scaling_group    Manipulate Rackspace Cloud Autoscale Groups
</span></span><span class=line><span class=cl>rax_scaling_policy   Manipulate Rackspace Cloud Autoscale Scaling Policy
</span></span><span class=line><span class=cl>rds                  create, delete, or modify an Amazon rds instance
</span></span><span class=line><span class=cl>rds_param_group      manage RDS parameter groups
</span></span><span class=line><span class=cl>rds_subnet_group     manage RDS database subnet groups
</span></span><span class=line><span class=cl>redhat_subscription  Manage Red Hat Network registration and subscriptions using
</span></span><span class=line><span class=cl>redis                Various redis commands, slave and flush
</span></span><span class=line><span class=cl>replace              Replace all instances of a particular string in a file using
</span></span><span class=line><span class=cl>rhn_channel          Adds or removes Red Hat software channels
</span></span><span class=line><span class=cl>rhn_register         Manage Red Hat Network registration using the <span class=sb>`</span>rhnreg_ks<span class=s1>&#39; co
</span></span></span><span class=line><span class=cl><span class=s1>riak                 This module handles some common Riak operations
</span></span></span><span class=line><span class=cl><span class=s1>rollbar_deployment   Notify Rollbar about app deployments
</span></span></span><span class=line><span class=cl><span class=s1>route53              add or delete entries in Amazons Route53 DNS service
</span></span></span><span class=line><span class=cl><span class=s1>rpm_key              Adds or removes a gpg key from the rpm db
</span></span></span><span class=line><span class=cl><span class=s1>s3                   idempotent S3 module putting a file into S3.
</span></span></span><span class=line><span class=cl><span class=s1>script               Runs a local script on a remote node after transferring it..
</span></span></span><span class=line><span class=cl><span class=s1>seboolean            Toggles SELinux booleans.
</span></span></span><span class=line><span class=cl><span class=s1>selinux              Change policy and state of SELinux
</span></span></span><span class=line><span class=cl><span class=s1>service              Manage services.
</span></span></span><span class=line><span class=cl><span class=s1>set_fact             Set host facts from a task
</span></span></span><span class=line><span class=cl><span class=s1>setup                Gathers facts about remote hosts
</span></span></span><span class=line><span class=cl><span class=s1>shell                Execute commands in nodes.
</span></span></span><span class=line><span class=cl><span class=s1>slack                Send Slack notifications
</span></span></span><span class=line><span class=cl><span class=s1>slurp                Slurps a file from remote nodes
</span></span></span><span class=line><span class=cl><span class=s1>sns                  Send Amazon Simple Notification Service (SNS) messages
</span></span></span><span class=line><span class=cl><span class=s1>stackdriver          Send code deploy and annotation events to stackdriver
</span></span></span><span class=line><span class=cl><span class=s1>stat                 retrieve file or file system status
</span></span></span><span class=line><span class=cl><span class=s1>subversion           Deploys a subversion repository.
</span></span></span><span class=line><span class=cl><span class=s1>supervisorctl        Manage the state of a program or group of programs running v
</span></span></span><span class=line><span class=cl><span class=s1>svr4pkg              Manage Solaris SVR4 packages
</span></span></span><span class=line><span class=cl><span class=s1>swdepot              Manage packages with swdepot package manager (HP-UX)
</span></span></span><span class=line><span class=cl><span class=s1>synchronize          Uses rsync to make synchronizing file paths in your playbook
</span></span></span><span class=line><span class=cl><span class=s1>sysctl               Manage entries in sysctl.conf.
</span></span></span><span class=line><span class=cl><span class=s1>template             Templates a file out to a remote server.
</span></span></span><span class=line><span class=cl><span class=s1>twilio               Sends a text message to a mobile phone through Twilio.
</span></span></span><span class=line><span class=cl><span class=s1>typetalk             Send a message to typetalk
</span></span></span><span class=line><span class=cl><span class=s1>ufw                  Manage firewall with UFW
</span></span></span><span class=line><span class=cl><span class=s1>unarchive            Copies an archive to a remote location and unpack it
</span></span></span><span class=line><span class=cl><span class=s1>uri                  Interacts with webservices
</span></span></span><span class=line><span class=cl><span class=s1>urpmi                Urpmi manager
</span></span></span><span class=line><span class=cl><span class=s1>user                 Manage user accounts
</span></span></span><span class=line><span class=cl><span class=s1>virt                 Manages virtual machines supported by libvirt
</span></span></span><span class=line><span class=cl><span class=s1>vsphere_guest        Create/delete/manage a guest VM through VMware vSphere.
</span></span></span><span class=line><span class=cl><span class=s1>wait_for             Waits for a condition before continuing.
</span></span></span><span class=line><span class=cl><span class=s1>win_feature          Installs and uninstalls Windows Features
</span></span></span><span class=line><span class=cl><span class=s1>win_get_url          Fetches a file from a given URL
</span></span></span><span class=line><span class=cl><span class=s1>win_group            Add and remove local groups
</span></span></span><span class=line><span class=cl><span class=s1>win_msi              Installs and uninstalls Windows MSI files
</span></span></span><span class=line><span class=cl><span class=s1>win_ping             A windows version of the classic ping module.
</span></span></span><span class=line><span class=cl><span class=s1>win_service          Manages Windows services
</span></span></span><span class=line><span class=cl><span class=s1>win_stat             returns information about a Windows file
</span></span></span><span class=line><span class=cl><span class=s1>win_user             Manages local Windows user accounts
</span></span></span><span class=line><span class=cl><span class=s1>xattr                set/retrieve extended attributes
</span></span></span><span class=line><span class=cl><span class=s1>yum                  Manages packages with the `yum&#39;</span> package manager
</span></span><span class=line><span class=cl>zfs                  Manage zfs
</span></span><span class=line><span class=cl>zypper               Manage packages on SuSE and openSuSE
</span></span><span class=line><span class=cl>zypper_repository    Add and remove Zypper repositories</span></span></code></pre></td></tr></table></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="Updated on 2026-01-04 02:27:45">Updated on 2026-01-04&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/posts/7b524d8e/index.md title="Read Markdown" class=link-to-markdown>Read Markdown</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on X" data-sharer=twitter data-url=https://w23ta0.github.io/posts/7b524d8e/ data-title=Ansible安装及使用 data-hashtags=devops,ansible><i class="fa-brands fa-x-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://w23ta0.github.io/posts/7b524d8e/ data-hashtag=devops><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://w23ta0.github.io/posts/7b524d8e/ data-title=Ansible安装及使用><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/devops/ class=post-tag title="Tags - Devops">Devops</a><a href=/tags/ansible/ class=post-tag title="Tags - Ansible">Ansible</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/3123c592/ class=post-nav-item rel=prev title="XAMPP 和 VMWare 的端口443冲突的解决"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>XAMPP 和 VMWare 的端口443冲突的解决</a><a href=/posts/d14dfb/ class=post-nav-item rel=next title="解决Office 2010安装错误:1402">解决Office 2010安装错误:1402<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=giscus class=comment><script src=https://giscus.app/client.js data-repo=w23ta0/w23ta0.github.io data-repo-id=R_kgDOOErTJA data-category=Announcements data-category-id=DIC_kwDOOErTJM4CnrNF data-mapping=pathname data-strict=0 data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=zh-CN data-loading=lazy crossorigin=anonymous async defer></script></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></article><aside class=toc id=toc-auto aria-label=Contents><h2 class=toc-title>Contents&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside></main><footer class=footer><div class=footer-container><div class="footer-line powered">Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.154.2"><img class=hugo-icon src=/images/hugo.min.svg alt="Hugo logo"> Hugo</a> | Theme - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.3.20"><img class=fixit-icon src=/images/fixit.min.svg alt="FixIt logo"> FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2012 - 2026</span><span class=author itemprop=copyrightHolder>
<a href=https://github.com/w23ta0 target=_blank rel="external nofollow noopener noreferrer">w23ta0</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0</a></span></div><div class="footer-line visitor"><span id=busuanzi_container_site_uv title='Total visitors'><i class="fa-regular fa-user fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_site_uv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span><span id=busuanzi_container_site_pv class=footer-divider title='Total visits'><i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_site_pv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label="Back to Top"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label="View Comments"><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>This website works best with JavaScript enabled.</div></noscript></div><link rel=preload href=/lib/katex/katex.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/katex/katex.min.css></noscript><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script src=/js/flyfish.min.js defer></script><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/fuse/fuse.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script src=https://vercount.one/js async defer></script><script>window.config={code:{copyTitle:"Copy to clipboard",editLockTitle:"Lock editable code block",editUnLockTitle:"Unlock editable code block",editable:!0,maxShownLines:10},comment:{enable:!0,expired:!1,giscus:{darkTheme:"dark",lightTheme:"light",origin:"https://giscus.app"}},cookieconsent:{content:{dismiss:"Got it!",link:"Learn more",message:"This website uses Cookies to improve your experience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/search.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"No results found",snippetLength:30,threshold:.3,type:"fuse",useExtendedSearch:!1},version:"v0.3.20"}</script><script src=/js/theme.min.js defer></script><script src=/js/custom.min.js defer></script></body></html>